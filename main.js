/*!For license information please see main.1709821942214.bundle.js.LICENSE.txt*/
(()=>{
    var t = {
        805: t=>{
            "use strict";
            var e = Object.prototype.hasOwnProperty
              , n = "~";
            function r() {}
            function i(t, e, n) {
                this.fn = t,
                this.context = e,
                this.once = n || !1
            }
            function o(t, e, r, o, s) {
                if ("function" != typeof r)
                    throw new TypeError("The listener must be a function");
                var a = new i(r,o || t,s)
                  , u = n ? n + e : e;
                return t._events[u] ? t._events[u].fn ? t._events[u] = [t._events[u], a] : t._events[u].push(a) : (t._events[u] = a,
                t._eventsCount++),
                t
            }
            function s(t, e) {
                0 == --t._eventsCount ? t._events = new r : delete t._events[e]
            }
            function a() {
                this._events = new r,
                this._eventsCount = 0
            }
            Object.create && (r.prototype = Object.create(null),
            (new r).__proto__ || (n = !1)),
            a.prototype.eventNames = function() {
                var t, r, i = [];
                if (0 === this._eventsCount)
                    return i;
                for (r in t = this._events)
                    e.call(t, r) && i.push(n ? r.slice(1) : r);
                return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(t)) : i
            }
            ,
            a.prototype.listeners = function(t) {
                var e = n ? n + t : t
                  , r = this._events[e];
                if (!r)
                    return [];
                if (r.fn)
                    return [r.fn];
                for (var i = 0, o = r.length, s = new Array(o); i < o; i++)
                    s[i] = r[i].fn;
                return s
            }
            ,
            a.prototype.listenerCount = function(t) {
                var e = n ? n + t : t
                  , r = this._events[e];
                return r ? r.fn ? 1 : r.length : 0
            }
            ,
            a.prototype.emit = function(t, e, r, i, o, s) {
                var a = n ? n + t : t;
                if (!this._events[a])
                    return !1;
                var u, h, l = this._events[a], c = arguments.length;
                if (l.fn) {
                    switch (l.once && this.removeListener(t, l.fn, void 0, !0),
                    c) {
                    case 1:
                        return l.fn.call(l.context),
                        !0;
                    case 2:
                        return l.fn.call(l.context, e),
                        !0;
                    case 3:
                        return l.fn.call(l.context, e, r),
                        !0;
                    case 4:
                        return l.fn.call(l.context, e, r, i),
                        !0;
                    case 5:
                        return l.fn.call(l.context, e, r, i, o),
                        !0;
                    case 6:
                        return l.fn.call(l.context, e, r, i, o, s),
                        !0
                    }
                    for (h = 1,
                    u = new Array(c - 1); h < c; h++)
                        u[h - 1] = arguments[h];
                    l.fn.apply(l.context, u)
                } else {
                    var d, p = l.length;
                    for (h = 0; h < p; h++)
                        switch (l[h].once && this.removeListener(t, l[h].fn, void 0, !0),
                        c) {
                        case 1:
                            l[h].fn.call(l[h].context);
                            break;
                        case 2:
                            l[h].fn.call(l[h].context, e);
                            break;
                        case 3:
                            l[h].fn.call(l[h].context, e, r);
                            break;
                        case 4:
                            l[h].fn.call(l[h].context, e, r, i);
                            break;
                        default:
                            if (!u)
                                for (d = 1,
                                u = new Array(c - 1); d < c; d++)
                                    u[d - 1] = arguments[d];
                            l[h].fn.apply(l[h].context, u)
                        }
                }
                return !0
            }
            ,
            a.prototype.on = function(t, e, n) {
                return o(this, t, e, n, !1)
            }
            ,
            a.prototype.once = function(t, e, n) {
                return o(this, t, e, n, !0)
            }
            ,
            a.prototype.removeListener = function(t, e, r, i) {
                var o = n ? n + t : t;
                if (!this._events[o])
                    return this;
                if (!e)
                    return s(this, o),
                    this;
                var a = this._events[o];
                if (a.fn)
                    a.fn !== e || i && !a.once || r && a.context !== r || s(this, o);
                else {
                    for (var u = 0, h = [], l = a.length; u < l; u++)
                        (a[u].fn !== e || i && !a[u].once || r && a[u].context !== r) && h.push(a[u]);
                    h.length ? this._events[o] = 1 === h.length ? h[0] : h : s(this, o)
                }
                return this
            }
            ,
            a.prototype.removeAllListeners = function(t) {
                var e;
                return t ? (e = n ? n + t : t,
                this._events[e] && s(this, e)) : (this._events = new r,
                this._eventsCount = 0),
                this
            }
            ,
            a.prototype.off = a.prototype.removeListener,
            a.prototype.addListener = a.prototype.on,
            a.prefixed = n,
            a.EventEmitter = a,
            t.exports = a
        }
        ,
        502: t=>{
            "use strict";
            function e(t, e, r) {
                r = r || 2;
                var o, s, a, u, c, d, f, m = e && e.length, _ = m ? e[0] * r : t.length, v = n(t, 0, _, r, !0), g = [];
                if (!v || v.next === v.prev)
                    return g;
                if (m && (v = function(t, e, r, i) {
                    var o, s, a, u = [];
                    for (o = 0,
                    s = e.length; o < s; o++)
                        (a = n(t, e[o] * i, o < s - 1 ? e[o + 1] * i : t.length, i, !1)) === a.next && (a.steiner = !0),
                        u.push(p(a));
                    for (u.sort(h),
                    o = 0; o < u.length; o++)
                        r = l(u[o], r);
                    return r
                }(t, e, v, r)),
                t.length > 80 * r) {
                    o = a = t[0],
                    s = u = t[1];
                    for (var y = r; y < _; y += r)
                        (c = t[y]) < o && (o = c),
                        (d = t[y + 1]) < s && (s = d),
                        c > a && (a = c),
                        d > u && (u = d);
                    f = 0 !== (f = Math.max(a - o, u - s)) ? 32767 / f : 0
                }
                return i(v, g, r, o, s, f, 0),
                g
            }
            function n(t, e, n, r, i) {
                var o, s;
                if (i === w(t, e, n, r) > 0)
                    for (o = e; o < n; o += r)
                        s = E(o, t[o], t[o + 1], s);
                else
                    for (o = n - r; o >= e; o -= r)
                        s = E(o, t[o], t[o + 1], s);
                return s && v(s, s.next) && (A(s),
                s = s.next),
                s
            }
            function r(t, e) {
                if (!t)
                    return t;
                e || (e = t);
                var n, r = t;
                do {
                    if (n = !1,
                    r.steiner || !v(r, r.next) && 0 !== _(r.prev, r, r.next))
                        r = r.next;
                    else {
                        if (A(r),
                        (r = e = r.prev) === r.next)
                            break;
                        n = !0
                    }
                } while (n || r !== e);
                return e
            }
            function i(t, e, n, h, l, c, p) {
                if (t) {
                    !p && c && function(t, e, n, r) {
                        var i = t;
                        do {
                            0 === i.z && (i.z = d(i.x, i.y, e, n, r)),
                            i.prevZ = i.prev,
                            i.nextZ = i.next,
                            i = i.next
                        } while (i !== t);
                        i.prevZ.nextZ = null,
                        i.prevZ = null,
                        function(t) {
                            var e, n, r, i, o, s, a, u, h = 1;
                            do {
                                for (n = t,
                                t = null,
                                o = null,
                                s = 0; n; ) {
                                    for (s++,
                                    r = n,
                                    a = 0,
                                    e = 0; e < h && (a++,
                                    r = r.nextZ); e++)
                                        ;
                                    for (u = h; a > 0 || u > 0 && r; )
                                        0 !== a && (0 === u || !r || n.z <= r.z) ? (i = n,
                                        n = n.nextZ,
                                        a--) : (i = r,
                                        r = r.nextZ,
                                        u--),
                                        o ? o.nextZ = i : t = i,
                                        i.prevZ = o,
                                        o = i;
                                    n = r
                                }
                                o.nextZ = null,
                                h *= 2
                            } while (s > 1)
                        }(i)
                    }(t, h, l, c);
                    for (var f, m, _ = t; t.prev !== t.next; )
                        if (f = t.prev,
                        m = t.next,
                        c ? s(t, h, l, c) : o(t))
                            e.push(f.i / n | 0),
                            e.push(t.i / n | 0),
                            e.push(m.i / n | 0),
                            A(t),
                            t = m.next,
                            _ = m.next;
                        else if ((t = m) === _) {
                            p ? 1 === p ? i(t = a(r(t), e, n), e, n, h, l, c, 2) : 2 === p && u(t, e, n, h, l, c) : i(r(t), e, n, h, l, c, 1);
                            break
                        }
                }
            }
            function o(t) {
                var e = t.prev
                  , n = t
                  , r = t.next;
                if (_(e, n, r) >= 0)
                    return !1;
                for (var i = e.x, o = n.x, s = r.x, a = e.y, u = n.y, h = r.y, l = i < o ? i < s ? i : s : o < s ? o : s, c = a < u ? a < h ? a : h : u < h ? u : h, d = i > o ? i > s ? i : s : o > s ? o : s, p = a > u ? a > h ? a : h : u > h ? u : h, m = r.next; m !== e; ) {
                    if (m.x >= l && m.x <= d && m.y >= c && m.y <= p && f(i, a, o, u, s, h, m.x, m.y) && _(m.prev, m, m.next) >= 0)
                        return !1;
                    m = m.next
                }
                return !0
            }
            function s(t, e, n, r) {
                var i = t.prev
                  , o = t
                  , s = t.next;
                if (_(i, o, s) >= 0)
                    return !1;
                for (var a = i.x, u = o.x, h = s.x, l = i.y, c = o.y, p = s.y, m = a < u ? a < h ? a : h : u < h ? u : h, v = l < c ? l < p ? l : p : c < p ? c : p, g = a > u ? a > h ? a : h : u > h ? u : h, y = l > c ? l > p ? l : p : c > p ? c : p, b = d(m, v, e, n, r), x = d(g, y, e, n, r), T = t.prevZ, E = t.nextZ; T && T.z >= b && E && E.z <= x; ) {
                    if (T.x >= m && T.x <= g && T.y >= v && T.y <= y && T !== i && T !== s && f(a, l, u, c, h, p, T.x, T.y) && _(T.prev, T, T.next) >= 0)
                        return !1;
                    if (T = T.prevZ,
                    E.x >= m && E.x <= g && E.y >= v && E.y <= y && E !== i && E !== s && f(a, l, u, c, h, p, E.x, E.y) && _(E.prev, E, E.next) >= 0)
                        return !1;
                    E = E.nextZ
                }
                for (; T && T.z >= b; ) {
                    if (T.x >= m && T.x <= g && T.y >= v && T.y <= y && T !== i && T !== s && f(a, l, u, c, h, p, T.x, T.y) && _(T.prev, T, T.next) >= 0)
                        return !1;
                    T = T.prevZ
                }
                for (; E && E.z <= x; ) {
                    if (E.x >= m && E.x <= g && E.y >= v && E.y <= y && E !== i && E !== s && f(a, l, u, c, h, p, E.x, E.y) && _(E.prev, E, E.next) >= 0)
                        return !1;
                    E = E.nextZ
                }
                return !0
            }
            function a(t, e, n) {
                var i = t;
                do {
                    var o = i.prev
                      , s = i.next.next;
                    !v(o, s) && g(o, i, i.next, s) && x(o, s) && x(s, o) && (e.push(o.i / n | 0),
                    e.push(i.i / n | 0),
                    e.push(s.i / n | 0),
                    A(i),
                    A(i.next),
                    i = t = s),
                    i = i.next
                } while (i !== t);
                return r(i)
            }
            function u(t, e, n, o, s, a) {
                var u = t;
                do {
                    for (var h = u.next.next; h !== u.prev; ) {
                        if (u.i !== h.i && m(u, h)) {
                            var l = T(u, h);
                            return u = r(u, u.next),
                            l = r(l, l.next),
                            i(u, e, n, o, s, a, 0),
                            void i(l, e, n, o, s, a, 0)
                        }
                        h = h.next
                    }
                    u = u.next
                } while (u !== t)
            }
            function h(t, e) {
                return t.x - e.x
            }
            function l(t, e) {
                var n = function(t, e) {
                    var n, r = e, i = t.x, o = t.y, s = -1 / 0;
                    do {
                        if (o <= r.y && o >= r.next.y && r.next.y !== r.y) {
                            var a = r.x + (o - r.y) * (r.next.x - r.x) / (r.next.y - r.y);
                            if (a <= i && a > s && (s = a,
                            n = r.x < r.next.x ? r : r.next,
                            a === i))
                                return n
                        }
                        r = r.next
                    } while (r !== e);
                    if (!n)
                        return null;
                    var u, h = n, l = n.x, d = n.y, p = 1 / 0;
                    r = n;
                    do {
                        i >= r.x && r.x >= l && i !== r.x && f(o < d ? i : s, o, l, d, o < d ? s : i, o, r.x, r.y) && (u = Math.abs(o - r.y) / (i - r.x),
                        x(r, t) && (u < p || u === p && (r.x > n.x || r.x === n.x && c(n, r))) && (n = r,
                        p = u)),
                        r = r.next
                    } while (r !== h);
                    return n
                }(t, e);
                if (!n)
                    return e;
                var i = T(n, t);
                return r(i, i.next),
                r(n, n.next)
            }
            function c(t, e) {
                return _(t.prev, t, e.prev) < 0 && _(e.next, t, t.next) < 0
            }
            function d(t, e, n, r, i) {
                return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = (t - n) * i | 0) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = (e - r) * i | 0) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1
            }
            function p(t) {
                var e = t
                  , n = t;
                do {
                    (e.x < n.x || e.x === n.x && e.y < n.y) && (n = e),
                    e = e.next
                } while (e !== t);
                return n
            }
            function f(t, e, n, r, i, o, s, a) {
                return (i - s) * (e - a) >= (t - s) * (o - a) && (t - s) * (r - a) >= (n - s) * (e - a) && (n - s) * (o - a) >= (i - s) * (r - a)
            }
            function m(t, e) {
                return t.next.i !== e.i && t.prev.i !== e.i && !function(t, e) {
                    var n = t;
                    do {
                        if (n.i !== t.i && n.next.i !== t.i && n.i !== e.i && n.next.i !== e.i && g(n, n.next, t, e))
                            return !0;
                        n = n.next
                    } while (n !== t);
                    return !1
                }(t, e) && (x(t, e) && x(e, t) && function(t, e) {
                    var n = t
                      , r = !1
                      , i = (t.x + e.x) / 2
                      , o = (t.y + e.y) / 2;
                    do {
                        n.y > o != n.next.y > o && n.next.y !== n.y && i < (n.next.x - n.x) * (o - n.y) / (n.next.y - n.y) + n.x && (r = !r),
                        n = n.next
                    } while (n !== t);
                    return r
                }(t, e) && (_(t.prev, t, e.prev) || _(t, e.prev, e)) || v(t, e) && _(t.prev, t, t.next) > 0 && _(e.prev, e, e.next) > 0)
            }
            function _(t, e, n) {
                return (e.y - t.y) * (n.x - e.x) - (e.x - t.x) * (n.y - e.y)
            }
            function v(t, e) {
                return t.x === e.x && t.y === e.y
            }
            function g(t, e, n, r) {
                var i = b(_(t, e, n))
                  , o = b(_(t, e, r))
                  , s = b(_(n, r, t))
                  , a = b(_(n, r, e));
                return i !== o && s !== a || !(0 !== i || !y(t, n, e)) || !(0 !== o || !y(t, r, e)) || !(0 !== s || !y(n, t, r)) || !(0 !== a || !y(n, e, r))
            }
            function y(t, e, n) {
                return e.x <= Math.max(t.x, n.x) && e.x >= Math.min(t.x, n.x) && e.y <= Math.max(t.y, n.y) && e.y >= Math.min(t.y, n.y)
            }
            function b(t) {
                return t > 0 ? 1 : t < 0 ? -1 : 0
            }
            function x(t, e) {
                return _(t.prev, t, t.next) < 0 ? _(t, e, t.next) >= 0 && _(t, t.prev, e) >= 0 : _(t, e, t.prev) < 0 || _(t, t.next, e) < 0
            }
            function T(t, e) {
                var n = new S(t.i,t.x,t.y)
                  , r = new S(e.i,e.x,e.y)
                  , i = t.next
                  , o = e.prev;
                return t.next = e,
                e.prev = t,
                n.next = i,
                i.prev = n,
                r.next = n,
                n.prev = r,
                o.next = r,
                r.prev = o,
                r
            }
            function E(t, e, n, r) {
                var i = new S(t,e,n);
                return r ? (i.next = r.next,
                i.prev = r,
                r.next.prev = i,
                r.next = i) : (i.prev = i,
                i.next = i),
                i
            }
            function A(t) {
                t.next.prev = t.prev,
                t.prev.next = t.next,
                t.prevZ && (t.prevZ.nextZ = t.nextZ),
                t.nextZ && (t.nextZ.prevZ = t.prevZ)
            }
            function S(t, e, n) {
                this.i = t,
                this.x = e,
                this.y = n,
                this.prev = null,
                this.next = null,
                this.z = 0,
                this.prevZ = null,
                this.nextZ = null,
                this.steiner = !1
            }
            function w(t, e, n, r) {
                for (var i = 0, o = e, s = n - r; o < n; o += r)
                    i += (t[s] - t[o]) * (t[o + 1] + t[s + 1]),
                    s = o;
                return i
            }
            t.exports = e,
            t.exports.default = e,
            e.deviation = function(t, e, n, r) {
                var i = e && e.length
                  , o = i ? e[0] * n : t.length
                  , s = Math.abs(w(t, 0, o, n));
                if (i)
                    for (var a = 0, u = e.length; a < u; a++) {
                        var h = e[a] * n
                          , l = a < u - 1 ? e[a + 1] * n : t.length;
                        s -= Math.abs(w(t, h, l, n))
                    }
                var c = 0;
                for (a = 0; a < r.length; a += 3) {
                    var d = r[a] * n
                      , p = r[a + 1] * n
                      , f = r[a + 2] * n;
                    c += Math.abs((t[d] - t[f]) * (t[p + 1] - t[d + 1]) - (t[d] - t[p]) * (t[f + 1] - t[d + 1]))
                }
                return 0 === s && 0 === c ? 0 : Math.abs((c - s) / s)
            }
            ,
            e.flatten = function(t) {
                for (var e = t[0][0].length, n = {
                    vertices: [],
                    holes: [],
                    dimensions: e
                }, r = 0, i = 0; i < t.length; i++) {
                    for (var o = 0; o < t[i].length; o++)
                        for (var s = 0; s < e; s++)
                            n.vertices.push(t[i][o][s]);
                    i > 0 && (r += t[i - 1].length,
                    n.holes.push(r))
                }
                return n
            }
        }
        ,
        81: (t,e,n)=>{
            var r;
            !function() {
                "use strict";
                var i = function() {
                    this.init()
                };
                i.prototype = {
                    init: function() {
                        var t = this || o;
                        return t._counter = 1e3,
                        t._html5AudioPool = [],
                        t.html5PoolSize = 10,
                        t._codecs = {},
                        t._howls = [],
                        t._muted = !1,
                        t._volume = 1,
                        t._canPlayEvent = "canplaythrough",
                        t._navigator = "undefined" != typeof window && window.navigator ? window.navigator : null,
                        t.masterGain = null,
                        t.noAudio = !1,
                        t.usingWebAudio = !0,
                        t.autoSuspend = !0,
                        t.ctx = null,
                        t.autoUnlock = !0,
                        t._setup(),
                        t
                    },
                    volume: function(t) {
                        var e = this || o;
                        if (t = parseFloat(t),
                        e.ctx || p(),
                        void 0 !== t && t >= 0 && t <= 1) {
                            if (e._volume = t,
                            e._muted)
                                return e;
                            e.usingWebAudio && e.masterGain.gain.setValueAtTime(t, o.ctx.currentTime);
                            for (var n = 0; n < e._howls.length; n++)
                                if (!e._howls[n]._webAudio)
                                    for (var r = e._howls[n]._getSoundIds(), i = 0; i < r.length; i++) {
                                        var s = e._howls[n]._soundById(r[i]);
                                        s && s._node && (s._node.volume = s._volume * t)
                                    }
                            return e
                        }
                        return e._volume
                    },
                    mute: function(t) {
                        var e = this || o;
                        e.ctx || p(),
                        e._muted = t,
                        e.usingWebAudio && e.masterGain.gain.setValueAtTime(t ? 0 : e._volume, o.ctx.currentTime);
                        for (var n = 0; n < e._howls.length; n++)
                            if (!e._howls[n]._webAudio)
                                for (var r = e._howls[n]._getSoundIds(), i = 0; i < r.length; i++) {
                                    var s = e._howls[n]._soundById(r[i]);
                                    s && s._node && (s._node.muted = !!t || s._muted)
                                }
                        return e
                    },
                    stop: function() {
                        for (var t = this || o, e = 0; e < t._howls.length; e++)
                            t._howls[e].stop();
                        return t
                    },
                    unload: function() {
                        for (var t = this || o, e = t._howls.length - 1; e >= 0; e--)
                            t._howls[e].unload();
                        return t.usingWebAudio && t.ctx && void 0 !== t.ctx.close && (t.ctx.close(),
                        t.ctx = null,
                        p()),
                        t
                    },
                    codecs: function(t) {
                        return (this || o)._codecs[t.replace(/^x-/, "")]
                    },
                    _setup: function() {
                        var t = this || o;
                        if (t.state = t.ctx && t.ctx.state || "suspended",
                        t._autoSuspend(),
                        !t.usingWebAudio)
                            if ("undefined" != typeof Audio)
                                try {
                                    void 0 === (new Audio).oncanplaythrough && (t._canPlayEvent = "canplay")
                                } catch (e) {
                                    t.noAudio = !0
                                }
                            else
                                t.noAudio = !0;
                        try {
                            (new Audio).muted && (t.noAudio = !0)
                        } catch (t) {}
                        return t.noAudio || t._setupCodecs(),
                        t
                    },
                    _setupCodecs: function() {
                        var t = this || o
                          , e = null;
                        try {
                            e = "undefined" != typeof Audio ? new Audio : null
                        } catch (e) {
                            return t
                        }
                        if (!e || "function" != typeof e.canPlayType)
                            return t;
                        var n = e.canPlayType("audio/mpeg;").replace(/^no$/, "")
                          , r = t._navigator ? t._navigator.userAgent : ""
                          , i = r.match(/OPR\/([0-6].)/g)
                          , s = i && parseInt(i[0].split("/")[1], 10) < 33
                          , a = -1 !== r.indexOf("Safari") && -1 === r.indexOf("Chrome")
                          , u = r.match(/Version\/(.*?) /)
                          , h = a && u && parseInt(u[1], 10) < 15;
                        return t._codecs = {
                            mp3: !(s || !n && !e.canPlayType("audio/mp3;").replace(/^no$/, "")),
                            mpeg: !!n,
                            opus: !!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
                            ogg: !!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                            oga: !!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                            wav: !!(e.canPlayType('audio/wav; codecs="1"') || e.canPlayType("audio/wav")).replace(/^no$/, ""),
                            aac: !!e.canPlayType("audio/aac;").replace(/^no$/, ""),
                            caf: !!e.canPlayType("audio/x-caf;").replace(/^no$/, ""),
                            m4a: !!(e.canPlayType("audio/x-m4a;") || e.canPlayType("audio/m4a;") || e.canPlayType("audio/aac;")).replace(/^no$/, ""),
                            m4b: !!(e.canPlayType("audio/x-m4b;") || e.canPlayType("audio/m4b;") || e.canPlayType("audio/aac;")).replace(/^no$/, ""),
                            mp4: !!(e.canPlayType("audio/x-mp4;") || e.canPlayType("audio/mp4;") || e.canPlayType("audio/aac;")).replace(/^no$/, ""),
                            weba: !(h || !e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
                            webm: !(h || !e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
                            dolby: !!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
                            flac: !!(e.canPlayType("audio/x-flac;") || e.canPlayType("audio/flac;")).replace(/^no$/, "")
                        },
                        t
                    },
                    _unlockAudio: function() {
                        var t = this || o;
                        if (!t._audioUnlocked && t.ctx) {
                            t._audioUnlocked = !1,
                            t.autoUnlock = !1,
                            t._mobileUnloaded || 44100 === t.ctx.sampleRate || (t._mobileUnloaded = !0,
                            t.unload()),
                            t._scratchBuffer = t.ctx.createBuffer(1, 1, 22050);
                            var e = function(n) {
                                for (; t._html5AudioPool.length < t.html5PoolSize; )
                                    try {
                                        var r = new Audio;
                                        r._unlocked = !0,
                                        t._releaseHtml5Audio(r)
                                    } catch (n) {
                                        t.noAudio = !0;
                                        break
                                    }
                                for (var i = 0; i < t._howls.length; i++)
                                    if (!t._howls[i]._webAudio)
                                        for (var o = t._howls[i]._getSoundIds(), s = 0; s < o.length; s++) {
                                            var a = t._howls[i]._soundById(o[s]);
                                            a && a._node && !a._node._unlocked && (a._node._unlocked = !0,
                                            a._node.load())
                                        }
                                t._autoResume();
                                var u = t.ctx.createBufferSource();
                                u.buffer = t._scratchBuffer,
                                u.connect(t.ctx.destination),
                                void 0 === u.start ? u.noteOn(0) : u.start(0),
                                "function" == typeof t.ctx.resume && t.ctx.resume(),
                                u.onended = function() {
                                    u.disconnect(0),
                                    t._audioUnlocked = !0,
                                    document.removeEventListener("touchstart", e, !0),
                                    document.removeEventListener("touchend", e, !0),
                                    document.removeEventListener("click", e, !0),
                                    document.removeEventListener("keydown", e, !0);
                                    for (var n = 0; n < t._howls.length; n++)
                                        t._howls[n]._emit("unlock")
                                }
                            };
                            return document.addEventListener("touchstart", e, !0),
                            document.addEventListener("touchend", e, !0),
                            document.addEventListener("click", e, !0),
                            document.addEventListener("keydown", e, !0),
                            t
                        }
                    },
                    _obtainHtml5Audio: function() {
                        var t = this || o;
                        if (t._html5AudioPool.length)
                            return t._html5AudioPool.pop();
                        var e = (new Audio).play();
                        return e && "undefined" != typeof Promise && (e instanceof Promise || "function" == typeof e.then) && e.catch((function() {
                            console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")
                        }
                        )),
                        new Audio
                    },
                    _releaseHtml5Audio: function(t) {
                        var e = this || o;
                        return t._unlocked && e._html5AudioPool.push(t),
                        e
                    },
                    _autoSuspend: function() {
                        var t = this;
                        if (t.autoSuspend && t.ctx && void 0 !== t.ctx.suspend && o.usingWebAudio) {
                            for (var e = 0; e < t._howls.length; e++)
                                if (t._howls[e]._webAudio)
                                    for (var n = 0; n < t._howls[e]._sounds.length; n++)
                                        if (!t._howls[e]._sounds[n]._paused)
                                            return t;
                            return t._suspendTimer && clearTimeout(t._suspendTimer),
                            t._suspendTimer = setTimeout((function() {
                                if (t.autoSuspend) {
                                    t._suspendTimer = null,
                                    t.state = "suspending";
                                    var e = function() {
                                        t.state = "suspended",
                                        t._resumeAfterSuspend && (delete t._resumeAfterSuspend,
                                        t._autoResume())
                                    };
                                    t.ctx.suspend().then(e, e)
                                }
                            }
                            ), 3e4),
                            t
                        }
                    },
                    _autoResume: function() {
                        var t = this;
                        if (t.ctx && void 0 !== t.ctx.resume && o.usingWebAudio)
                            return "running" === t.state && "interrupted" !== t.ctx.state && t._suspendTimer ? (clearTimeout(t._suspendTimer),
                            t._suspendTimer = null) : "suspended" === t.state || "running" === t.state && "interrupted" === t.ctx.state ? (t.ctx.resume().then((function() {
                                t.state = "running";
                                for (var e = 0; e < t._howls.length; e++)
                                    t._howls[e]._emit("resume")
                            }
                            )),
                            t._suspendTimer && (clearTimeout(t._suspendTimer),
                            t._suspendTimer = null)) : "suspending" === t.state && (t._resumeAfterSuspend = !0),
                            t
                    }
                };
                var o = new i
                  , s = function(t) {
                    t.src && 0 !== t.src.length ? this.init(t) : console.error("An array of source files must be passed with any new Howl.")
                };
                s.prototype = {
                    init: function(t) {
                        var e = this;
                        return o.ctx || p(),
                        e._autoplay = t.autoplay || !1,
                        e._format = "string" != typeof t.format ? t.format : [t.format],
                        e._html5 = t.html5 || !1,
                        e._muted = t.mute || !1,
                        e._loop = t.loop || !1,
                        e._pool = t.pool || 5,
                        e._preload = "boolean" != typeof t.preload && "metadata" !== t.preload || t.preload,
                        e._rate = t.rate || 1,
                        e._sprite = t.sprite || {},
                        e._src = "string" != typeof t.src ? t.src : [t.src],
                        e._volume = void 0 !== t.volume ? t.volume : 1,
                        e._xhr = {
                            method: t.xhr && t.xhr.method ? t.xhr.method : "GET",
                            headers: t.xhr && t.xhr.headers ? t.xhr.headers : null,
                            withCredentials: !(!t.xhr || !t.xhr.withCredentials) && t.xhr.withCredentials
                        },
                        e._duration = 0,
                        e._state = "unloaded",
                        e._sounds = [],
                        e._endTimers = {},
                        e._queue = [],
                        e._playLock = !1,
                        e._onend = t.onend ? [{
                            fn: t.onend
                        }] : [],
                        e._onfade = t.onfade ? [{
                            fn: t.onfade
                        }] : [],
                        e._onload = t.onload ? [{
                            fn: t.onload
                        }] : [],
                        e._onloaderror = t.onloaderror ? [{
                            fn: t.onloaderror
                        }] : [],
                        e._onplayerror = t.onplayerror ? [{
                            fn: t.onplayerror
                        }] : [],
                        e._onpause = t.onpause ? [{
                            fn: t.onpause
                        }] : [],
                        e._onplay = t.onplay ? [{
                            fn: t.onplay
                        }] : [],
                        e._onstop = t.onstop ? [{
                            fn: t.onstop
                        }] : [],
                        e._onmute = t.onmute ? [{
                            fn: t.onmute
                        }] : [],
                        e._onvolume = t.onvolume ? [{
                            fn: t.onvolume
                        }] : [],
                        e._onrate = t.onrate ? [{
                            fn: t.onrate
                        }] : [],
                        e._onseek = t.onseek ? [{
                            fn: t.onseek
                        }] : [],
                        e._onunlock = t.onunlock ? [{
                            fn: t.onunlock
                        }] : [],
                        e._onresume = [],
                        e._webAudio = o.usingWebAudio && !e._html5,
                        void 0 !== o.ctx && o.ctx && o.autoUnlock && o._unlockAudio(),
                        o._howls.push(e),
                        e._autoplay && e._queue.push({
                            event: "play",
                            action: function() {
                                e.play()
                            }
                        }),
                        e._preload && "none" !== e._preload && e.load(),
                        e
                    },
                    load: function() {
                        var t = this
                          , e = null;
                        if (o.noAudio)
                            t._emit("loaderror", null, "No audio support.");
                        else {
                            "string" == typeof t._src && (t._src = [t._src]);
                            for (var n = 0; n < t._src.length; n++) {
                                var r, i;
                                if (t._format && t._format[n])
                                    r = t._format[n];
                                else {
                                    if ("string" != typeof (i = t._src[n])) {
                                        t._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                                        continue
                                    }
                                    (r = /^data:audio\/([^;,]+);/i.exec(i)) || (r = /\.([^.]+)$/.exec(i.split("?", 1)[0])),
                                    r && (r = r[1].toLowerCase())
                                }
                                if (r || console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),
                                r && o.codecs(r)) {
                                    e = t._src[n];
                                    break
                                }
                            }
                            if (e)
                                return t._src = e,
                                t._state = "loading",
                                "https:" === window.location.protocol && "http:" === e.slice(0, 5) && (t._html5 = !0,
                                t._webAudio = !1),
                                new a(t),
                                t._webAudio && h(t),
                                t;
                            t._emit("loaderror", null, "No codec support for selected audio sources.")
                        }
                    },
                    play: function(t, e) {
                        var n = this
                          , r = null;
                        if ("number" == typeof t)
                            r = t,
                            t = null;
                        else {
                            if ("string" == typeof t && "loaded" === n._state && !n._sprite[t])
                                return null;
                            if (void 0 === t && (t = "__default",
                            !n._playLock)) {
                                for (var i = 0, s = 0; s < n._sounds.length; s++)
                                    n._sounds[s]._paused && !n._sounds[s]._ended && (i++,
                                    r = n._sounds[s]._id);
                                1 === i ? t = null : r = null
                            }
                        }
                        var a = r ? n._soundById(r) : n._inactiveSound();
                        if (!a)
                            return null;
                        if (r && !t && (t = a._sprite || "__default"),
                        "loaded" !== n._state) {
                            a._sprite = t,
                            a._ended = !1;
                            var u = a._id;
                            return n._queue.push({
                                event: "play",
                                action: function() {
                                    n.play(u)
                                }
                            }),
                            u
                        }
                        if (r && !a._paused)
                            return e || n._loadQueue("play"),
                            a._id;
                        n._webAudio && o._autoResume();
                        var h = Math.max(0, a._seek > 0 ? a._seek : n._sprite[t][0] / 1e3)
                          , l = Math.max(0, (n._sprite[t][0] + n._sprite[t][1]) / 1e3 - h)
                          , c = 1e3 * l / Math.abs(a._rate)
                          , d = n._sprite[t][0] / 1e3
                          , p = (n._sprite[t][0] + n._sprite[t][1]) / 1e3;
                        a._sprite = t,
                        a._ended = !1;
                        var f = function() {
                            a._paused = !1,
                            a._seek = h,
                            a._start = d,
                            a._stop = p,
                            a._loop = !(!a._loop && !n._sprite[t][2])
                        };
                        if (!(h >= p)) {
                            var m = a._node;
                            if (n._webAudio) {
                                var _ = function() {
                                    n._playLock = !1,
                                    f(),
                                    n._refreshBuffer(a);
                                    var t = a._muted || n._muted ? 0 : a._volume;
                                    m.gain.setValueAtTime(t, o.ctx.currentTime),
                                    a._playStart = o.ctx.currentTime,
                                    void 0 === m.bufferSource.start ? a._loop ? m.bufferSource.noteGrainOn(0, h, 86400) : m.bufferSource.noteGrainOn(0, h, l) : a._loop ? m.bufferSource.start(0, h, 86400) : m.bufferSource.start(0, h, l),
                                    c !== 1 / 0 && (n._endTimers[a._id] = setTimeout(n._ended.bind(n, a), c)),
                                    e || setTimeout((function() {
                                        n._emit("play", a._id),
                                        n._loadQueue()
                                    }
                                    ), 0)
                                };
                                "running" === o.state && "interrupted" !== o.ctx.state ? _() : (n._playLock = !0,
                                n.once("resume", _),
                                n._clearTimer(a._id))
                            } else {
                                var v = function() {
                                    m.currentTime = h,
                                    m.muted = a._muted || n._muted || o._muted || m.muted,
                                    m.volume = a._volume * o.volume(),
                                    m.playbackRate = a._rate;
                                    try {
                                        var r = m.play();
                                        if (r && "undefined" != typeof Promise && (r instanceof Promise || "function" == typeof r.then) ? (n._playLock = !0,
                                        f(),
                                        r.then((function() {
                                            n._playLock = !1,
                                            m._unlocked = !0,
                                            e ? n._loadQueue() : n._emit("play", a._id)
                                        }
                                        )).catch((function() {
                                            n._playLock = !1,
                                            n._emit("playerror", a._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),
                                            a._ended = !0,
                                            a._paused = !0
                                        }
                                        ))) : e || (n._playLock = !1,
                                        f(),
                                        n._emit("play", a._id)),
                                        m.playbackRate = a._rate,
                                        m.paused)
                                            return void n._emit("playerror", a._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                                        "__default" !== t || a._loop ? n._endTimers[a._id] = setTimeout(n._ended.bind(n, a), c) : (n._endTimers[a._id] = function() {
                                            n._ended(a),
                                            m.removeEventListener("ended", n._endTimers[a._id], !1)
                                        }
                                        ,
                                        m.addEventListener("ended", n._endTimers[a._id], !1))
                                    } catch (t) {
                                        n._emit("playerror", a._id, t)
                                    }
                                };
                                "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA" === m.src && (m.src = n._src,
                                m.load());
                                var g = window && window.ejecta || !m.readyState && o._navigator.isCocoonJS;
                                if (m.readyState >= 3 || g)
                                    v();
                                else {
                                    n._playLock = !0,
                                    n._state = "loading";
                                    var y = function() {
                                        n._state = "loaded",
                                        v(),
                                        m.removeEventListener(o._canPlayEvent, y, !1)
                                    };
                                    m.addEventListener(o._canPlayEvent, y, !1),
                                    n._clearTimer(a._id)
                                }
                            }
                            return a._id
                        }
                        n._ended(a)
                    },
                    pause: function(t) {
                        var e = this;
                        if ("loaded" !== e._state || e._playLock)
                            return e._queue.push({
                                event: "pause",
                                action: function() {
                                    e.pause(t)
                                }
                            }),
                            e;
                        for (var n = e._getSoundIds(t), r = 0; r < n.length; r++) {
                            e._clearTimer(n[r]);
                            var i = e._soundById(n[r]);
                            if (i && !i._paused && (i._seek = e.seek(n[r]),
                            i._rateSeek = 0,
                            i._paused = !0,
                            e._stopFade(n[r]),
                            i._node))
                                if (e._webAudio) {
                                    if (!i._node.bufferSource)
                                        continue;
                                    void 0 === i._node.bufferSource.stop ? i._node.bufferSource.noteOff(0) : i._node.bufferSource.stop(0),
                                    e._cleanBuffer(i._node)
                                } else
                                    isNaN(i._node.duration) && i._node.duration !== 1 / 0 || i._node.pause();
                            arguments[1] || e._emit("pause", i ? i._id : null)
                        }
                        return e
                    },
                    stop: function(t, e) {
                        var n = this;
                        if ("loaded" !== n._state || n._playLock)
                            return n._queue.push({
                                event: "stop",
                                action: function() {
                                    n.stop(t)
                                }
                            }),
                            n;
                        for (var r = n._getSoundIds(t), i = 0; i < r.length; i++) {
                            n._clearTimer(r[i]);
                            var o = n._soundById(r[i]);
                            o && (o._seek = o._start || 0,
                            o._rateSeek = 0,
                            o._paused = !0,
                            o._ended = !0,
                            n._stopFade(r[i]),
                            o._node && (n._webAudio ? o._node.bufferSource && (void 0 === o._node.bufferSource.stop ? o._node.bufferSource.noteOff(0) : o._node.bufferSource.stop(0),
                            n._cleanBuffer(o._node)) : isNaN(o._node.duration) && o._node.duration !== 1 / 0 || (o._node.currentTime = o._start || 0,
                            o._node.pause(),
                            o._node.duration === 1 / 0 && n._clearSound(o._node))),
                            e || n._emit("stop", o._id))
                        }
                        return n
                    },
                    mute: function(t, e) {
                        var n = this;
                        if ("loaded" !== n._state || n._playLock)
                            return n._queue.push({
                                event: "mute",
                                action: function() {
                                    n.mute(t, e)
                                }
                            }),
                            n;
                        if (void 0 === e) {
                            if ("boolean" != typeof t)
                                return n._muted;
                            n._muted = t
                        }
                        for (var r = n._getSoundIds(e), i = 0; i < r.length; i++) {
                            var s = n._soundById(r[i]);
                            s && (s._muted = t,
                            s._interval && n._stopFade(s._id),
                            n._webAudio && s._node ? s._node.gain.setValueAtTime(t ? 0 : s._volume, o.ctx.currentTime) : s._node && (s._node.muted = !!o._muted || t),
                            n._emit("mute", s._id))
                        }
                        return n
                    },
                    volume: function() {
                        var t, e, n, r = this, i = arguments;
                        if (0 === i.length)
                            return r._volume;
                        if (1 === i.length || 2 === i.length && void 0 === i[1]) {
                            var s = r._getSoundIds()
                              , a = s.indexOf(i[0]);
                            a >= 0 ? e = parseInt(i[0], 10) : t = parseFloat(i[0])
                        } else
                            i.length >= 2 && (t = parseFloat(i[0]),
                            e = parseInt(i[1], 10));
                        if (!(void 0 !== t && t >= 0 && t <= 1))
                            return (n = e ? r._soundById(e) : r._sounds[0]) ? n._volume : 0;
                        if ("loaded" !== r._state || r._playLock)
                            return r._queue.push({
                                event: "volume",
                                action: function() {
                                    r.volume.apply(r, i)
                                }
                            }),
                            r;
                        void 0 === e && (r._volume = t),
                        e = r._getSoundIds(e);
                        for (var u = 0; u < e.length; u++)
                            (n = r._soundById(e[u])) && (n._volume = t,
                            i[2] || r._stopFade(e[u]),
                            r._webAudio && n._node && !n._muted ? n._node.gain.setValueAtTime(t, o.ctx.currentTime) : n._node && !n._muted && (n._node.volume = t * o.volume()),
                            r._emit("volume", n._id));
                        return r
                    },
                    fade: function(t, e, n, r) {
                        var i = this;
                        if ("loaded" !== i._state || i._playLock)
                            return i._queue.push({
                                event: "fade",
                                action: function() {
                                    i.fade(t, e, n, r)
                                }
                            }),
                            i;
                        t = Math.min(Math.max(0, parseFloat(t)), 1),
                        e = Math.min(Math.max(0, parseFloat(e)), 1),
                        n = parseFloat(n),
                        i.volume(t, r);
                        for (var s = i._getSoundIds(r), a = 0; a < s.length; a++) {
                            var u = i._soundById(s[a]);
                            if (u) {
                                if (r || i._stopFade(s[a]),
                                i._webAudio && !u._muted) {
                                    var h = o.ctx.currentTime
                                      , l = h + n / 1e3;
                                    u._volume = t,
                                    u._node.gain.setValueAtTime(t, h),
                                    u._node.gain.linearRampToValueAtTime(e, l)
                                }
                                i._startFadeInterval(u, t, e, n, s[a], void 0 === r)
                            }
                        }
                        return i
                    },
                    _startFadeInterval: function(t, e, n, r, i, o) {
                        var s = this
                          , a = e
                          , u = n - e
                          , h = Math.abs(u / .01)
                          , l = Math.max(4, h > 0 ? r / h : r)
                          , c = Date.now();
                        t._fadeTo = n,
                        t._interval = setInterval((function() {
                            var i = (Date.now() - c) / r;
                            c = Date.now(),
                            a += u * i,
                            a = Math.round(100 * a) / 100,
                            a = u < 0 ? Math.max(n, a) : Math.min(n, a),
                            s._webAudio ? t._volume = a : s.volume(a, t._id, !0),
                            o && (s._volume = a),
                            (n < e && a <= n || n > e && a >= n) && (clearInterval(t._interval),
                            t._interval = null,
                            t._fadeTo = null,
                            s.volume(n, t._id),
                            s._emit("fade", t._id))
                        }
                        ), l)
                    },
                    _stopFade: function(t) {
                        var e = this
                          , n = e._soundById(t);
                        return n && n._interval && (e._webAudio && n._node.gain.cancelScheduledValues(o.ctx.currentTime),
                        clearInterval(n._interval),
                        n._interval = null,
                        e.volume(n._fadeTo, t),
                        n._fadeTo = null,
                        e._emit("fade", t)),
                        e
                    },
                    loop: function() {
                        var t, e, n, r = this, i = arguments;
                        if (0 === i.length)
                            return r._loop;
                        if (1 === i.length) {
                            if ("boolean" != typeof i[0])
                                return !!(n = r._soundById(parseInt(i[0], 10))) && n._loop;
                            t = i[0],
                            r._loop = t
                        } else
                            2 === i.length && (t = i[0],
                            e = parseInt(i[1], 10));
                        for (var o = r._getSoundIds(e), s = 0; s < o.length; s++)
                            (n = r._soundById(o[s])) && (n._loop = t,
                            r._webAudio && n._node && n._node.bufferSource && (n._node.bufferSource.loop = t,
                            t && (n._node.bufferSource.loopStart = n._start || 0,
                            n._node.bufferSource.loopEnd = n._stop,
                            r.playing(o[s]) && (r.pause(o[s], !0),
                            r.play(o[s], !0)))));
                        return r
                    },
                    rate: function() {
                        var t, e, n, r = this, i = arguments;
                        if (0 === i.length)
                            e = r._sounds[0]._id;
                        else if (1 === i.length) {
                            var s = r._getSoundIds()
                              , a = s.indexOf(i[0]);
                            a >= 0 ? e = parseInt(i[0], 10) : t = parseFloat(i[0])
                        } else
                            2 === i.length && (t = parseFloat(i[0]),
                            e = parseInt(i[1], 10));
                        if ("number" != typeof t)
                            return (n = r._soundById(e)) ? n._rate : r._rate;
                        if ("loaded" !== r._state || r._playLock)
                            return r._queue.push({
                                event: "rate",
                                action: function() {
                                    r.rate.apply(r, i)
                                }
                            }),
                            r;
                        void 0 === e && (r._rate = t),
                        e = r._getSoundIds(e);
                        for (var u = 0; u < e.length; u++)
                            if (n = r._soundById(e[u])) {
                                r.playing(e[u]) && (n._rateSeek = r.seek(e[u]),
                                n._playStart = r._webAudio ? o.ctx.currentTime : n._playStart),
                                n._rate = t,
                                r._webAudio && n._node && n._node.bufferSource ? n._node.bufferSource.playbackRate.setValueAtTime(t, o.ctx.currentTime) : n._node && (n._node.playbackRate = t);
                                var h = r.seek(e[u])
                                  , l = (r._sprite[n._sprite][0] + r._sprite[n._sprite][1]) / 1e3 - h
                                  , c = 1e3 * l / Math.abs(n._rate);
                                !r._endTimers[e[u]] && n._paused || (r._clearTimer(e[u]),
                                r._endTimers[e[u]] = setTimeout(r._ended.bind(r, n), c)),
                                r._emit("rate", n._id)
                            }
                        return r
                    },
                    seek: function() {
                        var t, e, n = this, r = arguments;
                        if (0 === r.length)
                            n._sounds.length && (e = n._sounds[0]._id);
                        else if (1 === r.length) {
                            var i = n._getSoundIds()
                              , s = i.indexOf(r[0]);
                            s >= 0 ? e = parseInt(r[0], 10) : n._sounds.length && (e = n._sounds[0]._id,
                            t = parseFloat(r[0]))
                        } else
                            2 === r.length && (t = parseFloat(r[0]),
                            e = parseInt(r[1], 10));
                        if (void 0 === e)
                            return 0;
                        if ("number" == typeof t && ("loaded" !== n._state || n._playLock))
                            return n._queue.push({
                                event: "seek",
                                action: function() {
                                    n.seek.apply(n, r)
                                }
                            }),
                            n;
                        var a = n._soundById(e);
                        if (a) {
                            if (!("number" == typeof t && t >= 0)) {
                                if (n._webAudio) {
                                    var u = n.playing(e) ? o.ctx.currentTime - a._playStart : 0
                                      , h = a._rateSeek ? a._rateSeek - a._seek : 0;
                                    return a._seek + (h + u * Math.abs(a._rate))
                                }
                                return a._node.currentTime
                            }
                            var l = n.playing(e);
                            l && n.pause(e, !0),
                            a._seek = t,
                            a._ended = !1,
                            n._clearTimer(e),
                            n._webAudio || !a._node || isNaN(a._node.duration) || (a._node.currentTime = t);
                            var c = function() {
                                l && n.play(e, !0),
                                n._emit("seek", e)
                            };
                            if (l && !n._webAudio) {
                                var d = function() {
                                    n._playLock ? setTimeout(d, 0) : c()
                                };
                                setTimeout(d, 0)
                            } else
                                c()
                        }
                        return n
                    },
                    playing: function(t) {
                        var e = this;
                        if ("number" == typeof t) {
                            var n = e._soundById(t);
                            return !!n && !n._paused
                        }
                        for (var r = 0; r < e._sounds.length; r++)
                            if (!e._sounds[r]._paused)
                                return !0;
                        return !1
                    },
                    duration: function(t) {
                        var e = this
                          , n = e._duration
                          , r = e._soundById(t);
                        return r && (n = e._sprite[r._sprite][1] / 1e3),
                        n
                    },
                    state: function() {
                        return this._state
                    },
                    unload: function() {
                        for (var t = this, e = t._sounds, n = 0; n < e.length; n++)
                            e[n]._paused || t.stop(e[n]._id),
                            t._webAudio || (t._clearSound(e[n]._node),
                            e[n]._node.removeEventListener("error", e[n]._errorFn, !1),
                            e[n]._node.removeEventListener(o._canPlayEvent, e[n]._loadFn, !1),
                            e[n]._node.removeEventListener("ended", e[n]._endFn, !1),
                            o._releaseHtml5Audio(e[n]._node)),
                            delete e[n]._node,
                            t._clearTimer(e[n]._id);
                        var r = o._howls.indexOf(t);
                        r >= 0 && o._howls.splice(r, 1);
                        var i = !0;
                        for (n = 0; n < o._howls.length; n++)
                            if (o._howls[n]._src === t._src || t._src.indexOf(o._howls[n]._src) >= 0) {
                                i = !1;
                                break
                            }
                        return u && i && delete u[t._src],
                        o.noAudio = !1,
                        t._state = "unloaded",
                        t._sounds = [],
                        t = null,
                        null
                    },
                    on: function(t, e, n, r) {
                        var i = this["_on" + t];
                        return "function" == typeof e && i.push(r ? {
                            id: n,
                            fn: e,
                            once: r
                        } : {
                            id: n,
                            fn: e
                        }),
                        this
                    },
                    off: function(t, e, n) {
                        var r = this
                          , i = r["_on" + t]
                          , o = 0;
                        if ("number" == typeof e && (n = e,
                        e = null),
                        e || n)
                            for (o = 0; o < i.length; o++) {
                                var s = n === i[o].id;
                                if (e === i[o].fn && s || !e && s) {
                                    i.splice(o, 1);
                                    break
                                }
                            }
                        else if (t)
                            r["_on" + t] = [];
                        else {
                            var a = Object.keys(r);
                            for (o = 0; o < a.length; o++)
                                0 === a[o].indexOf("_on") && Array.isArray(r[a[o]]) && (r[a[o]] = [])
                        }
                        return r
                    },
                    once: function(t, e, n) {
                        return this.on(t, e, n, 1),
                        this
                    },
                    _emit: function(t, e, n) {
                        for (var r = this, i = r["_on" + t], o = i.length - 1; o >= 0; o--)
                            i[o].id && i[o].id !== e && "load" !== t || (setTimeout(function(t) {
                                t.call(this, e, n)
                            }
                            .bind(r, i[o].fn), 0),
                            i[o].once && r.off(t, i[o].fn, i[o].id));
                        return r._loadQueue(t),
                        r
                    },
                    _loadQueue: function(t) {
                        var e = this;
                        if (e._queue.length > 0) {
                            var n = e._queue[0];
                            n.event === t && (e._queue.shift(),
                            e._loadQueue()),
                            t || n.action()
                        }
                        return e
                    },
                    _ended: function(t) {
                        var e = this
                          , n = t._sprite;
                        if (!e._webAudio && t._node && !t._node.paused && !t._node.ended && t._node.currentTime < t._stop)
                            return setTimeout(e._ended.bind(e, t), 100),
                            e;
                        var r = !(!t._loop && !e._sprite[n][2]);
                        if (e._emit("end", t._id),
                        !e._webAudio && r && e.stop(t._id, !0).play(t._id),
                        e._webAudio && r) {
                            e._emit("play", t._id),
                            t._seek = t._start || 0,
                            t._rateSeek = 0,
                            t._playStart = o.ctx.currentTime;
                            var i = 1e3 * (t._stop - t._start) / Math.abs(t._rate);
                            e._endTimers[t._id] = setTimeout(e._ended.bind(e, t), i)
                        }
                        return e._webAudio && !r && (t._paused = !0,
                        t._ended = !0,
                        t._seek = t._start || 0,
                        t._rateSeek = 0,
                        e._clearTimer(t._id),
                        e._cleanBuffer(t._node),
                        o._autoSuspend()),
                        e._webAudio || r || e.stop(t._id, !0),
                        e
                    },
                    _clearTimer: function(t) {
                        var e = this;
                        if (e._endTimers[t]) {
                            if ("function" != typeof e._endTimers[t])
                                clearTimeout(e._endTimers[t]);
                            else {
                                var n = e._soundById(t);
                                n && n._node && n._node.removeEventListener("ended", e._endTimers[t], !1)
                            }
                            delete e._endTimers[t]
                        }
                        return e
                    },
                    _soundById: function(t) {
                        for (var e = this, n = 0; n < e._sounds.length; n++)
                            if (t === e._sounds[n]._id)
                                return e._sounds[n];
                        return null
                    },
                    _inactiveSound: function() {
                        var t = this;
                        t._drain();
                        for (var e = 0; e < t._sounds.length; e++)
                            if (t._sounds[e]._ended)
                                return t._sounds[e].reset();
                        return new a(t)
                    },
                    _drain: function() {
                        var t = this
                          , e = t._pool
                          , n = 0
                          , r = 0;
                        if (!(t._sounds.length < e)) {
                            for (r = 0; r < t._sounds.length; r++)
                                t._sounds[r]._ended && n++;
                            for (r = t._sounds.length - 1; r >= 0; r--) {
                                if (n <= e)
                                    return;
                                t._sounds[r]._ended && (t._webAudio && t._sounds[r]._node && t._sounds[r]._node.disconnect(0),
                                t._sounds.splice(r, 1),
                                n--)
                            }
                        }
                    },
                    _getSoundIds: function(t) {
                        if (void 0 === t) {
                            for (var e = [], n = 0; n < this._sounds.length; n++)
                                e.push(this._sounds[n]._id);
                            return e
                        }
                        return [t]
                    },
                    _refreshBuffer: function(t) {
                        return t._node.bufferSource = o.ctx.createBufferSource(),
                        t._node.bufferSource.buffer = u[this._src],
                        t._panner ? t._node.bufferSource.connect(t._panner) : t._node.bufferSource.connect(t._node),
                        t._node.bufferSource.loop = t._loop,
                        t._loop && (t._node.bufferSource.loopStart = t._start || 0,
                        t._node.bufferSource.loopEnd = t._stop || 0),
                        t._node.bufferSource.playbackRate.setValueAtTime(t._rate, o.ctx.currentTime),
                        this
                    },
                    _cleanBuffer: function(t) {
                        var e = o._navigator && o._navigator.vendor.indexOf("Apple") >= 0;
                        if (o._scratchBuffer && t.bufferSource && (t.bufferSource.onended = null,
                        t.bufferSource.disconnect(0),
                        e))
                            try {
                                t.bufferSource.buffer = o._scratchBuffer
                            } catch (t) {}
                        return t.bufferSource = null,
                        this
                    },
                    _clearSound: function(t) {
                        /MSIE |Trident\//.test(o._navigator && o._navigator.userAgent) || (t.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")
                    }
                };
                var a = function(t) {
                    this._parent = t,
                    this.init()
                };
                a.prototype = {
                    init: function() {
                        var t = this
                          , e = t._parent;
                        return t._muted = e._muted,
                        t._loop = e._loop,
                        t._volume = e._volume,
                        t._rate = e._rate,
                        t._seek = 0,
                        t._paused = !0,
                        t._ended = !0,
                        t._sprite = "__default",
                        t._id = ++o._counter,
                        e._sounds.push(t),
                        t.create(),
                        t
                    },
                    create: function() {
                        var t = this
                          , e = t._parent
                          , n = o._muted || t._muted || t._parent._muted ? 0 : t._volume;
                        return e._webAudio ? (t._node = void 0 === o.ctx.createGain ? o.ctx.createGainNode() : o.ctx.createGain(),
                        t._node.gain.setValueAtTime(n, o.ctx.currentTime),
                        t._node.paused = !0,
                        t._node.connect(o.masterGain)) : o.noAudio || (t._node = o._obtainHtml5Audio(),
                        t._errorFn = t._errorListener.bind(t),
                        t._node.addEventListener("error", t._errorFn, !1),
                        t._loadFn = t._loadListener.bind(t),
                        t._node.addEventListener(o._canPlayEvent, t._loadFn, !1),
                        t._endFn = t._endListener.bind(t),
                        t._node.addEventListener("ended", t._endFn, !1),
                        t._node.src = e._src,
                        t._node.preload = !0 === e._preload ? "auto" : e._preload,
                        t._node.volume = n * o.volume(),
                        t._node.load()),
                        t
                    },
                    reset: function() {
                        var t = this
                          , e = t._parent;
                        return t._muted = e._muted,
                        t._loop = e._loop,
                        t._volume = e._volume,
                        t._rate = e._rate,
                        t._seek = 0,
                        t._rateSeek = 0,
                        t._paused = !0,
                        t._ended = !0,
                        t._sprite = "__default",
                        t._id = ++o._counter,
                        t
                    },
                    _errorListener: function() {
                        var t = this;
                        t._parent._emit("loaderror", t._id, t._node.error ? t._node.error.code : 0),
                        t._node.removeEventListener("error", t._errorFn, !1)
                    },
                    _loadListener: function() {
                        var t = this
                          , e = t._parent;
                        e._duration = Math.ceil(10 * t._node.duration) / 10,
                        0 === Object.keys(e._sprite).length && (e._sprite = {
                            __default: [0, 1e3 * e._duration]
                        }),
                        "loaded" !== e._state && (e._state = "loaded",
                        e._emit("load"),
                        e._loadQueue()),
                        t._node.removeEventListener(o._canPlayEvent, t._loadFn, !1)
                    },
                    _endListener: function() {
                        var t = this
                          , e = t._parent;
                        e._duration === 1 / 0 && (e._duration = Math.ceil(10 * t._node.duration) / 10,
                        e._sprite.__default[1] === 1 / 0 && (e._sprite.__default[1] = 1e3 * e._duration),
                        e._ended(t)),
                        t._node.removeEventListener("ended", t._endFn, !1)
                    }
                };
                var u = {}
                  , h = function(t) {
                    var e = t._src;
                    if (u[e])
                        return t._duration = u[e].duration,
                        void d(t);
                    if (/^data:[^;]+;base64,/.test(e)) {
                        for (var n = atob(e.split(",")[1]), r = new Uint8Array(n.length), i = 0; i < n.length; ++i)
                            r[i] = n.charCodeAt(i);
                        c(r.buffer, t)
                    } else {
                        var o = new XMLHttpRequest;
                        o.open(t._xhr.method, e, !0),
                        o.withCredentials = t._xhr.withCredentials,
                        o.responseType = "arraybuffer",
                        t._xhr.headers && Object.keys(t._xhr.headers).forEach((function(e) {
                            o.setRequestHeader(e, t._xhr.headers[e])
                        }
                        )),
                        o.onload = function() {
                            var e = (o.status + "")[0];
                            "0" === e || "2" === e || "3" === e ? c(o.response, t) : t._emit("loaderror", null, "Failed loading audio file with status: " + o.status + ".")
                        }
                        ,
                        o.onerror = function() {
                            t._webAudio && (t._html5 = !0,
                            t._webAudio = !1,
                            t._sounds = [],
                            delete u[e],
                            t.load())
                        }
                        ,
                        l(o)
                    }
                }
                  , l = function(t) {
                    try {
                        t.send()
                    } catch (e) {
                        t.onerror()
                    }
                }
                  , c = function(t, e) {
                    var n = function() {
                        e._emit("loaderror", null, "Decoding audio data failed.")
                    }
                      , r = function(t) {
                        t && e._sounds.length > 0 ? (u[e._src] = t,
                        d(e, t)) : n()
                    };
                    "undefined" != typeof Promise && 1 === o.ctx.decodeAudioData.length ? o.ctx.decodeAudioData(t).then(r).catch(n) : o.ctx.decodeAudioData(t, r, n)
                }
                  , d = function(t, e) {
                    e && !t._duration && (t._duration = e.duration),
                    0 === Object.keys(t._sprite).length && (t._sprite = {
                        __default: [0, 1e3 * t._duration]
                    }),
                    "loaded" !== t._state && (t._state = "loaded",
                    t._emit("load"),
                    t._loadQueue())
                }
                  , p = function() {
                    if (o.usingWebAudio) {
                        try {
                            "undefined" != typeof AudioContext ? o.ctx = new AudioContext : "undefined" != typeof webkitAudioContext ? o.ctx = new webkitAudioContext : o.usingWebAudio = !1
                        } catch (t) {
                            o.usingWebAudio = !1
                        }
                        o.ctx || (o.usingWebAudio = !1);
                        var t = /iP(hone|od|ad)/.test(o._navigator && o._navigator.platform)
                          , e = o._navigator && o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)
                          , n = e ? parseInt(e[1], 10) : null;
                        if (t && n && n < 9) {
                            var r = /safari/.test(o._navigator && o._navigator.userAgent.toLowerCase());
                            o._navigator && !r && (o.usingWebAudio = !1)
                        }
                        o.usingWebAudio && (o.masterGain = void 0 === o.ctx.createGain ? o.ctx.createGainNode() : o.ctx.createGain(),
                        o.masterGain.gain.setValueAtTime(o._muted ? 0 : o._volume, o.ctx.currentTime),
                        o.masterGain.connect(o.ctx.destination)),
                        o._setup()
                    }
                };
                void 0 === (r = function() {
                    return {
                        Howler: o,
                        Howl: s
                    }
                }
                .apply(e, [])) || (t.exports = r),
                e.Howler = o,
                e.Howl = s,
                void 0 !== n.g ? (n.g.HowlerGlobal = i,
                n.g.Howler = o,
                n.g.Howl = s,
                n.g.Sound = a) : "undefined" != typeof window && (window.HowlerGlobal = i,
                window.Howler = o,
                window.Howl = s,
                window.Sound = a)
            }(),
            function() {
                "use strict";
                var t;
                HowlerGlobal.prototype._pos = [0, 0, 0],
                HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0],
                HowlerGlobal.prototype.stereo = function(t) {
                    var e = this;
                    if (!e.ctx || !e.ctx.listener)
                        return e;
                    for (var n = e._howls.length - 1; n >= 0; n--)
                        e._howls[n].stereo(t);
                    return e
                }
                ,
                HowlerGlobal.prototype.pos = function(t, e, n) {
                    var r = this;
                    return r.ctx && r.ctx.listener ? (e = "number" != typeof e ? r._pos[1] : e,
                    n = "number" != typeof n ? r._pos[2] : n,
                    "number" != typeof t ? r._pos : (r._pos = [t, e, n],
                    void 0 !== r.ctx.listener.positionX ? (r.ctx.listener.positionX.setTargetAtTime(r._pos[0], Howler.ctx.currentTime, .1),
                    r.ctx.listener.positionY.setTargetAtTime(r._pos[1], Howler.ctx.currentTime, .1),
                    r.ctx.listener.positionZ.setTargetAtTime(r._pos[2], Howler.ctx.currentTime, .1)) : r.ctx.listener.setPosition(r._pos[0], r._pos[1], r._pos[2]),
                    r)) : r
                }
                ,
                HowlerGlobal.prototype.orientation = function(t, e, n, r, i, o) {
                    var s = this;
                    if (!s.ctx || !s.ctx.listener)
                        return s;
                    var a = s._orientation;
                    return e = "number" != typeof e ? a[1] : e,
                    n = "number" != typeof n ? a[2] : n,
                    r = "number" != typeof r ? a[3] : r,
                    i = "number" != typeof i ? a[4] : i,
                    o = "number" != typeof o ? a[5] : o,
                    "number" != typeof t ? a : (s._orientation = [t, e, n, r, i, o],
                    void 0 !== s.ctx.listener.forwardX ? (s.ctx.listener.forwardX.setTargetAtTime(t, Howler.ctx.currentTime, .1),
                    s.ctx.listener.forwardY.setTargetAtTime(e, Howler.ctx.currentTime, .1),
                    s.ctx.listener.forwardZ.setTargetAtTime(n, Howler.ctx.currentTime, .1),
                    s.ctx.listener.upX.setTargetAtTime(r, Howler.ctx.currentTime, .1),
                    s.ctx.listener.upY.setTargetAtTime(i, Howler.ctx.currentTime, .1),
                    s.ctx.listener.upZ.setTargetAtTime(o, Howler.ctx.currentTime, .1)) : s.ctx.listener.setOrientation(t, e, n, r, i, o),
                    s)
                }
                ,
                Howl.prototype.init = (t = Howl.prototype.init,
                function(e) {
                    var n = this;
                    return n._orientation = e.orientation || [1, 0, 0],
                    n._stereo = e.stereo || null,
                    n._pos = e.pos || null,
                    n._pannerAttr = {
                        coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : 360,
                        coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : 360,
                        coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : 0,
                        distanceModel: void 0 !== e.distanceModel ? e.distanceModel : "inverse",
                        maxDistance: void 0 !== e.maxDistance ? e.maxDistance : 1e4,
                        panningModel: void 0 !== e.panningModel ? e.panningModel : "HRTF",
                        refDistance: void 0 !== e.refDistance ? e.refDistance : 1,
                        rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : 1
                    },
                    n._onstereo = e.onstereo ? [{
                        fn: e.onstereo
                    }] : [],
                    n._onpos = e.onpos ? [{
                        fn: e.onpos
                    }] : [],
                    n._onorientation = e.onorientation ? [{
                        fn: e.onorientation
                    }] : [],
                    t.call(this, e)
                }
                ),
                Howl.prototype.stereo = function(t, n) {
                    var r = this;
                    if (!r._webAudio)
                        return r;
                    if ("loaded" !== r._state)
                        return r._queue.push({
                            event: "stereo",
                            action: function() {
                                r.stereo(t, n)
                            }
                        }),
                        r;
                    var i = void 0 === Howler.ctx.createStereoPanner ? "spatial" : "stereo";
                    if (void 0 === n) {
                        if ("number" != typeof t)
                            return r._stereo;
                        r._stereo = t,
                        r._pos = [t, 0, 0]
                    }
                    for (var o = r._getSoundIds(n), s = 0; s < o.length; s++) {
                        var a = r._soundById(o[s]);
                        if (a) {
                            if ("number" != typeof t)
                                return a._stereo;
                            a._stereo = t,
                            a._pos = [t, 0, 0],
                            a._node && (a._pannerAttr.panningModel = "equalpower",
                            a._panner && a._panner.pan || e(a, i),
                            "spatial" === i ? void 0 !== a._panner.positionX ? (a._panner.positionX.setValueAtTime(t, Howler.ctx.currentTime),
                            a._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime),
                            a._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime)) : a._panner.setPosition(t, 0, 0) : a._panner.pan.setValueAtTime(t, Howler.ctx.currentTime)),
                            r._emit("stereo", a._id)
                        }
                    }
                    return r
                }
                ,
                Howl.prototype.pos = function(t, n, r, i) {
                    var o = this;
                    if (!o._webAudio)
                        return o;
                    if ("loaded" !== o._state)
                        return o._queue.push({
                            event: "pos",
                            action: function() {
                                o.pos(t, n, r, i)
                            }
                        }),
                        o;
                    if (n = "number" != typeof n ? 0 : n,
                    r = "number" != typeof r ? -.5 : r,
                    void 0 === i) {
                        if ("number" != typeof t)
                            return o._pos;
                        o._pos = [t, n, r]
                    }
                    for (var s = o._getSoundIds(i), a = 0; a < s.length; a++) {
                        var u = o._soundById(s[a]);
                        if (u) {
                            if ("number" != typeof t)
                                return u._pos;
                            u._pos = [t, n, r],
                            u._node && (u._panner && !u._panner.pan || e(u, "spatial"),
                            void 0 !== u._panner.positionX ? (u._panner.positionX.setValueAtTime(t, Howler.ctx.currentTime),
                            u._panner.positionY.setValueAtTime(n, Howler.ctx.currentTime),
                            u._panner.positionZ.setValueAtTime(r, Howler.ctx.currentTime)) : u._panner.setPosition(t, n, r)),
                            o._emit("pos", u._id)
                        }
                    }
                    return o
                }
                ,
                Howl.prototype.orientation = function(t, n, r, i) {
                    var o = this;
                    if (!o._webAudio)
                        return o;
                    if ("loaded" !== o._state)
                        return o._queue.push({
                            event: "orientation",
                            action: function() {
                                o.orientation(t, n, r, i)
                            }
                        }),
                        o;
                    if (n = "number" != typeof n ? o._orientation[1] : n,
                    r = "number" != typeof r ? o._orientation[2] : r,
                    void 0 === i) {
                        if ("number" != typeof t)
                            return o._orientation;
                        o._orientation = [t, n, r]
                    }
                    for (var s = o._getSoundIds(i), a = 0; a < s.length; a++) {
                        var u = o._soundById(s[a]);
                        if (u) {
                            if ("number" != typeof t)
                                return u._orientation;
                            u._orientation = [t, n, r],
                            u._node && (u._panner || (u._pos || (u._pos = o._pos || [0, 0, -.5]),
                            e(u, "spatial")),
                            void 0 !== u._panner.orientationX ? (u._panner.orientationX.setValueAtTime(t, Howler.ctx.currentTime),
                            u._panner.orientationY.setValueAtTime(n, Howler.ctx.currentTime),
                            u._panner.orientationZ.setValueAtTime(r, Howler.ctx.currentTime)) : u._panner.setOrientation(t, n, r)),
                            o._emit("orientation", u._id)
                        }
                    }
                    return o
                }
                ,
                Howl.prototype.pannerAttr = function() {
                    var t, n, r, i = this, o = arguments;
                    if (!i._webAudio)
                        return i;
                    if (0 === o.length)
                        return i._pannerAttr;
                    if (1 === o.length) {
                        if ("object" != typeof o[0])
                            return (r = i._soundById(parseInt(o[0], 10))) ? r._pannerAttr : i._pannerAttr;
                        t = o[0],
                        void 0 === n && (t.pannerAttr || (t.pannerAttr = {
                            coneInnerAngle: t.coneInnerAngle,
                            coneOuterAngle: t.coneOuterAngle,
                            coneOuterGain: t.coneOuterGain,
                            distanceModel: t.distanceModel,
                            maxDistance: t.maxDistance,
                            refDistance: t.refDistance,
                            rolloffFactor: t.rolloffFactor,
                            panningModel: t.panningModel
                        }),
                        i._pannerAttr = {
                            coneInnerAngle: void 0 !== t.pannerAttr.coneInnerAngle ? t.pannerAttr.coneInnerAngle : i._coneInnerAngle,
                            coneOuterAngle: void 0 !== t.pannerAttr.coneOuterAngle ? t.pannerAttr.coneOuterAngle : i._coneOuterAngle,
                            coneOuterGain: void 0 !== t.pannerAttr.coneOuterGain ? t.pannerAttr.coneOuterGain : i._coneOuterGain,
                            distanceModel: void 0 !== t.pannerAttr.distanceModel ? t.pannerAttr.distanceModel : i._distanceModel,
                            maxDistance: void 0 !== t.pannerAttr.maxDistance ? t.pannerAttr.maxDistance : i._maxDistance,
                            refDistance: void 0 !== t.pannerAttr.refDistance ? t.pannerAttr.refDistance : i._refDistance,
                            rolloffFactor: void 0 !== t.pannerAttr.rolloffFactor ? t.pannerAttr.rolloffFactor : i._rolloffFactor,
                            panningModel: void 0 !== t.pannerAttr.panningModel ? t.pannerAttr.panningModel : i._panningModel
                        })
                    } else
                        2 === o.length && (t = o[0],
                        n = parseInt(o[1], 10));
                    for (var s = i._getSoundIds(n), a = 0; a < s.length; a++)
                        if (r = i._soundById(s[a])) {
                            var u = r._pannerAttr;
                            u = {
                                coneInnerAngle: void 0 !== t.coneInnerAngle ? t.coneInnerAngle : u.coneInnerAngle,
                                coneOuterAngle: void 0 !== t.coneOuterAngle ? t.coneOuterAngle : u.coneOuterAngle,
                                coneOuterGain: void 0 !== t.coneOuterGain ? t.coneOuterGain : u.coneOuterGain,
                                distanceModel: void 0 !== t.distanceModel ? t.distanceModel : u.distanceModel,
                                maxDistance: void 0 !== t.maxDistance ? t.maxDistance : u.maxDistance,
                                refDistance: void 0 !== t.refDistance ? t.refDistance : u.refDistance,
                                rolloffFactor: void 0 !== t.rolloffFactor ? t.rolloffFactor : u.rolloffFactor,
                                panningModel: void 0 !== t.panningModel ? t.panningModel : u.panningModel
                            };
                            var h = r._panner;
                            h ? (h.coneInnerAngle = u.coneInnerAngle,
                            h.coneOuterAngle = u.coneOuterAngle,
                            h.coneOuterGain = u.coneOuterGain,
                            h.distanceModel = u.distanceModel,
                            h.maxDistance = u.maxDistance,
                            h.refDistance = u.refDistance,
                            h.rolloffFactor = u.rolloffFactor,
                            h.panningModel = u.panningModel) : (r._pos || (r._pos = i._pos || [0, 0, -.5]),
                            e(r, "spatial"))
                        }
                    return i
                }
                ,
                Sound.prototype.init = function(t) {
                    return function() {
                        var e = this
                          , n = e._parent;
                        e._orientation = n._orientation,
                        e._stereo = n._stereo,
                        e._pos = n._pos,
                        e._pannerAttr = n._pannerAttr,
                        t.call(this),
                        e._stereo ? n.stereo(e._stereo) : e._pos && n.pos(e._pos[0], e._pos[1], e._pos[2], e._id)
                    }
                }(Sound.prototype.init),
                Sound.prototype.reset = function(t) {
                    return function() {
                        var e = this
                          , n = e._parent;
                        return e._orientation = n._orientation,
                        e._stereo = n._stereo,
                        e._pos = n._pos,
                        e._pannerAttr = n._pannerAttr,
                        e._stereo ? n.stereo(e._stereo) : e._pos ? n.pos(e._pos[0], e._pos[1], e._pos[2], e._id) : e._panner && (e._panner.disconnect(0),
                        e._panner = void 0,
                        n._refreshBuffer(e)),
                        t.call(this)
                    }
                }(Sound.prototype.reset);
                var e = function(t, e) {
                    "spatial" === (e = e || "spatial") ? (t._panner = Howler.ctx.createPanner(),
                    t._panner.coneInnerAngle = t._pannerAttr.coneInnerAngle,
                    t._panner.coneOuterAngle = t._pannerAttr.coneOuterAngle,
                    t._panner.coneOuterGain = t._pannerAttr.coneOuterGain,
                    t._panner.distanceModel = t._pannerAttr.distanceModel,
                    t._panner.maxDistance = t._pannerAttr.maxDistance,
                    t._panner.refDistance = t._pannerAttr.refDistance,
                    t._panner.rolloffFactor = t._pannerAttr.rolloffFactor,
                    t._panner.panningModel = t._pannerAttr.panningModel,
                    void 0 !== t._panner.positionX ? (t._panner.positionX.setValueAtTime(t._pos[0], Howler.ctx.currentTime),
                    t._panner.positionY.setValueAtTime(t._pos[1], Howler.ctx.currentTime),
                    t._panner.positionZ.setValueAtTime(t._pos[2], Howler.ctx.currentTime)) : t._panner.setPosition(t._pos[0], t._pos[1], t._pos[2]),
                    void 0 !== t._panner.orientationX ? (t._panner.orientationX.setValueAtTime(t._orientation[0], Howler.ctx.currentTime),
                    t._panner.orientationY.setValueAtTime(t._orientation[1], Howler.ctx.currentTime),
                    t._panner.orientationZ.setValueAtTime(t._orientation[2], Howler.ctx.currentTime)) : t._panner.setOrientation(t._orientation[0], t._orientation[1], t._orientation[2])) : (t._panner = Howler.ctx.createStereoPanner(),
                    t._panner.pan.setValueAtTime(t._stereo, Howler.ctx.currentTime)),
                    t._panner.connect(t._node),
                    t._paused || t._parent.pause(t._id, !0).play(t._id, !0)
                }
            }()
        }
        ,
        291: function(t, e) {
            var n;
            !function(e, n) {
                "use strict";
                "object" == typeof t.exports ? t.exports = e.document ? n(e, !0) : function(t) {
                    if (!t.document)
                        throw new Error("jQuery requires a window with a document");
                    return n(t)
                }
                : n(e)
            }("undefined" != typeof window ? window : this, (function(r, i) {
                "use strict";
                var o = []
                  , s = Object.getPrototypeOf
                  , a = o.slice
                  , u = o.flat ? function(t) {
                    return o.flat.call(t)
                }
                : function(t) {
                    return o.concat.apply([], t)
                }
                  , h = o.push
                  , l = o.indexOf
                  , c = {}
                  , d = c.toString
                  , p = c.hasOwnProperty
                  , f = p.toString
                  , m = f.call(Object)
                  , _ = {}
                  , v = function(t) {
                    return "function" == typeof t && "number" != typeof t.nodeType
                }
                  , g = function(t) {
                    return null != t && t === t.window
                }
                  , y = r.document
                  , b = {
                    type: !0,
                    src: !0,
                    nonce: !0,
                    noModule: !0
                };
                function x(t, e, n) {
                    var r, i, o = (n = n || y).createElement("script");
                    if (o.text = t,
                    e)
                        for (r in b)
                            (i = e[r] || e.getAttribute && e.getAttribute(r)) && o.setAttribute(r, i);
                    n.head.appendChild(o).parentNode.removeChild(o)
                }
                function T(t) {
                    return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? c[d.call(t)] || "object" : typeof t
                }
                var E = "3.5.1"
                  , A = function(t, e) {
                    return new A.fn.init(t,e)
                };
                function S(t) {
                    var e = !!t && "length"in t && t.length
                      , n = T(t);
                    return !v(t) && !g(t) && ("array" === n || 0 === e || "number" == typeof e && e > 0 && e - 1 in t)
                }
                A.fn = A.prototype = {
                    jquery: E,
                    constructor: A,
                    length: 0,
                    toArray: function() {
                        return a.call(this)
                    },
                    get: function(t) {
                        return null == t ? a.call(this) : t < 0 ? this[t + this.length] : this[t]
                    },
                    pushStack: function(t) {
                        var e = A.merge(this.constructor(), t);
                        return e.prevObject = this,
                        e
                    },
                    each: function(t) {
                        return A.each(this, t)
                    },
                    map: function(t) {
                        return this.pushStack(A.map(this, (function(e, n) {
                            return t.call(e, n, e)
                        }
                        )))
                    },
                    slice: function() {
                        return this.pushStack(a.apply(this, arguments))
                    },
                    first: function() {
                        return this.eq(0)
                    },
                    last: function() {
                        return this.eq(-1)
                    },
                    even: function() {
                        return this.pushStack(A.grep(this, (function(t, e) {
                            return (e + 1) % 2
                        }
                        )))
                    },
                    odd: function() {
                        return this.pushStack(A.grep(this, (function(t, e) {
                            return e % 2
                        }
                        )))
                    },
                    eq: function(t) {
                        var e = this.length
                          , n = +t + (t < 0 ? e : 0);
                        return this.pushStack(n >= 0 && n < e ? [this[n]] : [])
                    },
                    end: function() {
                        return this.prevObject || this.constructor()
                    },
                    push: h,
                    sort: o.sort,
                    splice: o.splice
                },
                A.extend = A.fn.extend = function() {
                    var t, e, n, r, i, o, s = arguments[0] || {}, a = 1, u = arguments.length, h = !1;
                    for ("boolean" == typeof s && (h = s,
                    s = arguments[a] || {},
                    a++),
                    "object" == typeof s || v(s) || (s = {}),
                    a === u && (s = this,
                    a--); a < u; a++)
                        if (null != (t = arguments[a]))
                            for (e in t)
                                r = t[e],
                                "__proto__" !== e && s !== r && (h && r && (A.isPlainObject(r) || (i = Array.isArray(r))) ? (n = s[e],
                                o = i && !Array.isArray(n) ? [] : i || A.isPlainObject(n) ? n : {},
                                i = !1,
                                s[e] = A.extend(h, o, r)) : void 0 !== r && (s[e] = r));
                    return s
                }
                ,
                A.extend({
                    expando: "jQuery" + (E + Math.random()).replace(/\D/g, ""),
                    isReady: !0,
                    error: function(t) {
                        throw new Error(t)
                    },
                    noop: function() {},
                    isPlainObject: function(t) {
                        var e, n;
                        return !(!t || "[object Object]" !== d.call(t) || (e = s(t)) && ("function" != typeof (n = p.call(e, "constructor") && e.constructor) || f.call(n) !== m))
                    },
                    isEmptyObject: function(t) {
                        var e;
                        for (e in t)
                            return !1;
                        return !0
                    },
                    globalEval: function(t, e, n) {
                        x(t, {
                            nonce: e && e.nonce
                        }, n)
                    },
                    each: function(t, e) {
                        var n, r = 0;
                        if (S(t))
                            for (n = t.length; r < n && !1 !== e.call(t[r], r, t[r]); r++)
                                ;
                        else
                            for (r in t)
                                if (!1 === e.call(t[r], r, t[r]))
                                    break;
                        return t
                    },
                    makeArray: function(t, e) {
                        var n = e || [];
                        return null != t && (S(Object(t)) ? A.merge(n, "string" == typeof t ? [t] : t) : h.call(n, t)),
                        n
                    },
                    inArray: function(t, e, n) {
                        return null == e ? -1 : l.call(e, t, n)
                    },
                    merge: function(t, e) {
                        for (var n = +e.length, r = 0, i = t.length; r < n; r++)
                            t[i++] = e[r];
                        return t.length = i,
                        t
                    },
                    grep: function(t, e, n) {
                        for (var r = [], i = 0, o = t.length, s = !n; i < o; i++)
                            !e(t[i], i) !== s && r.push(t[i]);
                        return r
                    },
                    map: function(t, e, n) {
                        var r, i, o = 0, s = [];
                        if (S(t))
                            for (r = t.length; o < r; o++)
                                null != (i = e(t[o], o, n)) && s.push(i);
                        else
                            for (o in t)
                                null != (i = e(t[o], o, n)) && s.push(i);
                        return u(s)
                    },
                    guid: 1,
                    support: _
                }),
                "function" == typeof Symbol && (A.fn[Symbol.iterator] = o[Symbol.iterator]),
                A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), (function(t, e) {
                    c["[object " + e + "]"] = e.toLowerCase()
                }
                ));
                var w = function(t) {
                    var e, n, r, i, o, s, a, u, h, l, c, d, p, f, m, _, v, g, y, b = "sizzle" + 1 * new Date, x = t.document, T = 0, E = 0, A = ut(), S = ut(), w = ut(), R = ut(), O = function(t, e) {
                        return t === e && (c = !0),
                        0
                    }, I = {}.hasOwnProperty, C = [], D = C.pop, M = C.push, P = C.push, N = C.slice, B = function(t, e) {
                        for (var n = 0, r = t.length; n < r; n++)
                            if (t[n] === e)
                                return n;
                        return -1
                    }, L = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", F = "[\\x20\\t\\r\\n\\f]", G = "(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+", k = "\\[[\\x20\\t\\r\\n\\f]*(" + G + ")(?:" + F + "*([*^$|!~]?=)" + F + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + G + "))|)" + F + "*\\]", U = ":(" + G + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + k + ")*)|.*)\\)|)", X = new RegExp(F + "+","g"), H = new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"), j = new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"), $ = new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"), W = new RegExp(F + "|>"), V = new RegExp(U), Y = new RegExp("^" + G + "$"), z = {
                        ID: new RegExp("^#(" + G + ")"),
                        CLASS: new RegExp("^\\.(" + G + ")"),
                        TAG: new RegExp("^(" + G + "|[*])"),
                        ATTR: new RegExp("^" + k),
                        PSEUDO: new RegExp("^" + U),
                        CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),
                        bool: new RegExp("^(?:" + L + ")$","i"),
                        needsContext: new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")
                    }, q = /HTML$/i, K = /^(?:input|select|textarea|button)$/i, J = /^h\d$/i, Z = /^[^{]+\{\s*\[native \w/, Q = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, tt = /[+~]/, et = new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"), nt = function(t, e) {
                        var n = "0x" + t.slice(1) - 65536;
                        return e || (n < 0 ? String.fromCharCode(n + 65536) : String.fromCharCode(n >> 10 | 55296, 1023 & n | 56320))
                    }, rt = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, it = function(t, e) {
                        return e ? "\0" === t ? "�" : t.slice(0, -1) + "\\" + t.charCodeAt(t.length - 1).toString(16) + " " : "\\" + t
                    }, ot = function() {
                        d()
                    }, st = bt((function(t) {
                        return !0 === t.disabled && "fieldset" === t.nodeName.toLowerCase()
                    }
                    ), {
                        dir: "parentNode",
                        next: "legend"
                    });
                    try {
                        P.apply(C = N.call(x.childNodes), x.childNodes),
                        C[x.childNodes.length].nodeType
                    } catch (t) {
                        P = {
                            apply: C.length ? function(t, e) {
                                M.apply(t, N.call(e))
                            }
                            : function(t, e) {
                                for (var n = t.length, r = 0; t[n++] = e[r++]; )
                                    ;
                                t.length = n - 1
                            }
                        }
                    }
                    function at(t, e, r, i) {
                        var o, a, h, l, c, f, v, g = e && e.ownerDocument, x = e ? e.nodeType : 9;
                        if (r = r || [],
                        "string" != typeof t || !t || 1 !== x && 9 !== x && 11 !== x)
                            return r;
                        if (!i && (d(e),
                        e = e || p,
                        m)) {
                            if (11 !== x && (c = Q.exec(t)))
                                if (o = c[1]) {
                                    if (9 === x) {
                                        if (!(h = e.getElementById(o)))
                                            return r;
                                        if (h.id === o)
                                            return r.push(h),
                                            r
                                    } else if (g && (h = g.getElementById(o)) && y(e, h) && h.id === o)
                                        return r.push(h),
                                        r
                                } else {
                                    if (c[2])
                                        return P.apply(r, e.getElementsByTagName(t)),
                                        r;
                                    if ((o = c[3]) && n.getElementsByClassName && e.getElementsByClassName)
                                        return P.apply(r, e.getElementsByClassName(o)),
                                        r
                                }
                            if (n.qsa && !R[t + " "] && (!_ || !_.test(t)) && (1 !== x || "object" !== e.nodeName.toLowerCase())) {
                                if (v = t,
                                g = e,
                                1 === x && (W.test(t) || $.test(t))) {
                                    for ((g = tt.test(t) && vt(e.parentNode) || e) === e && n.scope || ((l = e.getAttribute("id")) ? l = l.replace(rt, it) : e.setAttribute("id", l = b)),
                                    a = (f = s(t)).length; a--; )
                                        f[a] = (l ? "#" + l : ":scope") + " " + yt(f[a]);
                                    v = f.join(",")
                                }
                                try {
                                    return P.apply(r, g.querySelectorAll(v)),
                                    r
                                } catch (e) {
                                    R(t, !0)
                                } finally {
                                    l === b && e.removeAttribute("id")
                                }
                            }
                        }
                        return u(t.replace(H, "$1"), e, r, i)
                    }
                    function ut() {
                        var t = [];
                        return function e(n, i) {
                            return t.push(n + " ") > r.cacheLength && delete e[t.shift()],
                            e[n + " "] = i
                        }
                    }
                    function ht(t) {
                        return t[b] = !0,
                        t
                    }
                    function lt(t) {
                        var e = p.createElement("fieldset");
                        try {
                            return !!t(e)
                        } catch (t) {
                            return !1
                        } finally {
                            e.parentNode && e.parentNode.removeChild(e),
                            e = null
                        }
                    }
                    function ct(t, e) {
                        for (var n = t.split("|"), i = n.length; i--; )
                            r.attrHandle[n[i]] = e
                    }
                    function dt(t, e) {
                        var n = e && t
                          , r = n && 1 === t.nodeType && 1 === e.nodeType && t.sourceIndex - e.sourceIndex;
                        if (r)
                            return r;
                        if (n)
                            for (; n = n.nextSibling; )
                                if (n === e)
                                    return -1;
                        return t ? 1 : -1
                    }
                    function pt(t) {
                        return function(e) {
                            return "input" === e.nodeName.toLowerCase() && e.type === t
                        }
                    }
                    function ft(t) {
                        return function(e) {
                            var n = e.nodeName.toLowerCase();
                            return ("input" === n || "button" === n) && e.type === t
                        }
                    }
                    function mt(t) {
                        return function(e) {
                            return "form"in e ? e.parentNode && !1 === e.disabled ? "label"in e ? "label"in e.parentNode ? e.parentNode.disabled === t : e.disabled === t : e.isDisabled === t || e.isDisabled !== !t && st(e) === t : e.disabled === t : "label"in e && e.disabled === t
                        }
                    }
                    function _t(t) {
                        return ht((function(e) {
                            return e = +e,
                            ht((function(n, r) {
                                for (var i, o = t([], n.length, e), s = o.length; s--; )
                                    n[i = o[s]] && (n[i] = !(r[i] = n[i]))
                            }
                            ))
                        }
                        ))
                    }
                    function vt(t) {
                        return t && void 0 !== t.getElementsByTagName && t
                    }
                    for (e in n = at.support = {},
                    o = at.isXML = function(t) {
                        var e = t.namespaceURI
                          , n = (t.ownerDocument || t).documentElement;
                        return !q.test(e || n && n.nodeName || "HTML")
                    }
                    ,
                    d = at.setDocument = function(t) {
                        var e, i, s = t ? t.ownerDocument || t : x;
                        return s != p && 9 === s.nodeType && s.documentElement ? (f = (p = s).documentElement,
                        m = !o(p),
                        x != p && (i = p.defaultView) && i.top !== i && (i.addEventListener ? i.addEventListener("unload", ot, !1) : i.attachEvent && i.attachEvent("onunload", ot)),
                        n.scope = lt((function(t) {
                            return f.appendChild(t).appendChild(p.createElement("div")),
                            void 0 !== t.querySelectorAll && !t.querySelectorAll(":scope fieldset div").length
                        }
                        )),
                        n.attributes = lt((function(t) {
                            return t.className = "i",
                            !t.getAttribute("className")
                        }
                        )),
                        n.getElementsByTagName = lt((function(t) {
                            return t.appendChild(p.createComment("")),
                            !t.getElementsByTagName("*").length
                        }
                        )),
                        n.getElementsByClassName = Z.test(p.getElementsByClassName),
                        n.getById = lt((function(t) {
                            return f.appendChild(t).id = b,
                            !p.getElementsByName || !p.getElementsByName(b).length
                        }
                        )),
                        n.getById ? (r.filter.ID = function(t) {
                            var e = t.replace(et, nt);
                            return function(t) {
                                return t.getAttribute("id") === e
                            }
                        }
                        ,
                        r.find.ID = function(t, e) {
                            if (void 0 !== e.getElementById && m) {
                                var n = e.getElementById(t);
                                return n ? [n] : []
                            }
                        }
                        ) : (r.filter.ID = function(t) {
                            var e = t.replace(et, nt);
                            return function(t) {
                                var n = void 0 !== t.getAttributeNode && t.getAttributeNode("id");
                                return n && n.value === e
                            }
                        }
                        ,
                        r.find.ID = function(t, e) {
                            if (void 0 !== e.getElementById && m) {
                                var n, r, i, o = e.getElementById(t);
                                if (o) {
                                    if ((n = o.getAttributeNode("id")) && n.value === t)
                                        return [o];
                                    for (i = e.getElementsByName(t),
                                    r = 0; o = i[r++]; )
                                        if ((n = o.getAttributeNode("id")) && n.value === t)
                                            return [o]
                                }
                                return []
                            }
                        }
                        ),
                        r.find.TAG = n.getElementsByTagName ? function(t, e) {
                            return void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t) : n.qsa ? e.querySelectorAll(t) : void 0
                        }
                        : function(t, e) {
                            var n, r = [], i = 0, o = e.getElementsByTagName(t);
                            if ("*" === t) {
                                for (; n = o[i++]; )
                                    1 === n.nodeType && r.push(n);
                                return r
                            }
                            return o
                        }
                        ,
                        r.find.CLASS = n.getElementsByClassName && function(t, e) {
                            if (void 0 !== e.getElementsByClassName && m)
                                return e.getElementsByClassName(t)
                        }
                        ,
                        v = [],
                        _ = [],
                        (n.qsa = Z.test(p.querySelectorAll)) && (lt((function(t) {
                            var e;
                            f.appendChild(t).innerHTML = "<a id='" + b + "'></a><select id='" + b + "-\r\\' msallowcapture=''><option selected=''></option></select>",
                            t.querySelectorAll("[msallowcapture^='']").length && _.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),
                            t.querySelectorAll("[selected]").length || _.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|" + L + ")"),
                            t.querySelectorAll("[id~=" + b + "-]").length || _.push("~="),
                            (e = p.createElement("input")).setAttribute("name", ""),
                            t.appendChild(e),
                            t.querySelectorAll("[name='']").length || _.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),
                            t.querySelectorAll(":checked").length || _.push(":checked"),
                            t.querySelectorAll("a#" + b + "+*").length || _.push(".#.+[+~]"),
                            t.querySelectorAll("\\\f"),
                            _.push("[\\r\\n\\f]")
                        }
                        )),
                        lt((function(t) {
                            t.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                            var e = p.createElement("input");
                            e.setAttribute("type", "hidden"),
                            t.appendChild(e).setAttribute("name", "D"),
                            t.querySelectorAll("[name=d]").length && _.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),
                            2 !== t.querySelectorAll(":enabled").length && _.push(":enabled", ":disabled"),
                            f.appendChild(t).disabled = !0,
                            2 !== t.querySelectorAll(":disabled").length && _.push(":enabled", ":disabled"),
                            t.querySelectorAll("*,:x"),
                            _.push(",.*:")
                        }
                        ))),
                        (n.matchesSelector = Z.test(g = f.matches || f.webkitMatchesSelector || f.mozMatchesSelector || f.oMatchesSelector || f.msMatchesSelector)) && lt((function(t) {
                            n.disconnectedMatch = g.call(t, "*"),
                            g.call(t, "[s!='']:x"),
                            v.push("!=", U)
                        }
                        )),
                        _ = _.length && new RegExp(_.join("|")),
                        v = v.length && new RegExp(v.join("|")),
                        e = Z.test(f.compareDocumentPosition),
                        y = e || Z.test(f.contains) ? function(t, e) {
                            var n = 9 === t.nodeType ? t.documentElement : t
                              , r = e && e.parentNode;
                            return t === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(r)))
                        }
                        : function(t, e) {
                            if (e)
                                for (; e = e.parentNode; )
                                    if (e === t)
                                        return !0;
                            return !1
                        }
                        ,
                        O = e ? function(t, e) {
                            if (t === e)
                                return c = !0,
                                0;
                            var r = !t.compareDocumentPosition - !e.compareDocumentPosition;
                            return r || (1 & (r = (t.ownerDocument || t) == (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1) || !n.sortDetached && e.compareDocumentPosition(t) === r ? t == p || t.ownerDocument == x && y(x, t) ? -1 : e == p || e.ownerDocument == x && y(x, e) ? 1 : l ? B(l, t) - B(l, e) : 0 : 4 & r ? -1 : 1)
                        }
                        : function(t, e) {
                            if (t === e)
                                return c = !0,
                                0;
                            var n, r = 0, i = t.parentNode, o = e.parentNode, s = [t], a = [e];
                            if (!i || !o)
                                return t == p ? -1 : e == p ? 1 : i ? -1 : o ? 1 : l ? B(l, t) - B(l, e) : 0;
                            if (i === o)
                                return dt(t, e);
                            for (n = t; n = n.parentNode; )
                                s.unshift(n);
                            for (n = e; n = n.parentNode; )
                                a.unshift(n);
                            for (; s[r] === a[r]; )
                                r++;
                            return r ? dt(s[r], a[r]) : s[r] == x ? -1 : a[r] == x ? 1 : 0
                        }
                        ,
                        p) : p
                    }
                    ,
                    at.matches = function(t, e) {
                        return at(t, null, null, e)
                    }
                    ,
                    at.matchesSelector = function(t, e) {
                        if (d(t),
                        n.matchesSelector && m && !R[e + " "] && (!v || !v.test(e)) && (!_ || !_.test(e)))
                            try {
                                var r = g.call(t, e);
                                if (r || n.disconnectedMatch || t.document && 11 !== t.document.nodeType)
                                    return r
                            } catch (t) {
                                R(e, !0)
                            }
                        return at(e, p, null, [t]).length > 0
                    }
                    ,
                    at.contains = function(t, e) {
                        return (t.ownerDocument || t) != p && d(t),
                        y(t, e)
                    }
                    ,
                    at.attr = function(t, e) {
                        (t.ownerDocument || t) != p && d(t);
                        var i = r.attrHandle[e.toLowerCase()]
                          , o = i && I.call(r.attrHandle, e.toLowerCase()) ? i(t, e, !m) : void 0;
                        return void 0 !== o ? o : n.attributes || !m ? t.getAttribute(e) : (o = t.getAttributeNode(e)) && o.specified ? o.value : null
                    }
                    ,
                    at.escape = function(t) {
                        return (t + "").replace(rt, it)
                    }
                    ,
                    at.error = function(t) {
                        throw new Error("Syntax error, unrecognized expression: " + t)
                    }
                    ,
                    at.uniqueSort = function(t) {
                        var e, r = [], i = 0, o = 0;
                        if (c = !n.detectDuplicates,
                        l = !n.sortStable && t.slice(0),
                        t.sort(O),
                        c) {
                            for (; e = t[o++]; )
                                e === t[o] && (i = r.push(o));
                            for (; i--; )
                                t.splice(r[i], 1)
                        }
                        return l = null,
                        t
                    }
                    ,
                    i = at.getText = function(t) {
                        var e, n = "", r = 0, o = t.nodeType;
                        if (o) {
                            if (1 === o || 9 === o || 11 === o) {
                                if ("string" == typeof t.textContent)
                                    return t.textContent;
                                for (t = t.firstChild; t; t = t.nextSibling)
                                    n += i(t)
                            } else if (3 === o || 4 === o)
                                return t.nodeValue
                        } else
                            for (; e = t[r++]; )
                                n += i(e);
                        return n
                    }
                    ,
                    (r = at.selectors = {
                        cacheLength: 50,
                        createPseudo: ht,
                        match: z,
                        attrHandle: {},
                        find: {},
                        relative: {
                            ">": {
                                dir: "parentNode",
                                first: !0
                            },
                            " ": {
                                dir: "parentNode"
                            },
                            "+": {
                                dir: "previousSibling",
                                first: !0
                            },
                            "~": {
                                dir: "previousSibling"
                            }
                        },
                        preFilter: {
                            ATTR: function(t) {
                                return t[1] = t[1].replace(et, nt),
                                t[3] = (t[3] || t[4] || t[5] || "").replace(et, nt),
                                "~=" === t[2] && (t[3] = " " + t[3] + " "),
                                t.slice(0, 4)
                            },
                            CHILD: function(t) {
                                return t[1] = t[1].toLowerCase(),
                                "nth" === t[1].slice(0, 3) ? (t[3] || at.error(t[0]),
                                t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])),
                                t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && at.error(t[0]),
                                t
                            },
                            PSEUDO: function(t) {
                                var e, n = !t[6] && t[2];
                                return z.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : n && V.test(n) && (e = s(n, !0)) && (e = n.indexOf(")", n.length - e) - n.length) && (t[0] = t[0].slice(0, e),
                                t[2] = n.slice(0, e)),
                                t.slice(0, 3))
                            }
                        },
                        filter: {
                            TAG: function(t) {
                                var e = t.replace(et, nt).toLowerCase();
                                return "*" === t ? function() {
                                    return !0
                                }
                                : function(t) {
                                    return t.nodeName && t.nodeName.toLowerCase() === e
                                }
                            },
                            CLASS: function(t) {
                                var e = A[t + " "];
                                return e || (e = new RegExp("(^|[\\x20\\t\\r\\n\\f])" + t + "(" + F + "|$)")) && A(t, (function(t) {
                                    return e.test("string" == typeof t.className && t.className || void 0 !== t.getAttribute && t.getAttribute("class") || "")
                                }
                                ))
                            },
                            ATTR: function(t, e, n) {
                                return function(r) {
                                    var i = at.attr(r, t);
                                    return null == i ? "!=" === e : !e || (i += "",
                                    "=" === e ? i === n : "!=" === e ? i !== n : "^=" === e ? n && 0 === i.indexOf(n) : "*=" === e ? n && i.indexOf(n) > -1 : "$=" === e ? n && i.slice(-n.length) === n : "~=" === e ? (" " + i.replace(X, " ") + " ").indexOf(n) > -1 : "|=" === e && (i === n || i.slice(0, n.length + 1) === n + "-"))
                                }
                            },
                            CHILD: function(t, e, n, r, i) {
                                var o = "nth" !== t.slice(0, 3)
                                  , s = "last" !== t.slice(-4)
                                  , a = "of-type" === e;
                                return 1 === r && 0 === i ? function(t) {
                                    return !!t.parentNode
                                }
                                : function(e, n, u) {
                                    var h, l, c, d, p, f, m = o !== s ? "nextSibling" : "previousSibling", _ = e.parentNode, v = a && e.nodeName.toLowerCase(), g = !u && !a, y = !1;
                                    if (_) {
                                        if (o) {
                                            for (; m; ) {
                                                for (d = e; d = d[m]; )
                                                    if (a ? d.nodeName.toLowerCase() === v : 1 === d.nodeType)
                                                        return !1;
                                                f = m = "only" === t && !f && "nextSibling"
                                            }
                                            return !0
                                        }
                                        if (f = [s ? _.firstChild : _.lastChild],
                                        s && g) {
                                            for (y = (p = (h = (l = (c = (d = _)[b] || (d[b] = {}))[d.uniqueID] || (c[d.uniqueID] = {}))[t] || [])[0] === T && h[1]) && h[2],
                                            d = p && _.childNodes[p]; d = ++p && d && d[m] || (y = p = 0) || f.pop(); )
                                                if (1 === d.nodeType && ++y && d === e) {
                                                    l[t] = [T, p, y];
                                                    break
                                                }
                                        } else if (g && (y = p = (h = (l = (c = (d = e)[b] || (d[b] = {}))[d.uniqueID] || (c[d.uniqueID] = {}))[t] || [])[0] === T && h[1]),
                                        !1 === y)
                                            for (; (d = ++p && d && d[m] || (y = p = 0) || f.pop()) && ((a ? d.nodeName.toLowerCase() !== v : 1 !== d.nodeType) || !++y || (g && ((l = (c = d[b] || (d[b] = {}))[d.uniqueID] || (c[d.uniqueID] = {}))[t] = [T, y]),
                                            d !== e)); )
                                                ;
                                        return (y -= i) === r || y % r == 0 && y / r >= 0
                                    }
                                }
                            },
                            PSEUDO: function(t, e) {
                                var n, i = r.pseudos[t] || r.setFilters[t.toLowerCase()] || at.error("unsupported pseudo: " + t);
                                return i[b] ? i(e) : i.length > 1 ? (n = [t, t, "", e],
                                r.setFilters.hasOwnProperty(t.toLowerCase()) ? ht((function(t, n) {
                                    for (var r, o = i(t, e), s = o.length; s--; )
                                        t[r = B(t, o[s])] = !(n[r] = o[s])
                                }
                                )) : function(t) {
                                    return i(t, 0, n)
                                }
                                ) : i
                            }
                        },
                        pseudos: {
                            not: ht((function(t) {
                                var e = []
                                  , n = []
                                  , r = a(t.replace(H, "$1"));
                                return r[b] ? ht((function(t, e, n, i) {
                                    for (var o, s = r(t, null, i, []), a = t.length; a--; )
                                        (o = s[a]) && (t[a] = !(e[a] = o))
                                }
                                )) : function(t, i, o) {
                                    return e[0] = t,
                                    r(e, null, o, n),
                                    e[0] = null,
                                    !n.pop()
                                }
                            }
                            )),
                            has: ht((function(t) {
                                return function(e) {
                                    return at(t, e).length > 0
                                }
                            }
                            )),
                            contains: ht((function(t) {
                                return t = t.replace(et, nt),
                                function(e) {
                                    return (e.textContent || i(e)).indexOf(t) > -1
                                }
                            }
                            )),
                            lang: ht((function(t) {
                                return Y.test(t || "") || at.error("unsupported lang: " + t),
                                t = t.replace(et, nt).toLowerCase(),
                                function(e) {
                                    var n;
                                    do {
                                        if (n = m ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang"))
                                            return (n = n.toLowerCase()) === t || 0 === n.indexOf(t + "-")
                                    } while ((e = e.parentNode) && 1 === e.nodeType);
                                    return !1
                                }
                            }
                            )),
                            target: function(e) {
                                var n = t.location && t.location.hash;
                                return n && n.slice(1) === e.id
                            },
                            root: function(t) {
                                return t === f
                            },
                            focus: function(t) {
                                return t === p.activeElement && (!p.hasFocus || p.hasFocus()) && !!(t.type || t.href || ~t.tabIndex)
                            },
                            enabled: mt(!1),
                            disabled: mt(!0),
                            checked: function(t) {
                                var e = t.nodeName.toLowerCase();
                                return "input" === e && !!t.checked || "option" === e && !!t.selected
                            },
                            selected: function(t) {
                                return t.parentNode && t.parentNode.selectedIndex,
                                !0 === t.selected
                            },
                            empty: function(t) {
                                for (t = t.firstChild; t; t = t.nextSibling)
                                    if (t.nodeType < 6)
                                        return !1;
                                return !0
                            },
                            parent: function(t) {
                                return !r.pseudos.empty(t)
                            },
                            header: function(t) {
                                return J.test(t.nodeName)
                            },
                            input: function(t) {
                                return K.test(t.nodeName)
                            },
                            button: function(t) {
                                var e = t.nodeName.toLowerCase();
                                return "input" === e && "button" === t.type || "button" === e
                            },
                            text: function(t) {
                                var e;
                                return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase())
                            },
                            first: _t((function() {
                                return [0]
                            }
                            )),
                            last: _t((function(t, e) {
                                return [e - 1]
                            }
                            )),
                            eq: _t((function(t, e, n) {
                                return [n < 0 ? n + e : n]
                            }
                            )),
                            even: _t((function(t, e) {
                                for (var n = 0; n < e; n += 2)
                                    t.push(n);
                                return t
                            }
                            )),
                            odd: _t((function(t, e) {
                                for (var n = 1; n < e; n += 2)
                                    t.push(n);
                                return t
                            }
                            )),
                            lt: _t((function(t, e, n) {
                                for (var r = n < 0 ? n + e : n > e ? e : n; --r >= 0; )
                                    t.push(r);
                                return t
                            }
                            )),
                            gt: _t((function(t, e, n) {
                                for (var r = n < 0 ? n + e : n; ++r < e; )
                                    t.push(r);
                                return t
                            }
                            ))
                        }
                    }).pseudos.nth = r.pseudos.eq,
                    {
                        radio: !0,
                        checkbox: !0,
                        file: !0,
                        password: !0,
                        image: !0
                    })
                        r.pseudos[e] = pt(e);
                    for (e in {
                        submit: !0,
                        reset: !0
                    })
                        r.pseudos[e] = ft(e);
                    function gt() {}
                    function yt(t) {
                        for (var e = 0, n = t.length, r = ""; e < n; e++)
                            r += t[e].value;
                        return r
                    }
                    function bt(t, e, n) {
                        var r = e.dir
                          , i = e.next
                          , o = i || r
                          , s = n && "parentNode" === o
                          , a = E++;
                        return e.first ? function(e, n, i) {
                            for (; e = e[r]; )
                                if (1 === e.nodeType || s)
                                    return t(e, n, i);
                            return !1
                        }
                        : function(e, n, u) {
                            var h, l, c, d = [T, a];
                            if (u) {
                                for (; e = e[r]; )
                                    if ((1 === e.nodeType || s) && t(e, n, u))
                                        return !0
                            } else
                                for (; e = e[r]; )
                                    if (1 === e.nodeType || s)
                                        if (l = (c = e[b] || (e[b] = {}))[e.uniqueID] || (c[e.uniqueID] = {}),
                                        i && i === e.nodeName.toLowerCase())
                                            e = e[r] || e;
                                        else {
                                            if ((h = l[o]) && h[0] === T && h[1] === a)
                                                return d[2] = h[2];
                                            if (l[o] = d,
                                            d[2] = t(e, n, u))
                                                return !0
                                        }
                            return !1
                        }
                    }
                    function xt(t) {
                        return t.length > 1 ? function(e, n, r) {
                            for (var i = t.length; i--; )
                                if (!t[i](e, n, r))
                                    return !1;
                            return !0
                        }
                        : t[0]
                    }
                    function Tt(t, e, n, r, i) {
                        for (var o, s = [], a = 0, u = t.length, h = null != e; a < u; a++)
                            (o = t[a]) && (n && !n(o, r, i) || (s.push(o),
                            h && e.push(a)));
                        return s
                    }
                    function Et(t, e, n, r, i, o) {
                        return r && !r[b] && (r = Et(r)),
                        i && !i[b] && (i = Et(i, o)),
                        ht((function(o, s, a, u) {
                            var h, l, c, d = [], p = [], f = s.length, m = o || function(t, e, n) {
                                for (var r = 0, i = e.length; r < i; r++)
                                    at(t, e[r], n);
                                return n
                            }(e || "*", a.nodeType ? [a] : a, []), _ = !t || !o && e ? m : Tt(m, d, t, a, u), v = n ? i || (o ? t : f || r) ? [] : s : _;
                            if (n && n(_, v, a, u),
                            r)
                                for (h = Tt(v, p),
                                r(h, [], a, u),
                                l = h.length; l--; )
                                    (c = h[l]) && (v[p[l]] = !(_[p[l]] = c));
                            if (o) {
                                if (i || t) {
                                    if (i) {
                                        for (h = [],
                                        l = v.length; l--; )
                                            (c = v[l]) && h.push(_[l] = c);
                                        i(null, v = [], h, u)
                                    }
                                    for (l = v.length; l--; )
                                        (c = v[l]) && (h = i ? B(o, c) : d[l]) > -1 && (o[h] = !(s[h] = c))
                                }
                            } else
                                v = Tt(v === s ? v.splice(f, v.length) : v),
                                i ? i(null, s, v, u) : P.apply(s, v)
                        }
                        ))
                    }
                    function At(t) {
                        for (var e, n, i, o = t.length, s = r.relative[t[0].type], a = s || r.relative[" "], u = s ? 1 : 0, l = bt((function(t) {
                            return t === e
                        }
                        ), a, !0), c = bt((function(t) {
                            return B(e, t) > -1
                        }
                        ), a, !0), d = [function(t, n, r) {
                            var i = !s && (r || n !== h) || ((e = n).nodeType ? l(t, n, r) : c(t, n, r));
                            return e = null,
                            i
                        }
                        ]; u < o; u++)
                            if (n = r.relative[t[u].type])
                                d = [bt(xt(d), n)];
                            else {
                                if ((n = r.filter[t[u].type].apply(null, t[u].matches))[b]) {
                                    for (i = ++u; i < o && !r.relative[t[i].type]; i++)
                                        ;
                                    return Et(u > 1 && xt(d), u > 1 && yt(t.slice(0, u - 1).concat({
                                        value: " " === t[u - 2].type ? "*" : ""
                                    })).replace(H, "$1"), n, u < i && At(t.slice(u, i)), i < o && At(t = t.slice(i)), i < o && yt(t))
                                }
                                d.push(n)
                            }
                        return xt(d)
                    }
                    return gt.prototype = r.filters = r.pseudos,
                    r.setFilters = new gt,
                    s = at.tokenize = function(t, e) {
                        var n, i, o, s, a, u, h, l = S[t + " "];
                        if (l)
                            return e ? 0 : l.slice(0);
                        for (a = t,
                        u = [],
                        h = r.preFilter; a; ) {
                            for (s in n && !(i = j.exec(a)) || (i && (a = a.slice(i[0].length) || a),
                            u.push(o = [])),
                            n = !1,
                            (i = $.exec(a)) && (n = i.shift(),
                            o.push({
                                value: n,
                                type: i[0].replace(H, " ")
                            }),
                            a = a.slice(n.length)),
                            r.filter)
                                !(i = z[s].exec(a)) || h[s] && !(i = h[s](i)) || (n = i.shift(),
                                o.push({
                                    value: n,
                                    type: s,
                                    matches: i
                                }),
                                a = a.slice(n.length));
                            if (!n)
                                break
                        }
                        return e ? a.length : a ? at.error(t) : S(t, u).slice(0)
                    }
                    ,
                    a = at.compile = function(t, e) {
                        var n, i = [], o = [], a = w[t + " "];
                        if (!a) {
                            for (e || (e = s(t)),
                            n = e.length; n--; )
                                (a = At(e[n]))[b] ? i.push(a) : o.push(a);
                            (a = w(t, function(t, e) {
                                var n = e.length > 0
                                  , i = t.length > 0
                                  , o = function(o, s, a, u, l) {
                                    var c, f, _, v = 0, g = "0", y = o && [], b = [], x = h, E = o || i && r.find.TAG("*", l), A = T += null == x ? 1 : Math.random() || .1, S = E.length;
                                    for (l && (h = s == p || s || l); g !== S && null != (c = E[g]); g++) {
                                        if (i && c) {
                                            for (f = 0,
                                            s || c.ownerDocument == p || (d(c),
                                            a = !m); _ = t[f++]; )
                                                if (_(c, s || p, a)) {
                                                    u.push(c);
                                                    break
                                                }
                                            l && (T = A)
                                        }
                                        n && ((c = !_ && c) && v--,
                                        o && y.push(c))
                                    }
                                    if (v += g,
                                    n && g !== v) {
                                        for (f = 0; _ = e[f++]; )
                                            _(y, b, s, a);
                                        if (o) {
                                            if (v > 0)
                                                for (; g--; )
                                                    y[g] || b[g] || (b[g] = D.call(u));
                                            b = Tt(b)
                                        }
                                        P.apply(u, b),
                                        l && !o && b.length > 0 && v + e.length > 1 && at.uniqueSort(u)
                                    }
                                    return l && (T = A,
                                    h = x),
                                    y
                                };
                                return n ? ht(o) : o
                            }(o, i))).selector = t
                        }
                        return a
                    }
                    ,
                    u = at.select = function(t, e, n, i) {
                        var o, u, h, l, c, d = "function" == typeof t && t, p = !i && s(t = d.selector || t);
                        if (n = n || [],
                        1 === p.length) {
                            if ((u = p[0] = p[0].slice(0)).length > 2 && "ID" === (h = u[0]).type && 9 === e.nodeType && m && r.relative[u[1].type]) {
                                if (!(e = (r.find.ID(h.matches[0].replace(et, nt), e) || [])[0]))
                                    return n;
                                d && (e = e.parentNode),
                                t = t.slice(u.shift().value.length)
                            }
                            for (o = z.needsContext.test(t) ? 0 : u.length; o-- && (h = u[o],
                            !r.relative[l = h.type]); )
                                if ((c = r.find[l]) && (i = c(h.matches[0].replace(et, nt), tt.test(u[0].type) && vt(e.parentNode) || e))) {
                                    if (u.splice(o, 1),
                                    !(t = i.length && yt(u)))
                                        return P.apply(n, i),
                                        n;
                                    break
                                }
                        }
                        return (d || a(t, p))(i, e, !m, n, !e || tt.test(t) && vt(e.parentNode) || e),
                        n
                    }
                    ,
                    n.sortStable = b.split("").sort(O).join("") === b,
                    n.detectDuplicates = !!c,
                    d(),
                    n.sortDetached = lt((function(t) {
                        return 1 & t.compareDocumentPosition(p.createElement("fieldset"))
                    }
                    )),
                    lt((function(t) {
                        return t.innerHTML = "<a href='#'></a>",
                        "#" === t.firstChild.getAttribute("href")
                    }
                    )) || ct("type|href|height|width", (function(t, e, n) {
                        if (!n)
                            return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2)
                    }
                    )),
                    n.attributes && lt((function(t) {
                        return t.innerHTML = "<input/>",
                        t.firstChild.setAttribute("value", ""),
                        "" === t.firstChild.getAttribute("value")
                    }
                    )) || ct("value", (function(t, e, n) {
                        if (!n && "input" === t.nodeName.toLowerCase())
                            return t.defaultValue
                    }
                    )),
                    lt((function(t) {
                        return null == t.getAttribute("disabled")
                    }
                    )) || ct(L, (function(t, e, n) {
                        var r;
                        if (!n)
                            return !0 === t[e] ? e.toLowerCase() : (r = t.getAttributeNode(e)) && r.specified ? r.value : null
                    }
                    )),
                    at
                }(r);
                A.find = w,
                A.expr = w.selectors,
                A.expr[":"] = A.expr.pseudos,
                A.uniqueSort = A.unique = w.uniqueSort,
                A.text = w.getText,
                A.isXMLDoc = w.isXML,
                A.contains = w.contains,
                A.escapeSelector = w.escape;
                var R = function(t, e, n) {
                    for (var r = [], i = void 0 !== n; (t = t[e]) && 9 !== t.nodeType; )
                        if (1 === t.nodeType) {
                            if (i && A(t).is(n))
                                break;
                            r.push(t)
                        }
                    return r
                }
                  , O = function(t, e) {
                    for (var n = []; t; t = t.nextSibling)
                        1 === t.nodeType && t !== e && n.push(t);
                    return n
                }
                  , I = A.expr.match.needsContext;
                function C(t, e) {
                    return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase()
                }
                var D = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
                function M(t, e, n) {
                    return v(e) ? A.grep(t, (function(t, r) {
                        return !!e.call(t, r, t) !== n
                    }
                    )) : e.nodeType ? A.grep(t, (function(t) {
                        return t === e !== n
                    }
                    )) : "string" != typeof e ? A.grep(t, (function(t) {
                        return l.call(e, t) > -1 !== n
                    }
                    )) : A.filter(e, t, n)
                }
                A.filter = function(t, e, n) {
                    var r = e[0];
                    return n && (t = ":not(" + t + ")"),
                    1 === e.length && 1 === r.nodeType ? A.find.matchesSelector(r, t) ? [r] : [] : A.find.matches(t, A.grep(e, (function(t) {
                        return 1 === t.nodeType
                    }
                    )))
                }
                ,
                A.fn.extend({
                    find: function(t) {
                        var e, n, r = this.length, i = this;
                        if ("string" != typeof t)
                            return this.pushStack(A(t).filter((function() {
                                for (e = 0; e < r; e++)
                                    if (A.contains(i[e], this))
                                        return !0
                            }
                            )));
                        for (n = this.pushStack([]),
                        e = 0; e < r; e++)
                            A.find(t, i[e], n);
                        return r > 1 ? A.uniqueSort(n) : n
                    },
                    filter: function(t) {
                        return this.pushStack(M(this, t || [], !1))
                    },
                    not: function(t) {
                        return this.pushStack(M(this, t || [], !0))
                    },
                    is: function(t) {
                        return !!M(this, "string" == typeof t && I.test(t) ? A(t) : t || [], !1).length
                    }
                });
                var P, N = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
                (A.fn.init = function(t, e, n) {
                    var r, i;
                    if (!t)
                        return this;
                    if (n = n || P,
                    "string" == typeof t) {
                        if (!(r = "<" === t[0] && ">" === t[t.length - 1] && t.length >= 3 ? [null, t, null] : N.exec(t)) || !r[1] && e)
                            return !e || e.jquery ? (e || n).find(t) : this.constructor(e).find(t);
                        if (r[1]) {
                            if (e = e instanceof A ? e[0] : e,
                            A.merge(this, A.parseHTML(r[1], e && e.nodeType ? e.ownerDocument || e : y, !0)),
                            D.test(r[1]) && A.isPlainObject(e))
                                for (r in e)
                                    v(this[r]) ? this[r](e[r]) : this.attr(r, e[r]);
                            return this
                        }
                        return (i = y.getElementById(r[2])) && (this[0] = i,
                        this.length = 1),
                        this
                    }
                    return t.nodeType ? (this[0] = t,
                    this.length = 1,
                    this) : v(t) ? void 0 !== n.ready ? n.ready(t) : t(A) : A.makeArray(t, this)
                }
                ).prototype = A.fn,
                P = A(y);
                var B = /^(?:parents|prev(?:Until|All))/
                  , L = {
                    children: !0,
                    contents: !0,
                    next: !0,
                    prev: !0
                };
                function F(t, e) {
                    for (; (t = t[e]) && 1 !== t.nodeType; )
                        ;
                    return t
                }
                A.fn.extend({
                    has: function(t) {
                        var e = A(t, this)
                          , n = e.length;
                        return this.filter((function() {
                            for (var t = 0; t < n; t++)
                                if (A.contains(this, e[t]))
                                    return !0
                        }
                        ))
                    },
                    closest: function(t, e) {
                        var n, r = 0, i = this.length, o = [], s = "string" != typeof t && A(t);
                        if (!I.test(t))
                            for (; r < i; r++)
                                for (n = this[r]; n && n !== e; n = n.parentNode)
                                    if (n.nodeType < 11 && (s ? s.index(n) > -1 : 1 === n.nodeType && A.find.matchesSelector(n, t))) {
                                        o.push(n);
                                        break
                                    }
                        return this.pushStack(o.length > 1 ? A.uniqueSort(o) : o)
                    },
                    index: function(t) {
                        return t ? "string" == typeof t ? l.call(A(t), this[0]) : l.call(this, t.jquery ? t[0] : t) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
                    },
                    add: function(t, e) {
                        return this.pushStack(A.uniqueSort(A.merge(this.get(), A(t, e))))
                    },
                    addBack: function(t) {
                        return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
                    }
                }),
                A.each({
                    parent: function(t) {
                        var e = t.parentNode;
                        return e && 11 !== e.nodeType ? e : null
                    },
                    parents: function(t) {
                        return R(t, "parentNode")
                    },
                    parentsUntil: function(t, e, n) {
                        return R(t, "parentNode", n)
                    },
                    next: function(t) {
                        return F(t, "nextSibling")
                    },
                    prev: function(t) {
                        return F(t, "previousSibling")
                    },
                    nextAll: function(t) {
                        return R(t, "nextSibling")
                    },
                    prevAll: function(t) {
                        return R(t, "previousSibling")
                    },
                    nextUntil: function(t, e, n) {
                        return R(t, "nextSibling", n)
                    },
                    prevUntil: function(t, e, n) {
                        return R(t, "previousSibling", n)
                    },
                    siblings: function(t) {
                        return O((t.parentNode || {}).firstChild, t)
                    },
                    children: function(t) {
                        return O(t.firstChild)
                    },
                    contents: function(t) {
                        return null != t.contentDocument && s(t.contentDocument) ? t.contentDocument : (C(t, "template") && (t = t.content || t),
                        A.merge([], t.childNodes))
                    }
                }, (function(t, e) {
                    A.fn[t] = function(n, r) {
                        var i = A.map(this, e, n);
                        return "Until" !== t.slice(-5) && (r = n),
                        r && "string" == typeof r && (i = A.filter(r, i)),
                        this.length > 1 && (L[t] || A.uniqueSort(i),
                        B.test(t) && i.reverse()),
                        this.pushStack(i)
                    }
                }
                ));
                var G = /[^\x20\t\r\n\f]+/g;
                function k(t) {
                    return t
                }
                function U(t) {
                    throw t
                }
                function X(t, e, n, r) {
                    var i;
                    try {
                        t && v(i = t.promise) ? i.call(t).done(e).fail(n) : t && v(i = t.then) ? i.call(t, e, n) : e.apply(void 0, [t].slice(r))
                    } catch (t) {
                        n.apply(void 0, [t])
                    }
                }
                A.Callbacks = function(t) {
                    t = "string" == typeof t ? function(t) {
                        var e = {};
                        return A.each(t.match(G) || [], (function(t, n) {
                            e[n] = !0
                        }
                        )),
                        e
                    }(t) : A.extend({}, t);
                    var e, n, r, i, o = [], s = [], a = -1, u = function() {
                        for (i = i || t.once,
                        r = e = !0; s.length; a = -1)
                            for (n = s.shift(); ++a < o.length; )
                                !1 === o[a].apply(n[0], n[1]) && t.stopOnFalse && (a = o.length,
                                n = !1);
                        t.memory || (n = !1),
                        e = !1,
                        i && (o = n ? [] : "")
                    }, h = {
                        add: function() {
                            return o && (n && !e && (a = o.length - 1,
                            s.push(n)),
                            function e(n) {
                                A.each(n, (function(n, r) {
                                    v(r) ? t.unique && h.has(r) || o.push(r) : r && r.length && "string" !== T(r) && e(r)
                                }
                                ))
                            }(arguments),
                            n && !e && u()),
                            this
                        },
                        remove: function() {
                            return A.each(arguments, (function(t, e) {
                                for (var n; (n = A.inArray(e, o, n)) > -1; )
                                    o.splice(n, 1),
                                    n <= a && a--
                            }
                            )),
                            this
                        },
                        has: function(t) {
                            return t ? A.inArray(t, o) > -1 : o.length > 0
                        },
                        empty: function() {
                            return o && (o = []),
                            this
                        },
                        disable: function() {
                            return i = s = [],
                            o = n = "",
                            this
                        },
                        disabled: function() {
                            return !o
                        },
                        lock: function() {
                            return i = s = [],
                            n || e || (o = n = ""),
                            this
                        },
                        locked: function() {
                            return !!i
                        },
                        fireWith: function(t, n) {
                            return i || (n = [t, (n = n || []).slice ? n.slice() : n],
                            s.push(n),
                            e || u()),
                            this
                        },
                        fire: function() {
                            return h.fireWith(this, arguments),
                            this
                        },
                        fired: function() {
                            return !!r
                        }
                    };
                    return h
                }
                ,
                A.extend({
                    Deferred: function(t) {
                        var e = [["notify", "progress", A.Callbacks("memory"), A.Callbacks("memory"), 2], ["resolve", "done", A.Callbacks("once memory"), A.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", A.Callbacks("once memory"), A.Callbacks("once memory"), 1, "rejected"]]
                          , n = "pending"
                          , i = {
                            state: function() {
                                return n
                            },
                            always: function() {
                                return o.done(arguments).fail(arguments),
                                this
                            },
                            catch: function(t) {
                                return i.then(null, t)
                            },
                            pipe: function() {
                                var t = arguments;
                                return A.Deferred((function(n) {
                                    A.each(e, (function(e, r) {
                                        var i = v(t[r[4]]) && t[r[4]];
                                        o[r[1]]((function() {
                                            var t = i && i.apply(this, arguments);
                                            t && v(t.promise) ? t.promise().progress(n.notify).done(n.resolve).fail(n.reject) : n[r[0] + "With"](this, i ? [t] : arguments)
                                        }
                                        ))
                                    }
                                    )),
                                    t = null
                                }
                                )).promise()
                            },
                            then: function(t, n, i) {
                                var o = 0;
                                function s(t, e, n, i) {
                                    return function() {
                                        var a = this
                                          , u = arguments
                                          , h = function() {
                                            var r, h;
                                            if (!(t < o)) {
                                                if ((r = n.apply(a, u)) === e.promise())
                                                    throw new TypeError("Thenable self-resolution");
                                                h = r && ("object" == typeof r || "function" == typeof r) && r.then,
                                                v(h) ? i ? h.call(r, s(o, e, k, i), s(o, e, U, i)) : (o++,
                                                h.call(r, s(o, e, k, i), s(o, e, U, i), s(o, e, k, e.notifyWith))) : (n !== k && (a = void 0,
                                                u = [r]),
                                                (i || e.resolveWith)(a, u))
                                            }
                                        }
                                          , l = i ? h : function() {
                                            try {
                                                h()
                                            } catch (r) {
                                                A.Deferred.exceptionHook && A.Deferred.exceptionHook(r, l.stackTrace),
                                                t + 1 >= o && (n !== U && (a = void 0,
                                                u = [r]),
                                                e.rejectWith(a, u))
                                            }
                                        }
                                        ;
                                        t ? l() : (A.Deferred.getStackHook && (l.stackTrace = A.Deferred.getStackHook()),
                                        r.setTimeout(l))
                                    }
                                }
                                return A.Deferred((function(r) {
                                    e[0][3].add(s(0, r, v(i) ? i : k, r.notifyWith)),
                                    e[1][3].add(s(0, r, v(t) ? t : k)),
                                    e[2][3].add(s(0, r, v(n) ? n : U))
                                }
                                )).promise()
                            },
                            promise: function(t) {
                                return null != t ? A.extend(t, i) : i
                            }
                        }
                          , o = {};
                        return A.each(e, (function(t, r) {
                            var s = r[2]
                              , a = r[5];
                            i[r[1]] = s.add,
                            a && s.add((function() {
                                n = a
                            }
                            ), e[3 - t][2].disable, e[3 - t][3].disable, e[0][2].lock, e[0][3].lock),
                            s.add(r[3].fire),
                            o[r[0]] = function() {
                                return o[r[0] + "With"](this === o ? void 0 : this, arguments),
                                this
                            }
                            ,
                            o[r[0] + "With"] = s.fireWith
                        }
                        )),
                        i.promise(o),
                        t && t.call(o, o),
                        o
                    },
                    when: function(t) {
                        var e = arguments.length
                          , n = e
                          , r = Array(n)
                          , i = a.call(arguments)
                          , o = A.Deferred()
                          , s = function(t) {
                            return function(n) {
                                r[t] = this,
                                i[t] = arguments.length > 1 ? a.call(arguments) : n,
                                --e || o.resolveWith(r, i)
                            }
                        };
                        if (e <= 1 && (X(t, o.done(s(n)).resolve, o.reject, !e),
                        "pending" === o.state() || v(i[n] && i[n].then)))
                            return o.then();
                        for (; n--; )
                            X(i[n], s(n), o.reject);
                        return o.promise()
                    }
                });
                var H = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
                A.Deferred.exceptionHook = function(t, e) {
                    r.console && r.console.warn && t && H.test(t.name) && r.console.warn("jQuery.Deferred exception: " + t.message, t.stack, e)
                }
                ,
                A.readyException = function(t) {
                    r.setTimeout((function() {
                        throw t
                    }
                    ))
                }
                ;
                var j = A.Deferred();
                function $() {
                    y.removeEventListener("DOMContentLoaded", $),
                    r.removeEventListener("load", $),
                    A.ready()
                }
                A.fn.ready = function(t) {
                    return j.then(t).catch((function(t) {
                        A.readyException(t)
                    }
                    )),
                    this
                }
                ,
                A.extend({
                    isReady: !1,
                    readyWait: 1,
                    ready: function(t) {
                        (!0 === t ? --A.readyWait : A.isReady) || (A.isReady = !0,
                        !0 !== t && --A.readyWait > 0 || j.resolveWith(y, [A]))
                    }
                }),
                A.ready.then = j.then,
                "complete" === y.readyState || "loading" !== y.readyState && !y.documentElement.doScroll ? r.setTimeout(A.ready) : (y.addEventListener("DOMContentLoaded", $),
                r.addEventListener("load", $));
                var W = function(t, e, n, r, i, o, s) {
                    var a = 0
                      , u = t.length
                      , h = null == n;
                    if ("object" === T(n))
                        for (a in i = !0,
                        n)
                            W(t, e, a, n[a], !0, o, s);
                    else if (void 0 !== r && (i = !0,
                    v(r) || (s = !0),
                    h && (s ? (e.call(t, r),
                    e = null) : (h = e,
                    e = function(t, e, n) {
                        return h.call(A(t), n)
                    }
                    )),
                    e))
                        for (; a < u; a++)
                            e(t[a], n, s ? r : r.call(t[a], a, e(t[a], n)));
                    return i ? t : h ? e.call(t) : u ? e(t[0], n) : o
                }
                  , V = /^-ms-/
                  , Y = /-([a-z])/g;
                function z(t, e) {
                    return e.toUpperCase()
                }
                function q(t) {
                    return t.replace(V, "ms-").replace(Y, z)
                }
                var K = function(t) {
                    return 1 === t.nodeType || 9 === t.nodeType || !+t.nodeType
                };
                function J() {
                    this.expando = A.expando + J.uid++
                }
                J.uid = 1,
                J.prototype = {
                    cache: function(t) {
                        var e = t[this.expando];
                        return e || (e = {},
                        K(t) && (t.nodeType ? t[this.expando] = e : Object.defineProperty(t, this.expando, {
                            value: e,
                            configurable: !0
                        }))),
                        e
                    },
                    set: function(t, e, n) {
                        var r, i = this.cache(t);
                        if ("string" == typeof e)
                            i[q(e)] = n;
                        else
                            for (r in e)
                                i[q(r)] = e[r];
                        return i
                    },
                    get: function(t, e) {
                        return void 0 === e ? this.cache(t) : t[this.expando] && t[this.expando][q(e)]
                    },
                    access: function(t, e, n) {
                        return void 0 === e || e && "string" == typeof e && void 0 === n ? this.get(t, e) : (this.set(t, e, n),
                        void 0 !== n ? n : e)
                    },
                    remove: function(t, e) {
                        var n, r = t[this.expando];
                        if (void 0 !== r) {
                            if (void 0 !== e) {
                                n = (e = Array.isArray(e) ? e.map(q) : (e = q(e))in r ? [e] : e.match(G) || []).length;
                                for (; n--; )
                                    delete r[e[n]]
                            }
                            (void 0 === e || A.isEmptyObject(r)) && (t.nodeType ? t[this.expando] = void 0 : delete t[this.expando])
                        }
                    },
                    hasData: function(t) {
                        var e = t[this.expando];
                        return void 0 !== e && !A.isEmptyObject(e)
                    }
                };
                var Z = new J
                  , Q = new J
                  , tt = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/
                  , et = /[A-Z]/g;
                function nt(t, e, n) {
                    var r;
                    if (void 0 === n && 1 === t.nodeType)
                        if (r = "data-" + e.replace(et, "-$&").toLowerCase(),
                        "string" == typeof (n = t.getAttribute(r))) {
                            try {
                                n = function(t) {
                                    return "true" === t || "false" !== t && ("null" === t ? null : t === +t + "" ? +t : tt.test(t) ? JSON.parse(t) : t)
                                }(n)
                            } catch (t) {}
                            Q.set(t, e, n)
                        } else
                            n = void 0;
                    return n
                }
                A.extend({
                    hasData: function(t) {
                        return Q.hasData(t) || Z.hasData(t)
                    },
                    data: function(t, e, n) {
                        return Q.access(t, e, n)
                    },
                    removeData: function(t, e) {
                        Q.remove(t, e)
                    },
                    _data: function(t, e, n) {
                        return Z.access(t, e, n)
                    },
                    _removeData: function(t, e) {
                        Z.remove(t, e)
                    }
                }),
                A.fn.extend({
                    data: function(t, e) {
                        var n, r, i, o = this[0], s = o && o.attributes;
                        if (void 0 === t) {
                            if (this.length && (i = Q.get(o),
                            1 === o.nodeType && !Z.get(o, "hasDataAttrs"))) {
                                for (n = s.length; n--; )
                                    s[n] && 0 === (r = s[n].name).indexOf("data-") && (r = q(r.slice(5)),
                                    nt(o, r, i[r]));
                                Z.set(o, "hasDataAttrs", !0)
                            }
                            return i
                        }
                        return "object" == typeof t ? this.each((function() {
                            Q.set(this, t)
                        }
                        )) : W(this, (function(e) {
                            var n;
                            if (o && void 0 === e)
                                return void 0 !== (n = Q.get(o, t)) || void 0 !== (n = nt(o, t)) ? n : void 0;
                            this.each((function() {
                                Q.set(this, t, e)
                            }
                            ))
                        }
                        ), null, e, arguments.length > 1, null, !0)
                    },
                    removeData: function(t) {
                        return this.each((function() {
                            Q.remove(this, t)
                        }
                        ))
                    }
                }),
                A.extend({
                    queue: function(t, e, n) {
                        var r;
                        if (t)
                            return e = (e || "fx") + "queue",
                            r = Z.get(t, e),
                            n && (!r || Array.isArray(n) ? r = Z.access(t, e, A.makeArray(n)) : r.push(n)),
                            r || []
                    },
                    dequeue: function(t, e) {
                        e = e || "fx";
                        var n = A.queue(t, e)
                          , r = n.length
                          , i = n.shift()
                          , o = A._queueHooks(t, e);
                        "inprogress" === i && (i = n.shift(),
                        r--),
                        i && ("fx" === e && n.unshift("inprogress"),
                        delete o.stop,
                        i.call(t, (function() {
                            A.dequeue(t, e)
                        }
                        ), o)),
                        !r && o && o.empty.fire()
                    },
                    _queueHooks: function(t, e) {
                        var n = e + "queueHooks";
                        return Z.get(t, n) || Z.access(t, n, {
                            empty: A.Callbacks("once memory").add((function() {
                                Z.remove(t, [e + "queue", n])
                            }
                            ))
                        })
                    }
                }),
                A.fn.extend({
                    queue: function(t, e) {
                        var n = 2;
                        return "string" != typeof t && (e = t,
                        t = "fx",
                        n--),
                        arguments.length < n ? A.queue(this[0], t) : void 0 === e ? this : this.each((function() {
                            var n = A.queue(this, t, e);
                            A._queueHooks(this, t),
                            "fx" === t && "inprogress" !== n[0] && A.dequeue(this, t)
                        }
                        ))
                    },
                    dequeue: function(t) {
                        return this.each((function() {
                            A.dequeue(this, t)
                        }
                        ))
                    },
                    clearQueue: function(t) {
                        return this.queue(t || "fx", [])
                    },
                    promise: function(t, e) {
                        var n, r = 1, i = A.Deferred(), o = this, s = this.length, a = function() {
                            --r || i.resolveWith(o, [o])
                        };
                        for ("string" != typeof t && (e = t,
                        t = void 0),
                        t = t || "fx"; s--; )
                            (n = Z.get(o[s], t + "queueHooks")) && n.empty && (r++,
                            n.empty.add(a));
                        return a(),
                        i.promise(e)
                    }
                });
                var rt = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source
                  , it = new RegExp("^(?:([+-])=|)(" + rt + ")([a-z%]*)$","i")
                  , ot = ["Top", "Right", "Bottom", "Left"]
                  , st = y.documentElement
                  , at = function(t) {
                    return A.contains(t.ownerDocument, t)
                }
                  , ut = {
                    composed: !0
                };
                st.getRootNode && (at = function(t) {
                    return A.contains(t.ownerDocument, t) || t.getRootNode(ut) === t.ownerDocument
                }
                );
                var ht = function(t, e) {
                    return "none" === (t = e || t).style.display || "" === t.style.display && at(t) && "none" === A.css(t, "display")
                };
                function lt(t, e, n, r) {
                    var i, o, s = 20, a = r ? function() {
                        return r.cur()
                    }
                    : function() {
                        return A.css(t, e, "")
                    }
                    , u = a(), h = n && n[3] || (A.cssNumber[e] ? "" : "px"), l = t.nodeType && (A.cssNumber[e] || "px" !== h && +u) && it.exec(A.css(t, e));
                    if (l && l[3] !== h) {
                        for (u /= 2,
                        h = h || l[3],
                        l = +u || 1; s--; )
                            A.style(t, e, l + h),
                            (1 - o) * (1 - (o = a() / u || .5)) <= 0 && (s = 0),
                            l /= o;
                        l *= 2,
                        A.style(t, e, l + h),
                        n = n || []
                    }
                    return n && (l = +l || +u || 0,
                    i = n[1] ? l + (n[1] + 1) * n[2] : +n[2],
                    r && (r.unit = h,
                    r.start = l,
                    r.end = i)),
                    i
                }
                var ct = {};
                function dt(t) {
                    var e, n = t.ownerDocument, r = t.nodeName, i = ct[r];
                    return i || (e = n.body.appendChild(n.createElement(r)),
                    i = A.css(e, "display"),
                    e.parentNode.removeChild(e),
                    "none" === i && (i = "block"),
                    ct[r] = i,
                    i)
                }
                function pt(t, e) {
                    for (var n, r, i = [], o = 0, s = t.length; o < s; o++)
                        (r = t[o]).style && (n = r.style.display,
                        e ? ("none" === n && (i[o] = Z.get(r, "display") || null,
                        i[o] || (r.style.display = "")),
                        "" === r.style.display && ht(r) && (i[o] = dt(r))) : "none" !== n && (i[o] = "none",
                        Z.set(r, "display", n)));
                    for (o = 0; o < s; o++)
                        null != i[o] && (t[o].style.display = i[o]);
                    return t
                }
                A.fn.extend({
                    show: function() {
                        return pt(this, !0)
                    },
                    hide: function() {
                        return pt(this)
                    },
                    toggle: function(t) {
                        return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each((function() {
                            ht(this) ? A(this).show() : A(this).hide()
                        }
                        ))
                    }
                });
                var ft, mt, _t = /^(?:checkbox|radio)$/i, vt = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i, gt = /^$|^module$|\/(?:java|ecma)script/i;
                ft = y.createDocumentFragment().appendChild(y.createElement("div")),
                (mt = y.createElement("input")).setAttribute("type", "radio"),
                mt.setAttribute("checked", "checked"),
                mt.setAttribute("name", "t"),
                ft.appendChild(mt),
                _.checkClone = ft.cloneNode(!0).cloneNode(!0).lastChild.checked,
                ft.innerHTML = "<textarea>x</textarea>",
                _.noCloneChecked = !!ft.cloneNode(!0).lastChild.defaultValue,
                ft.innerHTML = "<option></option>",
                _.option = !!ft.lastChild;
                var yt = {
                    thead: [1, "<table>", "</table>"],
                    col: [2, "<table><colgroup>", "</colgroup></table>"],
                    tr: [2, "<table><tbody>", "</tbody></table>"],
                    td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                    _default: [0, "", ""]
                };
                function bt(t, e) {
                    var n;
                    return n = void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e || "*") : void 0 !== t.querySelectorAll ? t.querySelectorAll(e || "*") : [],
                    void 0 === e || e && C(t, e) ? A.merge([t], n) : n
                }
                function xt(t, e) {
                    for (var n = 0, r = t.length; n < r; n++)
                        Z.set(t[n], "globalEval", !e || Z.get(e[n], "globalEval"))
                }
                yt.tbody = yt.tfoot = yt.colgroup = yt.caption = yt.thead,
                yt.th = yt.td,
                _.option || (yt.optgroup = yt.option = [1, "<select multiple='multiple'>", "</select>"]);
                var Tt = /<|&#?\w+;/;
                function Et(t, e, n, r, i) {
                    for (var o, s, a, u, h, l, c = e.createDocumentFragment(), d = [], p = 0, f = t.length; p < f; p++)
                        if ((o = t[p]) || 0 === o)
                            if ("object" === T(o))
                                A.merge(d, o.nodeType ? [o] : o);
                            else if (Tt.test(o)) {
                                for (s = s || c.appendChild(e.createElement("div")),
                                a = (vt.exec(o) || ["", ""])[1].toLowerCase(),
                                u = yt[a] || yt._default,
                                s.innerHTML = u[1] + A.htmlPrefilter(o) + u[2],
                                l = u[0]; l--; )
                                    s = s.lastChild;
                                A.merge(d, s.childNodes),
                                (s = c.firstChild).textContent = ""
                            } else
                                d.push(e.createTextNode(o));
                    for (c.textContent = "",
                    p = 0; o = d[p++]; )
                        if (r && A.inArray(o, r) > -1)
                            i && i.push(o);
                        else if (h = at(o),
                        s = bt(c.appendChild(o), "script"),
                        h && xt(s),
                        n)
                            for (l = 0; o = s[l++]; )
                                gt.test(o.type || "") && n.push(o);
                    return c
                }
                var At = /^key/
                  , St = /^(?:mouse|pointer|contextmenu|drag|drop)|click/
                  , wt = /^([^.]*)(?:\.(.+)|)/;
                function Rt() {
                    return !0
                }
                function Ot() {
                    return !1
                }
                function It(t, e) {
                    return t === function() {
                        try {
                            return y.activeElement
                        } catch (t) {}
                    }() == ("focus" === e)
                }
                function Ct(t, e, n, r, i, o) {
                    var s, a;
                    if ("object" == typeof e) {
                        for (a in "string" != typeof n && (r = r || n,
                        n = void 0),
                        e)
                            Ct(t, a, n, r, e[a], o);
                        return t
                    }
                    if (null == r && null == i ? (i = n,
                    r = n = void 0) : null == i && ("string" == typeof n ? (i = r,
                    r = void 0) : (i = r,
                    r = n,
                    n = void 0)),
                    !1 === i)
                        i = Ot;
                    else if (!i)
                        return t;
                    return 1 === o && (s = i,
                    (i = function(t) {
                        return A().off(t),
                        s.apply(this, arguments)
                    }
                    ).guid = s.guid || (s.guid = A.guid++)),
                    t.each((function() {
                        A.event.add(this, e, i, r, n)
                    }
                    ))
                }
                function Dt(t, e, n) {
                    n ? (Z.set(t, e, !1),
                    A.event.add(t, e, {
                        namespace: !1,
                        handler: function(t) {
                            var r, i, o = Z.get(this, e);
                            if (1 & t.isTrigger && this[e]) {
                                if (o.length)
                                    (A.event.special[e] || {}).delegateType && t.stopPropagation();
                                else if (o = a.call(arguments),
                                Z.set(this, e, o),
                                r = n(this, e),
                                this[e](),
                                o !== (i = Z.get(this, e)) || r ? Z.set(this, e, !1) : i = {},
                                o !== i)
                                    return t.stopImmediatePropagation(),
                                    t.preventDefault(),
                                    i.value
                            } else
                                o.length && (Z.set(this, e, {
                                    value: A.event.trigger(A.extend(o[0], A.Event.prototype), o.slice(1), this)
                                }),
                                t.stopImmediatePropagation())
                        }
                    })) : void 0 === Z.get(t, e) && A.event.add(t, e, Rt)
                }
                A.event = {
                    global: {},
                    add: function(t, e, n, r, i) {
                        var o, s, a, u, h, l, c, d, p, f, m, _ = Z.get(t);
                        if (K(t))
                            for (n.handler && (n = (o = n).handler,
                            i = o.selector),
                            i && A.find.matchesSelector(st, i),
                            n.guid || (n.guid = A.guid++),
                            (u = _.events) || (u = _.events = Object.create(null)),
                            (s = _.handle) || (s = _.handle = function(e) {
                                return void 0 !== A && A.event.triggered !== e.type ? A.event.dispatch.apply(t, arguments) : void 0
                            }
                            ),
                            h = (e = (e || "").match(G) || [""]).length; h--; )
                                p = m = (a = wt.exec(e[h]) || [])[1],
                                f = (a[2] || "").split(".").sort(),
                                p && (c = A.event.special[p] || {},
                                p = (i ? c.delegateType : c.bindType) || p,
                                c = A.event.special[p] || {},
                                l = A.extend({
                                    type: p,
                                    origType: m,
                                    data: r,
                                    handler: n,
                                    guid: n.guid,
                                    selector: i,
                                    needsContext: i && A.expr.match.needsContext.test(i),
                                    namespace: f.join(".")
                                }, o),
                                (d = u[p]) || ((d = u[p] = []).delegateCount = 0,
                                c.setup && !1 !== c.setup.call(t, r, f, s) || t.addEventListener && t.addEventListener(p, s)),
                                c.add && (c.add.call(t, l),
                                l.handler.guid || (l.handler.guid = n.guid)),
                                i ? d.splice(d.delegateCount++, 0, l) : d.push(l),
                                A.event.global[p] = !0)
                    },
                    remove: function(t, e, n, r, i) {
                        var o, s, a, u, h, l, c, d, p, f, m, _ = Z.hasData(t) && Z.get(t);
                        if (_ && (u = _.events)) {
                            for (h = (e = (e || "").match(G) || [""]).length; h--; )
                                if (p = m = (a = wt.exec(e[h]) || [])[1],
                                f = (a[2] || "").split(".").sort(),
                                p) {
                                    for (c = A.event.special[p] || {},
                                    d = u[p = (r ? c.delegateType : c.bindType) || p] || [],
                                    a = a[2] && new RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                                    s = o = d.length; o--; )
                                        l = d[o],
                                        !i && m !== l.origType || n && n.guid !== l.guid || a && !a.test(l.namespace) || r && r !== l.selector && ("**" !== r || !l.selector) || (d.splice(o, 1),
                                        l.selector && d.delegateCount--,
                                        c.remove && c.remove.call(t, l));
                                    s && !d.length && (c.teardown && !1 !== c.teardown.call(t, f, _.handle) || A.removeEvent(t, p, _.handle),
                                    delete u[p])
                                } else
                                    for (p in u)
                                        A.event.remove(t, p + e[h], n, r, !0);
                            A.isEmptyObject(u) && Z.remove(t, "handle events")
                        }
                    },
                    dispatch: function(t) {
                        var e, n, r, i, o, s, a = new Array(arguments.length), u = A.event.fix(t), h = (Z.get(this, "events") || Object.create(null))[u.type] || [], l = A.event.special[u.type] || {};
                        for (a[0] = u,
                        e = 1; e < arguments.length; e++)
                            a[e] = arguments[e];
                        if (u.delegateTarget = this,
                        !l.preDispatch || !1 !== l.preDispatch.call(this, u)) {
                            for (s = A.event.handlers.call(this, u, h),
                            e = 0; (i = s[e++]) && !u.isPropagationStopped(); )
                                for (u.currentTarget = i.elem,
                                n = 0; (o = i.handlers[n++]) && !u.isImmediatePropagationStopped(); )
                                    u.rnamespace && !1 !== o.namespace && !u.rnamespace.test(o.namespace) || (u.handleObj = o,
                                    u.data = o.data,
                                    void 0 !== (r = ((A.event.special[o.origType] || {}).handle || o.handler).apply(i.elem, a)) && !1 === (u.result = r) && (u.preventDefault(),
                                    u.stopPropagation()));
                            return l.postDispatch && l.postDispatch.call(this, u),
                            u.result
                        }
                    },
                    handlers: function(t, e) {
                        var n, r, i, o, s, a = [], u = e.delegateCount, h = t.target;
                        if (u && h.nodeType && !("click" === t.type && t.button >= 1))
                            for (; h !== this; h = h.parentNode || this)
                                if (1 === h.nodeType && ("click" !== t.type || !0 !== h.disabled)) {
                                    for (o = [],
                                    s = {},
                                    n = 0; n < u; n++)
                                        void 0 === s[i = (r = e[n]).selector + " "] && (s[i] = r.needsContext ? A(i, this).index(h) > -1 : A.find(i, this, null, [h]).length),
                                        s[i] && o.push(r);
                                    o.length && a.push({
                                        elem: h,
                                        handlers: o
                                    })
                                }
                        return h = this,
                        u < e.length && a.push({
                            elem: h,
                            handlers: e.slice(u)
                        }),
                        a
                    },
                    addProp: function(t, e) {
                        Object.defineProperty(A.Event.prototype, t, {
                            enumerable: !0,
                            configurable: !0,
                            get: v(e) ? function() {
                                if (this.originalEvent)
                                    return e(this.originalEvent)
                            }
                            : function() {
                                if (this.originalEvent)
                                    return this.originalEvent[t]
                            }
                            ,
                            set: function(e) {
                                Object.defineProperty(this, t, {
                                    enumerable: !0,
                                    configurable: !0,
                                    writable: !0,
                                    value: e
                                })
                            }
                        })
                    },
                    fix: function(t) {
                        return t[A.expando] ? t : new A.Event(t)
                    },
                    special: {
                        load: {
                            noBubble: !0
                        },
                        click: {
                            setup: function(t) {
                                var e = this || t;
                                return _t.test(e.type) && e.click && C(e, "input") && Dt(e, "click", Rt),
                                !1
                            },
                            trigger: function(t) {
                                var e = this || t;
                                return _t.test(e.type) && e.click && C(e, "input") && Dt(e, "click"),
                                !0
                            },
                            _default: function(t) {
                                var e = t.target;
                                return _t.test(e.type) && e.click && C(e, "input") && Z.get(e, "click") || C(e, "a")
                            }
                        },
                        beforeunload: {
                            postDispatch: function(t) {
                                void 0 !== t.result && t.originalEvent && (t.originalEvent.returnValue = t.result)
                            }
                        }
                    }
                },
                A.removeEvent = function(t, e, n) {
                    t.removeEventListener && t.removeEventListener(e, n)
                }
                ,
                A.Event = function(t, e) {
                    if (!(this instanceof A.Event))
                        return new A.Event(t,e);
                    t && t.type ? (this.originalEvent = t,
                    this.type = t.type,
                    this.isDefaultPrevented = t.defaultPrevented || void 0 === t.defaultPrevented && !1 === t.returnValue ? Rt : Ot,
                    this.target = t.target && 3 === t.target.nodeType ? t.target.parentNode : t.target,
                    this.currentTarget = t.currentTarget,
                    this.relatedTarget = t.relatedTarget) : this.type = t,
                    e && A.extend(this, e),
                    this.timeStamp = t && t.timeStamp || Date.now(),
                    this[A.expando] = !0
                }
                ,
                A.Event.prototype = {
                    constructor: A.Event,
                    isDefaultPrevented: Ot,
                    isPropagationStopped: Ot,
                    isImmediatePropagationStopped: Ot,
                    isSimulated: !1,
                    preventDefault: function() {
                        var t = this.originalEvent;
                        this.isDefaultPrevented = Rt,
                        t && !this.isSimulated && t.preventDefault()
                    },
                    stopPropagation: function() {
                        var t = this.originalEvent;
                        this.isPropagationStopped = Rt,
                        t && !this.isSimulated && t.stopPropagation()
                    },
                    stopImmediatePropagation: function() {
                        var t = this.originalEvent;
                        this.isImmediatePropagationStopped = Rt,
                        t && !this.isSimulated && t.stopImmediatePropagation(),
                        this.stopPropagation()
                    }
                },
                A.each({
                    altKey: !0,
                    bubbles: !0,
                    cancelable: !0,
                    changedTouches: !0,
                    ctrlKey: !0,
                    detail: !0,
                    eventPhase: !0,
                    metaKey: !0,
                    pageX: !0,
                    pageY: !0,
                    shiftKey: !0,
                    view: !0,
                    char: !0,
                    code: !0,
                    charCode: !0,
                    key: !0,
                    keyCode: !0,
                    button: !0,
                    buttons: !0,
                    clientX: !0,
                    clientY: !0,
                    offsetX: !0,
                    offsetY: !0,
                    pointerId: !0,
                    pointerType: !0,
                    screenX: !0,
                    screenY: !0,
                    targetTouches: !0,
                    toElement: !0,
                    touches: !0,
                    which: function(t) {
                        var e = t.button;
                        return null == t.which && At.test(t.type) ? null != t.charCode ? t.charCode : t.keyCode : !t.which && void 0 !== e && St.test(t.type) ? 1 & e ? 1 : 2 & e ? 3 : 4 & e ? 2 : 0 : t.which
                    }
                }, A.event.addProp),
                A.each({
                    focus: "focusin",
                    blur: "focusout"
                }, (function(t, e) {
                    A.event.special[t] = {
                        setup: function() {
                            return Dt(this, t, It),
                            !1
                        },
                        trigger: function() {
                            return Dt(this, t),
                            !0
                        },
                        delegateType: e
                    }
                }
                )),
                A.each({
                    mouseenter: "mouseover",
                    mouseleave: "mouseout",
                    pointerenter: "pointerover",
                    pointerleave: "pointerout"
                }, (function(t, e) {
                    A.event.special[t] = {
                        delegateType: e,
                        bindType: e,
                        handle: function(t) {
                            var n, r = this, i = t.relatedTarget, o = t.handleObj;
                            return i && (i === r || A.contains(r, i)) || (t.type = o.origType,
                            n = o.handler.apply(this, arguments),
                            t.type = e),
                            n
                        }
                    }
                }
                )),
                A.fn.extend({
                    on: function(t, e, n, r) {
                        return Ct(this, t, e, n, r)
                    },
                    one: function(t, e, n, r) {
                        return Ct(this, t, e, n, r, 1)
                    },
                    off: function(t, e, n) {
                        var r, i;
                        if (t && t.preventDefault && t.handleObj)
                            return r = t.handleObj,
                            A(t.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler),
                            this;
                        if ("object" == typeof t) {
                            for (i in t)
                                this.off(i, e, t[i]);
                            return this
                        }
                        return !1 !== e && "function" != typeof e || (n = e,
                        e = void 0),
                        !1 === n && (n = Ot),
                        this.each((function() {
                            A.event.remove(this, t, n, e)
                        }
                        ))
                    }
                });
                var Mt = /<script|<style|<link/i
                  , Pt = /checked\s*(?:[^=]|=\s*.checked.)/i
                  , Nt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
                function Bt(t, e) {
                    return C(t, "table") && C(11 !== e.nodeType ? e : e.firstChild, "tr") && A(t).children("tbody")[0] || t
                }
                function Lt(t) {
                    return t.type = (null !== t.getAttribute("type")) + "/" + t.type,
                    t
                }
                function Ft(t) {
                    return "true/" === (t.type || "").slice(0, 5) ? t.type = t.type.slice(5) : t.removeAttribute("type"),
                    t
                }
                function Gt(t, e) {
                    var n, r, i, o, s, a;
                    if (1 === e.nodeType) {
                        if (Z.hasData(t) && (a = Z.get(t).events))
                            for (i in Z.remove(e, "handle events"),
                            a)
                                for (n = 0,
                                r = a[i].length; n < r; n++)
                                    A.event.add(e, i, a[i][n]);
                        Q.hasData(t) && (o = Q.access(t),
                        s = A.extend({}, o),
                        Q.set(e, s))
                    }
                }
                function kt(t, e) {
                    var n = e.nodeName.toLowerCase();
                    "input" === n && _t.test(t.type) ? e.checked = t.checked : "input" !== n && "textarea" !== n || (e.defaultValue = t.defaultValue)
                }
                function Ut(t, e, n, r) {
                    e = u(e);
                    var i, o, s, a, h, l, c = 0, d = t.length, p = d - 1, f = e[0], m = v(f);
                    if (m || d > 1 && "string" == typeof f && !_.checkClone && Pt.test(f))
                        return t.each((function(i) {
                            var o = t.eq(i);
                            m && (e[0] = f.call(this, i, o.html())),
                            Ut(o, e, n, r)
                        }
                        ));
                    if (d && (o = (i = Et(e, t[0].ownerDocument, !1, t, r)).firstChild,
                    1 === i.childNodes.length && (i = o),
                    o || r)) {
                        for (a = (s = A.map(bt(i, "script"), Lt)).length; c < d; c++)
                            h = i,
                            c !== p && (h = A.clone(h, !0, !0),
                            a && A.merge(s, bt(h, "script"))),
                            n.call(t[c], h, c);
                        if (a)
                            for (l = s[s.length - 1].ownerDocument,
                            A.map(s, Ft),
                            c = 0; c < a; c++)
                                h = s[c],
                                gt.test(h.type || "") && !Z.access(h, "globalEval") && A.contains(l, h) && (h.src && "module" !== (h.type || "").toLowerCase() ? A._evalUrl && !h.noModule && A._evalUrl(h.src, {
                                    nonce: h.nonce || h.getAttribute("nonce")
                                }, l) : x(h.textContent.replace(Nt, ""), h, l))
                    }
                    return t
                }
                function Xt(t, e, n) {
                    for (var r, i = e ? A.filter(e, t) : t, o = 0; null != (r = i[o]); o++)
                        n || 1 !== r.nodeType || A.cleanData(bt(r)),
                        r.parentNode && (n && at(r) && xt(bt(r, "script")),
                        r.parentNode.removeChild(r));
                    return t
                }
                A.extend({
                    htmlPrefilter: function(t) {
                        return t
                    },
                    clone: function(t, e, n) {
                        var r, i, o, s, a = t.cloneNode(!0), u = at(t);
                        if (!(_.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || A.isXMLDoc(t)))
                            for (s = bt(a),
                            r = 0,
                            i = (o = bt(t)).length; r < i; r++)
                                kt(o[r], s[r]);
                        if (e)
                            if (n)
                                for (o = o || bt(t),
                                s = s || bt(a),
                                r = 0,
                                i = o.length; r < i; r++)
                                    Gt(o[r], s[r]);
                            else
                                Gt(t, a);
                        return (s = bt(a, "script")).length > 0 && xt(s, !u && bt(t, "script")),
                        a
                    },
                    cleanData: function(t) {
                        for (var e, n, r, i = A.event.special, o = 0; void 0 !== (n = t[o]); o++)
                            if (K(n)) {
                                if (e = n[Z.expando]) {
                                    if (e.events)
                                        for (r in e.events)
                                            i[r] ? A.event.remove(n, r) : A.removeEvent(n, r, e.handle);
                                    n[Z.expando] = void 0
                                }
                                n[Q.expando] && (n[Q.expando] = void 0)
                            }
                    }
                }),
                A.fn.extend({
                    detach: function(t) {
                        return Xt(this, t, !0)
                    },
                    remove: function(t) {
                        return Xt(this, t)
                    },
                    text: function(t) {
                        return W(this, (function(t) {
                            return void 0 === t ? A.text(this) : this.empty().each((function() {
                                1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = t)
                            }
                            ))
                        }
                        ), null, t, arguments.length)
                    },
                    append: function() {
                        return Ut(this, arguments, (function(t) {
                            1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || Bt(this, t).appendChild(t)
                        }
                        ))
                    },
                    prepend: function() {
                        return Ut(this, arguments, (function(t) {
                            if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                                var e = Bt(this, t);
                                e.insertBefore(t, e.firstChild)
                            }
                        }
                        ))
                    },
                    before: function() {
                        return Ut(this, arguments, (function(t) {
                            this.parentNode && this.parentNode.insertBefore(t, this)
                        }
                        ))
                    },
                    after: function() {
                        return Ut(this, arguments, (function(t) {
                            this.parentNode && this.parentNode.insertBefore(t, this.nextSibling)
                        }
                        ))
                    },
                    empty: function() {
                        for (var t, e = 0; null != (t = this[e]); e++)
                            1 === t.nodeType && (A.cleanData(bt(t, !1)),
                            t.textContent = "");
                        return this
                    },
                    clone: function(t, e) {
                        return t = null != t && t,
                        e = null == e ? t : e,
                        this.map((function() {
                            return A.clone(this, t, e)
                        }
                        ))
                    },
                    html: function(t) {
                        return W(this, (function(t) {
                            var e = this[0] || {}
                              , n = 0
                              , r = this.length;
                            if (void 0 === t && 1 === e.nodeType)
                                return e.innerHTML;
                            if ("string" == typeof t && !Mt.test(t) && !yt[(vt.exec(t) || ["", ""])[1].toLowerCase()]) {
                                t = A.htmlPrefilter(t);
                                try {
                                    for (; n < r; n++)
                                        1 === (e = this[n] || {}).nodeType && (A.cleanData(bt(e, !1)),
                                        e.innerHTML = t);
                                    e = 0
                                } catch (t) {}
                            }
                            e && this.empty().append(t)
                        }
                        ), null, t, arguments.length)
                    },
                    replaceWith: function() {
                        var t = [];
                        return Ut(this, arguments, (function(e) {
                            var n = this.parentNode;
                            A.inArray(this, t) < 0 && (A.cleanData(bt(this)),
                            n && n.replaceChild(e, this))
                        }
                        ), t)
                    }
                }),
                A.each({
                    appendTo: "append",
                    prependTo: "prepend",
                    insertBefore: "before",
                    insertAfter: "after",
                    replaceAll: "replaceWith"
                }, (function(t, e) {
                    A.fn[t] = function(t) {
                        for (var n, r = [], i = A(t), o = i.length - 1, s = 0; s <= o; s++)
                            n = s === o ? this : this.clone(!0),
                            A(i[s])[e](n),
                            h.apply(r, n.get());
                        return this.pushStack(r)
                    }
                }
                ));
                var Ht = new RegExp("^(" + rt + ")(?!px)[a-z%]+$","i")
                  , jt = function(t) {
                    var e = t.ownerDocument.defaultView;
                    return e && e.opener || (e = r),
                    e.getComputedStyle(t)
                }
                  , $t = function(t, e, n) {
                    var r, i, o = {};
                    for (i in e)
                        o[i] = t.style[i],
                        t.style[i] = e[i];
                    for (i in r = n.call(t),
                    e)
                        t.style[i] = o[i];
                    return r
                }
                  , Wt = new RegExp(ot.join("|"),"i");
                function Vt(t, e, n) {
                    var r, i, o, s, a = t.style;
                    return (n = n || jt(t)) && ("" !== (s = n.getPropertyValue(e) || n[e]) || at(t) || (s = A.style(t, e)),
                    !_.pixelBoxStyles() && Ht.test(s) && Wt.test(e) && (r = a.width,
                    i = a.minWidth,
                    o = a.maxWidth,
                    a.minWidth = a.maxWidth = a.width = s,
                    s = n.width,
                    a.width = r,
                    a.minWidth = i,
                    a.maxWidth = o)),
                    void 0 !== s ? s + "" : s
                }
                function Yt(t, e) {
                    return {
                        get: function() {
                            if (!t())
                                return (this.get = e).apply(this, arguments);
                            delete this.get
                        }
                    }
                }
                !function() {
                    function t() {
                        if (l) {
                            h.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",
                            l.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",
                            st.appendChild(h).appendChild(l);
                            var t = r.getComputedStyle(l);
                            n = "1%" !== t.top,
                            u = 12 === e(t.marginLeft),
                            l.style.right = "60%",
                            s = 36 === e(t.right),
                            i = 36 === e(t.width),
                            l.style.position = "absolute",
                            o = 12 === e(l.offsetWidth / 3),
                            st.removeChild(h),
                            l = null
                        }
                    }
                    function e(t) {
                        return Math.round(parseFloat(t))
                    }
                    var n, i, o, s, a, u, h = y.createElement("div"), l = y.createElement("div");
                    l.style && (l.style.backgroundClip = "content-box",
                    l.cloneNode(!0).style.backgroundClip = "",
                    _.clearCloneStyle = "content-box" === l.style.backgroundClip,
                    A.extend(_, {
                        boxSizingReliable: function() {
                            return t(),
                            i
                        },
                        pixelBoxStyles: function() {
                            return t(),
                            s
                        },
                        pixelPosition: function() {
                            return t(),
                            n
                        },
                        reliableMarginLeft: function() {
                            return t(),
                            u
                        },
                        scrollboxSize: function() {
                            return t(),
                            o
                        },
                        reliableTrDimensions: function() {
                            var t, e, n, i;
                            return null == a && (t = y.createElement("table"),
                            e = y.createElement("tr"),
                            n = y.createElement("div"),
                            t.style.cssText = "position:absolute;left:-11111px",
                            e.style.height = "1px",
                            n.style.height = "9px",
                            st.appendChild(t).appendChild(e).appendChild(n),
                            i = r.getComputedStyle(e),
                            a = parseInt(i.height) > 3,
                            st.removeChild(t)),
                            a
                        }
                    }))
                }();
                var zt = ["Webkit", "Moz", "ms"]
                  , qt = y.createElement("div").style
                  , Kt = {};
                function Jt(t) {
                    return A.cssProps[t] || Kt[t] || (t in qt ? t : Kt[t] = function(t) {
                        for (var e = t[0].toUpperCase() + t.slice(1), n = zt.length; n--; )
                            if ((t = zt[n] + e)in qt)
                                return t
                    }(t) || t)
                }
                var Zt = /^(none|table(?!-c[ea]).+)/
                  , Qt = /^--/
                  , te = {
                    position: "absolute",
                    visibility: "hidden",
                    display: "block"
                }
                  , ee = {
                    letterSpacing: "0",
                    fontWeight: "400"
                };
                function ne(t, e, n) {
                    var r = it.exec(e);
                    return r ? Math.max(0, r[2] - (n || 0)) + (r[3] || "px") : e
                }
                function re(t, e, n, r, i, o) {
                    var s = "width" === e ? 1 : 0
                      , a = 0
                      , u = 0;
                    if (n === (r ? "border" : "content"))
                        return 0;
                    for (; s < 4; s += 2)
                        "margin" === n && (u += A.css(t, n + ot[s], !0, i)),
                        r ? ("content" === n && (u -= A.css(t, "padding" + ot[s], !0, i)),
                        "margin" !== n && (u -= A.css(t, "border" + ot[s] + "Width", !0, i))) : (u += A.css(t, "padding" + ot[s], !0, i),
                        "padding" !== n ? u += A.css(t, "border" + ot[s] + "Width", !0, i) : a += A.css(t, "border" + ot[s] + "Width", !0, i));
                    return !r && o >= 0 && (u += Math.max(0, Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - o - u - a - .5)) || 0),
                    u
                }
                function ie(t, e, n) {
                    var r = jt(t)
                      , i = (!_.boxSizingReliable() || n) && "border-box" === A.css(t, "boxSizing", !1, r)
                      , o = i
                      , s = Vt(t, e, r)
                      , a = "offset" + e[0].toUpperCase() + e.slice(1);
                    if (Ht.test(s)) {
                        if (!n)
                            return s;
                        s = "auto"
                    }
                    return (!_.boxSizingReliable() && i || !_.reliableTrDimensions() && C(t, "tr") || "auto" === s || !parseFloat(s) && "inline" === A.css(t, "display", !1, r)) && t.getClientRects().length && (i = "border-box" === A.css(t, "boxSizing", !1, r),
                    (o = a in t) && (s = t[a])),
                    (s = parseFloat(s) || 0) + re(t, e, n || (i ? "border" : "content"), o, r, s) + "px"
                }
                function oe(t, e, n, r, i) {
                    return new oe.prototype.init(t,e,n,r,i)
                }
                A.extend({
                    cssHooks: {
                        opacity: {
                            get: function(t, e) {
                                if (e) {
                                    var n = Vt(t, "opacity");
                                    return "" === n ? "1" : n
                                }
                            }
                        }
                    },
                    cssNumber: {
                        animationIterationCount: !0,
                        columnCount: !0,
                        fillOpacity: !0,
                        flexGrow: !0,
                        flexShrink: !0,
                        fontWeight: !0,
                        gridArea: !0,
                        gridColumn: !0,
                        gridColumnEnd: !0,
                        gridColumnStart: !0,
                        gridRow: !0,
                        gridRowEnd: !0,
                        gridRowStart: !0,
                        lineHeight: !0,
                        opacity: !0,
                        order: !0,
                        orphans: !0,
                        widows: !0,
                        zIndex: !0,
                        zoom: !0
                    },
                    cssProps: {},
                    style: function(t, e, n, r) {
                        if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) {
                            var i, o, s, a = q(e), u = Qt.test(e), h = t.style;
                            if (u || (e = Jt(a)),
                            s = A.cssHooks[e] || A.cssHooks[a],
                            void 0 === n)
                                return s && "get"in s && void 0 !== (i = s.get(t, !1, r)) ? i : h[e];
                            "string" == (o = typeof n) && (i = it.exec(n)) && i[1] && (n = lt(t, e, i),
                            o = "number"),
                            null != n && n == n && ("number" !== o || u || (n += i && i[3] || (A.cssNumber[a] ? "" : "px")),
                            _.clearCloneStyle || "" !== n || 0 !== e.indexOf("background") || (h[e] = "inherit"),
                            s && "set"in s && void 0 === (n = s.set(t, n, r)) || (u ? h.setProperty(e, n) : h[e] = n))
                        }
                    },
                    css: function(t, e, n, r) {
                        var i, o, s, a = q(e);
                        return Qt.test(e) || (e = Jt(a)),
                        (s = A.cssHooks[e] || A.cssHooks[a]) && "get"in s && (i = s.get(t, !0, n)),
                        void 0 === i && (i = Vt(t, e, r)),
                        "normal" === i && e in ee && (i = ee[e]),
                        "" === n || n ? (o = parseFloat(i),
                        !0 === n || isFinite(o) ? o || 0 : i) : i
                    }
                }),
                A.each(["height", "width"], (function(t, e) {
                    A.cssHooks[e] = {
                        get: function(t, n, r) {
                            if (n)
                                return !Zt.test(A.css(t, "display")) || t.getClientRects().length && t.getBoundingClientRect().width ? ie(t, e, r) : $t(t, te, (function() {
                                    return ie(t, e, r)
                                }
                                ))
                        },
                        set: function(t, n, r) {
                            var i, o = jt(t), s = !_.scrollboxSize() && "absolute" === o.position, a = (s || r) && "border-box" === A.css(t, "boxSizing", !1, o), u = r ? re(t, e, r, a, o) : 0;
                            return a && s && (u -= Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - parseFloat(o[e]) - re(t, e, "border", !1, o) - .5)),
                            u && (i = it.exec(n)) && "px" !== (i[3] || "px") && (t.style[e] = n,
                            n = A.css(t, e)),
                            ne(0, n, u)
                        }
                    }
                }
                )),
                A.cssHooks.marginLeft = Yt(_.reliableMarginLeft, (function(t, e) {
                    if (e)
                        return (parseFloat(Vt(t, "marginLeft")) || t.getBoundingClientRect().left - $t(t, {
                            marginLeft: 0
                        }, (function() {
                            return t.getBoundingClientRect().left
                        }
                        ))) + "px"
                }
                )),
                A.each({
                    margin: "",
                    padding: "",
                    border: "Width"
                }, (function(t, e) {
                    A.cssHooks[t + e] = {
                        expand: function(n) {
                            for (var r = 0, i = {}, o = "string" == typeof n ? n.split(" ") : [n]; r < 4; r++)
                                i[t + ot[r] + e] = o[r] || o[r - 2] || o[0];
                            return i
                        }
                    },
                    "margin" !== t && (A.cssHooks[t + e].set = ne)
                }
                )),
                A.fn.extend({
                    css: function(t, e) {
                        return W(this, (function(t, e, n) {
                            var r, i, o = {}, s = 0;
                            if (Array.isArray(e)) {
                                for (r = jt(t),
                                i = e.length; s < i; s++)
                                    o[e[s]] = A.css(t, e[s], !1, r);
                                return o
                            }
                            return void 0 !== n ? A.style(t, e, n) : A.css(t, e)
                        }
                        ), t, e, arguments.length > 1)
                    }
                }),
                A.Tween = oe,
                oe.prototype = {
                    constructor: oe,
                    init: function(t, e, n, r, i, o) {
                        this.elem = t,
                        this.prop = n,
                        this.easing = i || A.easing._default,
                        this.options = e,
                        this.start = this.now = this.cur(),
                        this.end = r,
                        this.unit = o || (A.cssNumber[n] ? "" : "px")
                    },
                    cur: function() {
                        var t = oe.propHooks[this.prop];
                        return t && t.get ? t.get(this) : oe.propHooks._default.get(this)
                    },
                    run: function(t) {
                        var e, n = oe.propHooks[this.prop];
                        return this.options.duration ? this.pos = e = A.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : this.pos = e = t,
                        this.now = (this.end - this.start) * e + this.start,
                        this.options.step && this.options.step.call(this.elem, this.now, this),
                        n && n.set ? n.set(this) : oe.propHooks._default.set(this),
                        this
                    }
                },
                oe.prototype.init.prototype = oe.prototype,
                oe.propHooks = {
                    _default: {
                        get: function(t) {
                            var e;
                            return 1 !== t.elem.nodeType || null != t.elem[t.prop] && null == t.elem.style[t.prop] ? t.elem[t.prop] : (e = A.css(t.elem, t.prop, "")) && "auto" !== e ? e : 0
                        },
                        set: function(t) {
                            A.fx.step[t.prop] ? A.fx.step[t.prop](t) : 1 !== t.elem.nodeType || !A.cssHooks[t.prop] && null == t.elem.style[Jt(t.prop)] ? t.elem[t.prop] = t.now : A.style(t.elem, t.prop, t.now + t.unit)
                        }
                    }
                },
                oe.propHooks.scrollTop = oe.propHooks.scrollLeft = {
                    set: function(t) {
                        t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now)
                    }
                },
                A.easing = {
                    linear: function(t) {
                        return t
                    },
                    swing: function(t) {
                        return .5 - Math.cos(t * Math.PI) / 2
                    },
                    _default: "swing"
                },
                A.fx = oe.prototype.init,
                A.fx.step = {};
                var se, ae, ue = /^(?:toggle|show|hide)$/, he = /queueHooks$/;
                function le() {
                    ae && (!1 === y.hidden && r.requestAnimationFrame ? r.requestAnimationFrame(le) : r.setTimeout(le, A.fx.interval),
                    A.fx.tick())
                }
                function ce() {
                    return r.setTimeout((function() {
                        se = void 0
                    }
                    )),
                    se = Date.now()
                }
                function de(t, e) {
                    var n, r = 0, i = {
                        height: t
                    };
                    for (e = e ? 1 : 0; r < 4; r += 2 - e)
                        i["margin" + (n = ot[r])] = i["padding" + n] = t;
                    return e && (i.opacity = i.width = t),
                    i
                }
                function pe(t, e, n) {
                    for (var r, i = (fe.tweeners[e] || []).concat(fe.tweeners["*"]), o = 0, s = i.length; o < s; o++)
                        if (r = i[o].call(n, e, t))
                            return r
                }
                function fe(t, e, n) {
                    var r, i, o = 0, s = fe.prefilters.length, a = A.Deferred().always((function() {
                        delete u.elem
                    }
                    )), u = function() {
                        if (i)
                            return !1;
                        for (var e = se || ce(), n = Math.max(0, h.startTime + h.duration - e), r = 1 - (n / h.duration || 0), o = 0, s = h.tweens.length; o < s; o++)
                            h.tweens[o].run(r);
                        return a.notifyWith(t, [h, r, n]),
                        r < 1 && s ? n : (s || a.notifyWith(t, [h, 1, 0]),
                        a.resolveWith(t, [h]),
                        !1)
                    }, h = a.promise({
                        elem: t,
                        props: A.extend({}, e),
                        opts: A.extend(!0, {
                            specialEasing: {},
                            easing: A.easing._default
                        }, n),
                        originalProperties: e,
                        originalOptions: n,
                        startTime: se || ce(),
                        duration: n.duration,
                        tweens: [],
                        createTween: function(e, n) {
                            var r = A.Tween(t, h.opts, e, n, h.opts.specialEasing[e] || h.opts.easing);
                            return h.tweens.push(r),
                            r
                        },
                        stop: function(e) {
                            var n = 0
                              , r = e ? h.tweens.length : 0;
                            if (i)
                                return this;
                            for (i = !0; n < r; n++)
                                h.tweens[n].run(1);
                            return e ? (a.notifyWith(t, [h, 1, 0]),
                            a.resolveWith(t, [h, e])) : a.rejectWith(t, [h, e]),
                            this
                        }
                    }), l = h.props;
                    for (function(t, e) {
                        var n, r, i, o, s;
                        for (n in t)
                            if (i = e[r = q(n)],
                            o = t[n],
                            Array.isArray(o) && (i = o[1],
                            o = t[n] = o[0]),
                            n !== r && (t[r] = o,
                            delete t[n]),
                            (s = A.cssHooks[r]) && "expand"in s)
                                for (n in o = s.expand(o),
                                delete t[r],
                                o)
                                    n in t || (t[n] = o[n],
                                    e[n] = i);
                            else
                                e[r] = i
                    }(l, h.opts.specialEasing); o < s; o++)
                        if (r = fe.prefilters[o].call(h, t, l, h.opts))
                            return v(r.stop) && (A._queueHooks(h.elem, h.opts.queue).stop = r.stop.bind(r)),
                            r;
                    return A.map(l, pe, h),
                    v(h.opts.start) && h.opts.start.call(t, h),
                    h.progress(h.opts.progress).done(h.opts.done, h.opts.complete).fail(h.opts.fail).always(h.opts.always),
                    A.fx.timer(A.extend(u, {
                        elem: t,
                        anim: h,
                        queue: h.opts.queue
                    })),
                    h
                }
                A.Animation = A.extend(fe, {
                    tweeners: {
                        "*": [function(t, e) {
                            var n = this.createTween(t, e);
                            return lt(n.elem, t, it.exec(e), n),
                            n
                        }
                        ]
                    },
                    tweener: function(t, e) {
                        v(t) ? (e = t,
                        t = ["*"]) : t = t.match(G);
                        for (var n, r = 0, i = t.length; r < i; r++)
                            n = t[r],
                            fe.tweeners[n] = fe.tweeners[n] || [],
                            fe.tweeners[n].unshift(e)
                    },
                    prefilters: [function(t, e, n) {
                        var r, i, o, s, a, u, h, l, c = "width"in e || "height"in e, d = this, p = {}, f = t.style, m = t.nodeType && ht(t), _ = Z.get(t, "fxshow");
                        for (r in n.queue || (null == (s = A._queueHooks(t, "fx")).unqueued && (s.unqueued = 0,
                        a = s.empty.fire,
                        s.empty.fire = function() {
                            s.unqueued || a()
                        }
                        ),
                        s.unqueued++,
                        d.always((function() {
                            d.always((function() {
                                s.unqueued--,
                                A.queue(t, "fx").length || s.empty.fire()
                            }
                            ))
                        }
                        ))),
                        e)
                            if (i = e[r],
                            ue.test(i)) {
                                if (delete e[r],
                                o = o || "toggle" === i,
                                i === (m ? "hide" : "show")) {
                                    if ("show" !== i || !_ || void 0 === _[r])
                                        continue;
                                    m = !0
                                }
                                p[r] = _ && _[r] || A.style(t, r)
                            }
                        if ((u = !A.isEmptyObject(e)) || !A.isEmptyObject(p))
                            for (r in c && 1 === t.nodeType && (n.overflow = [f.overflow, f.overflowX, f.overflowY],
                            null == (h = _ && _.display) && (h = Z.get(t, "display")),
                            "none" === (l = A.css(t, "display")) && (h ? l = h : (pt([t], !0),
                            h = t.style.display || h,
                            l = A.css(t, "display"),
                            pt([t]))),
                            ("inline" === l || "inline-block" === l && null != h) && "none" === A.css(t, "float") && (u || (d.done((function() {
                                f.display = h
                            }
                            )),
                            null == h && (l = f.display,
                            h = "none" === l ? "" : l)),
                            f.display = "inline-block")),
                            n.overflow && (f.overflow = "hidden",
                            d.always((function() {
                                f.overflow = n.overflow[0],
                                f.overflowX = n.overflow[1],
                                f.overflowY = n.overflow[2]
                            }
                            ))),
                            u = !1,
                            p)
                                u || (_ ? "hidden"in _ && (m = _.hidden) : _ = Z.access(t, "fxshow", {
                                    display: h
                                }),
                                o && (_.hidden = !m),
                                m && pt([t], !0),
                                d.done((function() {
                                    for (r in m || pt([t]),
                                    Z.remove(t, "fxshow"),
                                    p)
                                        A.style(t, r, p[r])
                                }
                                ))),
                                u = pe(m ? _[r] : 0, r, d),
                                r in _ || (_[r] = u.start,
                                m && (u.end = u.start,
                                u.start = 0))
                    }
                    ],
                    prefilter: function(t, e) {
                        e ? fe.prefilters.unshift(t) : fe.prefilters.push(t)
                    }
                }),
                A.speed = function(t, e, n) {
                    var r = t && "object" == typeof t ? A.extend({}, t) : {
                        complete: n || !n && e || v(t) && t,
                        duration: t,
                        easing: n && e || e && !v(e) && e
                    };
                    return A.fx.off ? r.duration = 0 : "number" != typeof r.duration && (r.duration in A.fx.speeds ? r.duration = A.fx.speeds[r.duration] : r.duration = A.fx.speeds._default),
                    null != r.queue && !0 !== r.queue || (r.queue = "fx"),
                    r.old = r.complete,
                    r.complete = function() {
                        v(r.old) && r.old.call(this),
                        r.queue && A.dequeue(this, r.queue)
                    }
                    ,
                    r
                }
                ,
                A.fn.extend({
                    fadeTo: function(t, e, n, r) {
                        return this.filter(ht).css("opacity", 0).show().end().animate({
                            opacity: e
                        }, t, n, r)
                    },
                    animate: function(t, e, n, r) {
                        var i = A.isEmptyObject(t)
                          , o = A.speed(e, n, r)
                          , s = function() {
                            var e = fe(this, A.extend({}, t), o);
                            (i || Z.get(this, "finish")) && e.stop(!0)
                        };
                        return s.finish = s,
                        i || !1 === o.queue ? this.each(s) : this.queue(o.queue, s)
                    },
                    stop: function(t, e, n) {
                        var r = function(t) {
                            var e = t.stop;
                            delete t.stop,
                            e(n)
                        };
                        return "string" != typeof t && (n = e,
                        e = t,
                        t = void 0),
                        e && this.queue(t || "fx", []),
                        this.each((function() {
                            var e = !0
                              , i = null != t && t + "queueHooks"
                              , o = A.timers
                              , s = Z.get(this);
                            if (i)
                                s[i] && s[i].stop && r(s[i]);
                            else
                                for (i in s)
                                    s[i] && s[i].stop && he.test(i) && r(s[i]);
                            for (i = o.length; i--; )
                                o[i].elem !== this || null != t && o[i].queue !== t || (o[i].anim.stop(n),
                                e = !1,
                                o.splice(i, 1));
                            !e && n || A.dequeue(this, t)
                        }
                        ))
                    },
                    finish: function(t) {
                        return !1 !== t && (t = t || "fx"),
                        this.each((function() {
                            var e, n = Z.get(this), r = n[t + "queue"], i = n[t + "queueHooks"], o = A.timers, s = r ? r.length : 0;
                            for (n.finish = !0,
                            A.queue(this, t, []),
                            i && i.stop && i.stop.call(this, !0),
                            e = o.length; e--; )
                                o[e].elem === this && o[e].queue === t && (o[e].anim.stop(!0),
                                o.splice(e, 1));
                            for (e = 0; e < s; e++)
                                r[e] && r[e].finish && r[e].finish.call(this);
                            delete n.finish
                        }
                        ))
                    }
                }),
                A.each(["toggle", "show", "hide"], (function(t, e) {
                    var n = A.fn[e];
                    A.fn[e] = function(t, r, i) {
                        return null == t || "boolean" == typeof t ? n.apply(this, arguments) : this.animate(de(e, !0), t, r, i)
                    }
                }
                )),
                A.each({
                    slideDown: de("show"),
                    slideUp: de("hide"),
                    slideToggle: de("toggle"),
                    fadeIn: {
                        opacity: "show"
                    },
                    fadeOut: {
                        opacity: "hide"
                    },
                    fadeToggle: {
                        opacity: "toggle"
                    }
                }, (function(t, e) {
                    A.fn[t] = function(t, n, r) {
                        return this.animate(e, t, n, r)
                    }
                }
                )),
                A.timers = [],
                A.fx.tick = function() {
                    var t, e = 0, n = A.timers;
                    for (se = Date.now(); e < n.length; e++)
                        (t = n[e])() || n[e] !== t || n.splice(e--, 1);
                    n.length || A.fx.stop(),
                    se = void 0
                }
                ,
                A.fx.timer = function(t) {
                    A.timers.push(t),
                    A.fx.start()
                }
                ,
                A.fx.interval = 13,
                A.fx.start = function() {
                    ae || (ae = !0,
                    le())
                }
                ,
                A.fx.stop = function() {
                    ae = null
                }
                ,
                A.fx.speeds = {
                    slow: 600,
                    fast: 200,
                    _default: 400
                },
                A.fn.delay = function(t, e) {
                    return t = A.fx && A.fx.speeds[t] || t,
                    e = e || "fx",
                    this.queue(e, (function(e, n) {
                        var i = r.setTimeout(e, t);
                        n.stop = function() {
                            r.clearTimeout(i)
                        }
                    }
                    ))
                }
                ,
                function() {
                    var t = y.createElement("input")
                      , e = y.createElement("select").appendChild(y.createElement("option"));
                    t.type = "checkbox",
                    _.checkOn = "" !== t.value,
                    _.optSelected = e.selected,
                    (t = y.createElement("input")).value = "t",
                    t.type = "radio",
                    _.radioValue = "t" === t.value
                }();
                var me, _e = A.expr.attrHandle;
                A.fn.extend({
                    attr: function(t, e) {
                        return W(this, A.attr, t, e, arguments.length > 1)
                    },
                    removeAttr: function(t) {
                        return this.each((function() {
                            A.removeAttr(this, t)
                        }
                        ))
                    }
                }),
                A.extend({
                    attr: function(t, e, n) {
                        var r, i, o = t.nodeType;
                        if (3 !== o && 8 !== o && 2 !== o)
                            return void 0 === t.getAttribute ? A.prop(t, e, n) : (1 === o && A.isXMLDoc(t) || (i = A.attrHooks[e.toLowerCase()] || (A.expr.match.bool.test(e) ? me : void 0)),
                            void 0 !== n ? null === n ? void A.removeAttr(t, e) : i && "set"in i && void 0 !== (r = i.set(t, n, e)) ? r : (t.setAttribute(e, n + ""),
                            n) : i && "get"in i && null !== (r = i.get(t, e)) ? r : null == (r = A.find.attr(t, e)) ? void 0 : r)
                    },
                    attrHooks: {
                        type: {
                            set: function(t, e) {
                                if (!_.radioValue && "radio" === e && C(t, "input")) {
                                    var n = t.value;
                                    return t.setAttribute("type", e),
                                    n && (t.value = n),
                                    e
                                }
                            }
                        }
                    },
                    removeAttr: function(t, e) {
                        var n, r = 0, i = e && e.match(G);
                        if (i && 1 === t.nodeType)
                            for (; n = i[r++]; )
                                t.removeAttribute(n)
                    }
                }),
                me = {
                    set: function(t, e, n) {
                        return !1 === e ? A.removeAttr(t, n) : t.setAttribute(n, n),
                        n
                    }
                },
                A.each(A.expr.match.bool.source.match(/\w+/g), (function(t, e) {
                    var n = _e[e] || A.find.attr;
                    _e[e] = function(t, e, r) {
                        var i, o, s = e.toLowerCase();
                        return r || (o = _e[s],
                        _e[s] = i,
                        i = null != n(t, e, r) ? s : null,
                        _e[s] = o),
                        i
                    }
                }
                ));
                var ve = /^(?:input|select|textarea|button)$/i
                  , ge = /^(?:a|area)$/i;
                function ye(t) {
                    return (t.match(G) || []).join(" ")
                }
                function be(t) {
                    return t.getAttribute && t.getAttribute("class") || ""
                }
                function xe(t) {
                    return Array.isArray(t) ? t : "string" == typeof t && t.match(G) || []
                }
                A.fn.extend({
                    prop: function(t, e) {
                        return W(this, A.prop, t, e, arguments.length > 1)
                    },
                    removeProp: function(t) {
                        return this.each((function() {
                            delete this[A.propFix[t] || t]
                        }
                        ))
                    }
                }),
                A.extend({
                    prop: function(t, e, n) {
                        var r, i, o = t.nodeType;
                        if (3 !== o && 8 !== o && 2 !== o)
                            return 1 === o && A.isXMLDoc(t) || (e = A.propFix[e] || e,
                            i = A.propHooks[e]),
                            void 0 !== n ? i && "set"in i && void 0 !== (r = i.set(t, n, e)) ? r : t[e] = n : i && "get"in i && null !== (r = i.get(t, e)) ? r : t[e]
                    },
                    propHooks: {
                        tabIndex: {
                            get: function(t) {
                                var e = A.find.attr(t, "tabindex");
                                return e ? parseInt(e, 10) : ve.test(t.nodeName) || ge.test(t.nodeName) && t.href ? 0 : -1
                            }
                        }
                    },
                    propFix: {
                        for: "htmlFor",
                        class: "className"
                    }
                }),
                _.optSelected || (A.propHooks.selected = {
                    get: function(t) {
                        var e = t.parentNode;
                        return e && e.parentNode && e.parentNode.selectedIndex,
                        null
                    },
                    set: function(t) {
                        var e = t.parentNode;
                        e && (e.selectedIndex,
                        e.parentNode && e.parentNode.selectedIndex)
                    }
                }),
                A.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], (function() {
                    A.propFix[this.toLowerCase()] = this
                }
                )),
                A.fn.extend({
                    addClass: function(t) {
                        var e, n, r, i, o, s, a, u = 0;
                        if (v(t))
                            return this.each((function(e) {
                                A(this).addClass(t.call(this, e, be(this)))
                            }
                            ));
                        if ((e = xe(t)).length)
                            for (; n = this[u++]; )
                                if (i = be(n),
                                r = 1 === n.nodeType && " " + ye(i) + " ") {
                                    for (s = 0; o = e[s++]; )
                                        r.indexOf(" " + o + " ") < 0 && (r += o + " ");
                                    i !== (a = ye(r)) && n.setAttribute("class", a)
                                }
                        return this
                    },
                    removeClass: function(t) {
                        var e, n, r, i, o, s, a, u = 0;
                        if (v(t))
                            return this.each((function(e) {
                                A(this).removeClass(t.call(this, e, be(this)))
                            }
                            ));
                        if (!arguments.length)
                            return this.attr("class", "");
                        if ((e = xe(t)).length)
                            for (; n = this[u++]; )
                                if (i = be(n),
                                r = 1 === n.nodeType && " " + ye(i) + " ") {
                                    for (s = 0; o = e[s++]; )
                                        for (; r.indexOf(" " + o + " ") > -1; )
                                            r = r.replace(" " + o + " ", " ");
                                    i !== (a = ye(r)) && n.setAttribute("class", a)
                                }
                        return this
                    },
                    toggleClass: function(t, e) {
                        var n = typeof t
                          , r = "string" === n || Array.isArray(t);
                        return "boolean" == typeof e && r ? e ? this.addClass(t) : this.removeClass(t) : v(t) ? this.each((function(n) {
                            A(this).toggleClass(t.call(this, n, be(this), e), e)
                        }
                        )) : this.each((function() {
                            var e, i, o, s;
                            if (r)
                                for (i = 0,
                                o = A(this),
                                s = xe(t); e = s[i++]; )
                                    o.hasClass(e) ? o.removeClass(e) : o.addClass(e);
                            else
                                void 0 !== t && "boolean" !== n || ((e = be(this)) && Z.set(this, "__className__", e),
                                this.setAttribute && this.setAttribute("class", e || !1 === t ? "" : Z.get(this, "__className__") || ""))
                        }
                        ))
                    },
                    hasClass: function(t) {
                        var e, n, r = 0;
                        for (e = " " + t + " "; n = this[r++]; )
                            if (1 === n.nodeType && (" " + ye(be(n)) + " ").indexOf(e) > -1)
                                return !0;
                        return !1
                    }
                });
                var Te = /\r/g;
                A.fn.extend({
                    val: function(t) {
                        var e, n, r, i = this[0];
                        return arguments.length ? (r = v(t),
                        this.each((function(n) {
                            var i;
                            1 === this.nodeType && (null == (i = r ? t.call(this, n, A(this).val()) : t) ? i = "" : "number" == typeof i ? i += "" : Array.isArray(i) && (i = A.map(i, (function(t) {
                                return null == t ? "" : t + ""
                            }
                            ))),
                            (e = A.valHooks[this.type] || A.valHooks[this.nodeName.toLowerCase()]) && "set"in e && void 0 !== e.set(this, i, "value") || (this.value = i))
                        }
                        ))) : i ? (e = A.valHooks[i.type] || A.valHooks[i.nodeName.toLowerCase()]) && "get"in e && void 0 !== (n = e.get(i, "value")) ? n : "string" == typeof (n = i.value) ? n.replace(Te, "") : null == n ? "" : n : void 0
                    }
                }),
                A.extend({
                    valHooks: {
                        option: {
                            get: function(t) {
                                var e = A.find.attr(t, "value");
                                return null != e ? e : ye(A.text(t))
                            }
                        },
                        select: {
                            get: function(t) {
                                var e, n, r, i = t.options, o = t.selectedIndex, s = "select-one" === t.type, a = s ? null : [], u = s ? o + 1 : i.length;
                                for (r = o < 0 ? u : s ? o : 0; r < u; r++)
                                    if (((n = i[r]).selected || r === o) && !n.disabled && (!n.parentNode.disabled || !C(n.parentNode, "optgroup"))) {
                                        if (e = A(n).val(),
                                        s)
                                            return e;
                                        a.push(e)
                                    }
                                return a
                            },
                            set: function(t, e) {
                                for (var n, r, i = t.options, o = A.makeArray(e), s = i.length; s--; )
                                    ((r = i[s]).selected = A.inArray(A.valHooks.option.get(r), o) > -1) && (n = !0);
                                return n || (t.selectedIndex = -1),
                                o
                            }
                        }
                    }
                }),
                A.each(["radio", "checkbox"], (function() {
                    A.valHooks[this] = {
                        set: function(t, e) {
                            if (Array.isArray(e))
                                return t.checked = A.inArray(A(t).val(), e) > -1
                        }
                    },
                    _.checkOn || (A.valHooks[this].get = function(t) {
                        return null === t.getAttribute("value") ? "on" : t.value
                    }
                    )
                }
                )),
                _.focusin = "onfocusin"in r;
                var Ee = /^(?:focusinfocus|focusoutblur)$/
                  , Ae = function(t) {
                    t.stopPropagation()
                };
                A.extend(A.event, {
                    trigger: function(t, e, n, i) {
                        var o, s, a, u, h, l, c, d, f = [n || y], m = p.call(t, "type") ? t.type : t, _ = p.call(t, "namespace") ? t.namespace.split(".") : [];
                        if (s = d = a = n = n || y,
                        3 !== n.nodeType && 8 !== n.nodeType && !Ee.test(m + A.event.triggered) && (m.indexOf(".") > -1 && (_ = m.split("."),
                        m = _.shift(),
                        _.sort()),
                        h = m.indexOf(":") < 0 && "on" + m,
                        (t = t[A.expando] ? t : new A.Event(m,"object" == typeof t && t)).isTrigger = i ? 2 : 3,
                        t.namespace = _.join("."),
                        t.rnamespace = t.namespace ? new RegExp("(^|\\.)" + _.join("\\.(?:.*\\.|)") + "(\\.|$)") : null,
                        t.result = void 0,
                        t.target || (t.target = n),
                        e = null == e ? [t] : A.makeArray(e, [t]),
                        c = A.event.special[m] || {},
                        i || !c.trigger || !1 !== c.trigger.apply(n, e))) {
                            if (!i && !c.noBubble && !g(n)) {
                                for (u = c.delegateType || m,
                                Ee.test(u + m) || (s = s.parentNode); s; s = s.parentNode)
                                    f.push(s),
                                    a = s;
                                a === (n.ownerDocument || y) && f.push(a.defaultView || a.parentWindow || r)
                            }
                            for (o = 0; (s = f[o++]) && !t.isPropagationStopped(); )
                                d = s,
                                t.type = o > 1 ? u : c.bindType || m,
                                (l = (Z.get(s, "events") || Object.create(null))[t.type] && Z.get(s, "handle")) && l.apply(s, e),
                                (l = h && s[h]) && l.apply && K(s) && (t.result = l.apply(s, e),
                                !1 === t.result && t.preventDefault());
                            return t.type = m,
                            i || t.isDefaultPrevented() || c._default && !1 !== c._default.apply(f.pop(), e) || !K(n) || h && v(n[m]) && !g(n) && ((a = n[h]) && (n[h] = null),
                            A.event.triggered = m,
                            t.isPropagationStopped() && d.addEventListener(m, Ae),
                            n[m](),
                            t.isPropagationStopped() && d.removeEventListener(m, Ae),
                            A.event.triggered = void 0,
                            a && (n[h] = a)),
                            t.result
                        }
                    },
                    simulate: function(t, e, n) {
                        var r = A.extend(new A.Event, n, {
                            type: t,
                            isSimulated: !0
                        });
                        A.event.trigger(r, null, e)
                    }
                }),
                A.fn.extend({
                    trigger: function(t, e) {
                        return this.each((function() {
                            A.event.trigger(t, e, this)
                        }
                        ))
                    },
                    triggerHandler: function(t, e) {
                        var n = this[0];
                        if (n)
                            return A.event.trigger(t, e, n, !0)
                    }
                }),
                _.focusin || A.each({
                    focus: "focusin",
                    blur: "focusout"
                }, (function(t, e) {
                    var n = function(t) {
                        A.event.simulate(e, t.target, A.event.fix(t))
                    };
                    A.event.special[e] = {
                        setup: function() {
                            var r = this.ownerDocument || this.document || this
                              , i = Z.access(r, e);
                            i || r.addEventListener(t, n, !0),
                            Z.access(r, e, (i || 0) + 1)
                        },
                        teardown: function() {
                            var r = this.ownerDocument || this.document || this
                              , i = Z.access(r, e) - 1;
                            i ? Z.access(r, e, i) : (r.removeEventListener(t, n, !0),
                            Z.remove(r, e))
                        }
                    }
                }
                ));
                var Se = r.location
                  , we = {
                    guid: Date.now()
                }
                  , Re = /\?/;
                A.parseXML = function(t) {
                    var e;
                    if (!t || "string" != typeof t)
                        return null;
                    try {
                        e = (new r.DOMParser).parseFromString(t, "text/xml")
                    } catch (t) {
                        e = void 0
                    }
                    return e && !e.getElementsByTagName("parsererror").length || A.error("Invalid XML: " + t),
                    e
                }
                ;
                var Oe = /\[\]$/
                  , Ie = /\r?\n/g
                  , Ce = /^(?:submit|button|image|reset|file)$/i
                  , De = /^(?:input|select|textarea|keygen)/i;
                function Me(t, e, n, r) {
                    var i;
                    if (Array.isArray(e))
                        A.each(e, (function(e, i) {
                            n || Oe.test(t) ? r(t, i) : Me(t + "[" + ("object" == typeof i && null != i ? e : "") + "]", i, n, r)
                        }
                        ));
                    else if (n || "object" !== T(e))
                        r(t, e);
                    else
                        for (i in e)
                            Me(t + "[" + i + "]", e[i], n, r)
                }
                A.param = function(t, e) {
                    var n, r = [], i = function(t, e) {
                        var n = v(e) ? e() : e;
                        r[r.length] = encodeURIComponent(t) + "=" + encodeURIComponent(null == n ? "" : n)
                    };
                    if (null == t)
                        return "";
                    if (Array.isArray(t) || t.jquery && !A.isPlainObject(t))
                        A.each(t, (function() {
                            i(this.name, this.value)
                        }
                        ));
                    else
                        for (n in t)
                            Me(n, t[n], e, i);
                    return r.join("&")
                }
                ,
                A.fn.extend({
                    serialize: function() {
                        return A.param(this.serializeArray())
                    },
                    serializeArray: function() {
                        return this.map((function() {
                            var t = A.prop(this, "elements");
                            return t ? A.makeArray(t) : this
                        }
                        )).filter((function() {
                            var t = this.type;
                            return this.name && !A(this).is(":disabled") && De.test(this.nodeName) && !Ce.test(t) && (this.checked || !_t.test(t))
                        }
                        )).map((function(t, e) {
                            var n = A(this).val();
                            return null == n ? null : Array.isArray(n) ? A.map(n, (function(t) {
                                return {
                                    name: e.name,
                                    value: t.replace(Ie, "\r\n")
                                }
                            }
                            )) : {
                                name: e.name,
                                value: n.replace(Ie, "\r\n")
                            }
                        }
                        )).get()
                    }
                });
                var Pe = /%20/g
                  , Ne = /#.*$/
                  , Be = /([?&])_=[^&]*/
                  , Le = /^(.*?):[ \t]*([^\r\n]*)$/gm
                  , Fe = /^(?:GET|HEAD)$/
                  , Ge = /^\/\//
                  , ke = {}
                  , Ue = {}
                  , Xe = "*/".concat("*")
                  , He = y.createElement("a");
                function je(t) {
                    return function(e, n) {
                        "string" != typeof e && (n = e,
                        e = "*");
                        var r, i = 0, o = e.toLowerCase().match(G) || [];
                        if (v(n))
                            for (; r = o[i++]; )
                                "+" === r[0] ? (r = r.slice(1) || "*",
                                (t[r] = t[r] || []).unshift(n)) : (t[r] = t[r] || []).push(n)
                    }
                }
                function $e(t, e, n, r) {
                    var i = {}
                      , o = t === Ue;
                    function s(a) {
                        var u;
                        return i[a] = !0,
                        A.each(t[a] || [], (function(t, a) {
                            var h = a(e, n, r);
                            return "string" != typeof h || o || i[h] ? o ? !(u = h) : void 0 : (e.dataTypes.unshift(h),
                            s(h),
                            !1)
                        }
                        )),
                        u
                    }
                    return s(e.dataTypes[0]) || !i["*"] && s("*")
                }
                function We(t, e) {
                    var n, r, i = A.ajaxSettings.flatOptions || {};
                    for (n in e)
                        void 0 !== e[n] && ((i[n] ? t : r || (r = {}))[n] = e[n]);
                    return r && A.extend(!0, t, r),
                    t
                }
                He.href = Se.href,
                A.extend({
                    active: 0,
                    lastModified: {},
                    etag: {},
                    ajaxSettings: {
                        url: Se.href,
                        type: "GET",
                        isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Se.protocol),
                        global: !0,
                        processData: !0,
                        async: !0,
                        contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                        accepts: {
                            "*": Xe,
                            text: "text/plain",
                            html: "text/html",
                            xml: "application/xml, text/xml",
                            json: "application/json, text/javascript"
                        },
                        contents: {
                            xml: /\bxml\b/,
                            html: /\bhtml/,
                            json: /\bjson\b/
                        },
                        responseFields: {
                            xml: "responseXML",
                            text: "responseText",
                            json: "responseJSON"
                        },
                        converters: {
                            "* text": String,
                            "text html": !0,
                            "text json": JSON.parse,
                            "text xml": A.parseXML
                        },
                        flatOptions: {
                            url: !0,
                            context: !0
                        }
                    },
                    ajaxSetup: function(t, e) {
                        return e ? We(We(t, A.ajaxSettings), e) : We(A.ajaxSettings, t)
                    },
                    ajaxPrefilter: je(ke),
                    ajaxTransport: je(Ue),
                    ajax: function(t, e) {
                        "object" == typeof t && (e = t,
                        t = void 0),
                        e = e || {};
                        var n, i, o, s, a, u, h, l, c, d, p = A.ajaxSetup({}, e), f = p.context || p, m = p.context && (f.nodeType || f.jquery) ? A(f) : A.event, _ = A.Deferred(), v = A.Callbacks("once memory"), g = p.statusCode || {}, b = {}, x = {}, T = "canceled", E = {
                            readyState: 0,
                            getResponseHeader: function(t) {
                                var e;
                                if (h) {
                                    if (!s)
                                        for (s = {}; e = Le.exec(o); )
                                            s[e[1].toLowerCase() + " "] = (s[e[1].toLowerCase() + " "] || []).concat(e[2]);
                                    e = s[t.toLowerCase() + " "]
                                }
                                return null == e ? null : e.join(", ")
                            },
                            getAllResponseHeaders: function() {
                                return h ? o : null
                            },
                            setRequestHeader: function(t, e) {
                                return null == h && (t = x[t.toLowerCase()] = x[t.toLowerCase()] || t,
                                b[t] = e),
                                this
                            },
                            overrideMimeType: function(t) {
                                return null == h && (p.mimeType = t),
                                this
                            },
                            statusCode: function(t) {
                                var e;
                                if (t)
                                    if (h)
                                        E.always(t[E.status]);
                                    else
                                        for (e in t)
                                            g[e] = [g[e], t[e]];
                                return this
                            },
                            abort: function(t) {
                                var e = t || T;
                                return n && n.abort(e),
                                S(0, e),
                                this
                            }
                        };
                        if (_.promise(E),
                        p.url = ((t || p.url || Se.href) + "").replace(Ge, Se.protocol + "//"),
                        p.type = e.method || e.type || p.method || p.type,
                        p.dataTypes = (p.dataType || "*").toLowerCase().match(G) || [""],
                        null == p.crossDomain) {
                            u = y.createElement("a");
                            try {
                                u.href = p.url,
                                u.href = u.href,
                                p.crossDomain = He.protocol + "//" + He.host != u.protocol + "//" + u.host
                            } catch (t) {
                                p.crossDomain = !0
                            }
                        }
                        if (p.data && p.processData && "string" != typeof p.data && (p.data = A.param(p.data, p.traditional)),
                        $e(ke, p, e, E),
                        h)
                            return E;
                        for (c in (l = A.event && p.global) && 0 == A.active++ && A.event.trigger("ajaxStart"),
                        p.type = p.type.toUpperCase(),
                        p.hasContent = !Fe.test(p.type),
                        i = p.url.replace(Ne, ""),
                        p.hasContent ? p.data && p.processData && 0 === (p.contentType || "").indexOf("application/x-www-form-urlencoded") && (p.data = p.data.replace(Pe, "+")) : (d = p.url.slice(i.length),
                        p.data && (p.processData || "string" == typeof p.data) && (i += (Re.test(i) ? "&" : "?") + p.data,
                        delete p.data),
                        !1 === p.cache && (i = i.replace(Be, "$1"),
                        d = (Re.test(i) ? "&" : "?") + "_=" + we.guid++ + d),
                        p.url = i + d),
                        p.ifModified && (A.lastModified[i] && E.setRequestHeader("If-Modified-Since", A.lastModified[i]),
                        A.etag[i] && E.setRequestHeader("If-None-Match", A.etag[i])),
                        (p.data && p.hasContent && !1 !== p.contentType || e.contentType) && E.setRequestHeader("Content-Type", p.contentType),
                        E.setRequestHeader("Accept", p.dataTypes[0] && p.accepts[p.dataTypes[0]] ? p.accepts[p.dataTypes[0]] + ("*" !== p.dataTypes[0] ? ", " + Xe + "; q=0.01" : "") : p.accepts["*"]),
                        p.headers)
                            E.setRequestHeader(c, p.headers[c]);
                        if (p.beforeSend && (!1 === p.beforeSend.call(f, E, p) || h))
                            return E.abort();
                        if (T = "abort",
                        v.add(p.complete),
                        E.done(p.success),
                        E.fail(p.error),
                        n = $e(Ue, p, e, E)) {
                            if (E.readyState = 1,
                            l && m.trigger("ajaxSend", [E, p]),
                            h)
                                return E;
                            p.async && p.timeout > 0 && (a = r.setTimeout((function() {
                                E.abort("timeout")
                            }
                            ), p.timeout));
                            try {
                                h = !1,
                                n.send(b, S)
                            } catch (t) {
                                if (h)
                                    throw t;
                                S(-1, t)
                            }
                        } else
                            S(-1, "No Transport");
                        function S(t, e, s, u) {
                            var c, d, y, b, x, T = e;
                            h || (h = !0,
                            a && r.clearTimeout(a),
                            n = void 0,
                            o = u || "",
                            E.readyState = t > 0 ? 4 : 0,
                            c = t >= 200 && t < 300 || 304 === t,
                            s && (b = function(t, e, n) {
                                for (var r, i, o, s, a = t.contents, u = t.dataTypes; "*" === u[0]; )
                                    u.shift(),
                                    void 0 === r && (r = t.mimeType || e.getResponseHeader("Content-Type"));
                                if (r)
                                    for (i in a)
                                        if (a[i] && a[i].test(r)) {
                                            u.unshift(i);
                                            break
                                        }
                                if (u[0]in n)
                                    o = u[0];
                                else {
                                    for (i in n) {
                                        if (!u[0] || t.converters[i + " " + u[0]]) {
                                            o = i;
                                            break
                                        }
                                        s || (s = i)
                                    }
                                    o = o || s
                                }
                                if (o)
                                    return o !== u[0] && u.unshift(o),
                                    n[o]
                            }(p, E, s)),
                            !c && A.inArray("script", p.dataTypes) > -1 && (p.converters["text script"] = function() {}
                            ),
                            b = function(t, e, n, r) {
                                var i, o, s, a, u, h = {}, l = t.dataTypes.slice();
                                if (l[1])
                                    for (s in t.converters)
                                        h[s.toLowerCase()] = t.converters[s];
                                for (o = l.shift(); o; )
                                    if (t.responseFields[o] && (n[t.responseFields[o]] = e),
                                    !u && r && t.dataFilter && (e = t.dataFilter(e, t.dataType)),
                                    u = o,
                                    o = l.shift())
                                        if ("*" === o)
                                            o = u;
                                        else if ("*" !== u && u !== o) {
                                            if (!(s = h[u + " " + o] || h["* " + o]))
                                                for (i in h)
                                                    if ((a = i.split(" "))[1] === o && (s = h[u + " " + a[0]] || h["* " + a[0]])) {
                                                        !0 === s ? s = h[i] : !0 !== h[i] && (o = a[0],
                                                        l.unshift(a[1]));
                                                        break
                                                    }
                                            if (!0 !== s)
                                                if (s && t.throws)
                                                    e = s(e);
                                                else
                                                    try {
                                                        e = s(e)
                                                    } catch (t) {
                                                        return {
                                                            state: "parsererror",
                                                            error: s ? t : "No conversion from " + u + " to " + o
                                                        }
                                                    }
                                        }
                                return {
                                    state: "success",
                                    data: e
                                }
                            }(p, b, E, c),
                            c ? (p.ifModified && ((x = E.getResponseHeader("Last-Modified")) && (A.lastModified[i] = x),
                            (x = E.getResponseHeader("etag")) && (A.etag[i] = x)),
                            204 === t || "HEAD" === p.type ? T = "nocontent" : 304 === t ? T = "notmodified" : (T = b.state,
                            d = b.data,
                            c = !(y = b.error))) : (y = T,
                            !t && T || (T = "error",
                            t < 0 && (t = 0))),
                            E.status = t,
                            E.statusText = (e || T) + "",
                            c ? _.resolveWith(f, [d, T, E]) : _.rejectWith(f, [E, T, y]),
                            E.statusCode(g),
                            g = void 0,
                            l && m.trigger(c ? "ajaxSuccess" : "ajaxError", [E, p, c ? d : y]),
                            v.fireWith(f, [E, T]),
                            l && (m.trigger("ajaxComplete", [E, p]),
                            --A.active || A.event.trigger("ajaxStop")))
                        }
                        return E
                    },
                    getJSON: function(t, e, n) {
                        return A.get(t, e, n, "json")
                    },
                    getScript: function(t, e) {
                        return A.get(t, void 0, e, "script")
                    }
                }),
                A.each(["get", "post"], (function(t, e) {
                    A[e] = function(t, n, r, i) {
                        return v(n) && (i = i || r,
                        r = n,
                        n = void 0),
                        A.ajax(A.extend({
                            url: t,
                            type: e,
                            dataType: i,
                            data: n,
                            success: r
                        }, A.isPlainObject(t) && t))
                    }
                }
                )),
                A.ajaxPrefilter((function(t) {
                    var e;
                    for (e in t.headers)
                        "content-type" === e.toLowerCase() && (t.contentType = t.headers[e] || "")
                }
                )),
                A._evalUrl = function(t, e, n) {
                    return A.ajax({
                        url: t,
                        type: "GET",
                        dataType: "script",
                        cache: !0,
                        async: !1,
                        global: !1,
                        converters: {
                            "text script": function() {}
                        },
                        dataFilter: function(t) {
                            A.globalEval(t, e, n)
                        }
                    })
                }
                ,
                A.fn.extend({
                    wrapAll: function(t) {
                        var e;
                        return this[0] && (v(t) && (t = t.call(this[0])),
                        e = A(t, this[0].ownerDocument).eq(0).clone(!0),
                        this[0].parentNode && e.insertBefore(this[0]),
                        e.map((function() {
                            for (var t = this; t.firstElementChild; )
                                t = t.firstElementChild;
                            return t
                        }
                        )).append(this)),
                        this
                    },
                    wrapInner: function(t) {
                        return v(t) ? this.each((function(e) {
                            A(this).wrapInner(t.call(this, e))
                        }
                        )) : this.each((function() {
                            var e = A(this)
                              , n = e.contents();
                            n.length ? n.wrapAll(t) : e.append(t)
                        }
                        ))
                    },
                    wrap: function(t) {
                        var e = v(t);
                        return this.each((function(n) {
                            A(this).wrapAll(e ? t.call(this, n) : t)
                        }
                        ))
                    },
                    unwrap: function(t) {
                        return this.parent(t).not("body").each((function() {
                            A(this).replaceWith(this.childNodes)
                        }
                        )),
                        this
                    }
                }),
                A.expr.pseudos.hidden = function(t) {
                    return !A.expr.pseudos.visible(t)
                }
                ,
                A.expr.pseudos.visible = function(t) {
                    return !!(t.offsetWidth || t.offsetHeight || t.getClientRects().length)
                }
                ,
                A.ajaxSettings.xhr = function() {
                    try {
                        return new r.XMLHttpRequest
                    } catch (t) {}
                }
                ;
                var Ve = {
                    0: 200,
                    1223: 204
                }
                  , Ye = A.ajaxSettings.xhr();
                _.cors = !!Ye && "withCredentials"in Ye,
                _.ajax = Ye = !!Ye,
                A.ajaxTransport((function(t) {
                    var e, n;
                    if (_.cors || Ye && !t.crossDomain)
                        return {
                            send: function(i, o) {
                                var s, a = t.xhr();
                                if (a.open(t.type, t.url, t.async, t.username, t.password),
                                t.xhrFields)
                                    for (s in t.xhrFields)
                                        a[s] = t.xhrFields[s];
                                for (s in t.mimeType && a.overrideMimeType && a.overrideMimeType(t.mimeType),
                                t.crossDomain || i["X-Requested-With"] || (i["X-Requested-With"] = "XMLHttpRequest"),
                                i)
                                    a.setRequestHeader(s, i[s]);
                                e = function(t) {
                                    return function() {
                                        e && (e = n = a.onload = a.onerror = a.onabort = a.ontimeout = a.onreadystatechange = null,
                                        "abort" === t ? a.abort() : "error" === t ? "number" != typeof a.status ? o(0, "error") : o(a.status, a.statusText) : o(Ve[a.status] || a.status, a.statusText, "text" !== (a.responseType || "text") || "string" != typeof a.responseText ? {
                                            binary: a.response
                                        } : {
                                            text: a.responseText
                                        }, a.getAllResponseHeaders()))
                                    }
                                }
                                ,
                                a.onload = e(),
                                n = a.onerror = a.ontimeout = e("error"),
                                void 0 !== a.onabort ? a.onabort = n : a.onreadystatechange = function() {
                                    4 === a.readyState && r.setTimeout((function() {
                                        e && n()
                                    }
                                    ))
                                }
                                ,
                                e = e("abort");
                                try {
                                    a.send(t.hasContent && t.data || null)
                                } catch (t) {
                                    if (e)
                                        throw t
                                }
                            },
                            abort: function() {
                                e && e()
                            }
                        }
                }
                )),
                A.ajaxPrefilter((function(t) {
                    t.crossDomain && (t.contents.script = !1)
                }
                )),
                A.ajaxSetup({
                    accepts: {
                        script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
                    },
                    contents: {
                        script: /\b(?:java|ecma)script\b/
                    },
                    converters: {
                        "text script": function(t) {
                            return A.globalEval(t),
                            t
                        }
                    }
                }),
                A.ajaxPrefilter("script", (function(t) {
                    void 0 === t.cache && (t.cache = !1),
                    t.crossDomain && (t.type = "GET")
                }
                )),
                A.ajaxTransport("script", (function(t) {
                    var e, n;
                    if (t.crossDomain || t.scriptAttrs)
                        return {
                            send: function(r, i) {
                                e = A("<script>").attr(t.scriptAttrs || {}).prop({
                                    charset: t.scriptCharset,
                                    src: t.url
                                }).on("load error", n = function(t) {
                                    e.remove(),
                                    n = null,
                                    t && i("error" === t.type ? 404 : 200, t.type)
                                }
                                ),
                                y.head.appendChild(e[0])
                            },
                            abort: function() {
                                n && n()
                            }
                        }
                }
                ));
                var ze, qe = [], Ke = /(=)\?(?=&|$)|\?\?/;
                A.ajaxSetup({
                    jsonp: "callback",
                    jsonpCallback: function() {
                        var t = qe.pop() || A.expando + "_" + we.guid++;
                        return this[t] = !0,
                        t
                    }
                }),
                A.ajaxPrefilter("json jsonp", (function(t, e, n) {
                    var i, o, s, a = !1 !== t.jsonp && (Ke.test(t.url) ? "url" : "string" == typeof t.data && 0 === (t.contentType || "").indexOf("application/x-www-form-urlencoded") && Ke.test(t.data) && "data");
                    if (a || "jsonp" === t.dataTypes[0])
                        return i = t.jsonpCallback = v(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback,
                        a ? t[a] = t[a].replace(Ke, "$1" + i) : !1 !== t.jsonp && (t.url += (Re.test(t.url) ? "&" : "?") + t.jsonp + "=" + i),
                        t.converters["script json"] = function() {
                            return s || A.error(i + " was not called"),
                            s[0]
                        }
                        ,
                        t.dataTypes[0] = "json",
                        o = r[i],
                        r[i] = function() {
                            s = arguments
                        }
                        ,
                        n.always((function() {
                            void 0 === o ? A(r).removeProp(i) : r[i] = o,
                            t[i] && (t.jsonpCallback = e.jsonpCallback,
                            qe.push(i)),
                            s && v(o) && o(s[0]),
                            s = o = void 0
                        }
                        )),
                        "script"
                }
                )),
                _.createHTMLDocument = ((ze = y.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>",
                2 === ze.childNodes.length),
                A.parseHTML = function(t, e, n) {
                    return "string" != typeof t ? [] : ("boolean" == typeof e && (n = e,
                    e = !1),
                    e || (_.createHTMLDocument ? ((r = (e = y.implementation.createHTMLDocument("")).createElement("base")).href = y.location.href,
                    e.head.appendChild(r)) : e = y),
                    o = !n && [],
                    (i = D.exec(t)) ? [e.createElement(i[1])] : (i = Et([t], e, o),
                    o && o.length && A(o).remove(),
                    A.merge([], i.childNodes)));
                    var r, i, o
                }
                ,
                A.fn.load = function(t, e, n) {
                    var r, i, o, s = this, a = t.indexOf(" ");
                    return a > -1 && (r = ye(t.slice(a)),
                    t = t.slice(0, a)),
                    v(e) ? (n = e,
                    e = void 0) : e && "object" == typeof e && (i = "POST"),
                    s.length > 0 && A.ajax({
                        url: t,
                        type: i || "GET",
                        dataType: "html",
                        data: e
                    }).done((function(t) {
                        o = arguments,
                        s.html(r ? A("<div>").append(A.parseHTML(t)).find(r) : t)
                    }
                    )).always(n && function(t, e) {
                        s.each((function() {
                            n.apply(this, o || [t.responseText, e, t])
                        }
                        ))
                    }
                    ),
                    this
                }
                ,
                A.expr.pseudos.animated = function(t) {
                    return A.grep(A.timers, (function(e) {
                        return t === e.elem
                    }
                    )).length
                }
                ,
                A.offset = {
                    setOffset: function(t, e, n) {
                        var r, i, o, s, a, u, h = A.css(t, "position"), l = A(t), c = {};
                        "static" === h && (t.style.position = "relative"),
                        a = l.offset(),
                        o = A.css(t, "top"),
                        u = A.css(t, "left"),
                        ("absolute" === h || "fixed" === h) && (o + u).indexOf("auto") > -1 ? (s = (r = l.position()).top,
                        i = r.left) : (s = parseFloat(o) || 0,
                        i = parseFloat(u) || 0),
                        v(e) && (e = e.call(t, n, A.extend({}, a))),
                        null != e.top && (c.top = e.top - a.top + s),
                        null != e.left && (c.left = e.left - a.left + i),
                        "using"in e ? e.using.call(t, c) : ("number" == typeof c.top && (c.top += "px"),
                        "number" == typeof c.left && (c.left += "px"),
                        l.css(c))
                    }
                },
                A.fn.extend({
                    offset: function(t) {
                        if (arguments.length)
                            return void 0 === t ? this : this.each((function(e) {
                                A.offset.setOffset(this, t, e)
                            }
                            ));
                        var e, n, r = this[0];
                        return r ? r.getClientRects().length ? (e = r.getBoundingClientRect(),
                        n = r.ownerDocument.defaultView,
                        {
                            top: e.top + n.pageYOffset,
                            left: e.left + n.pageXOffset
                        }) : {
                            top: 0,
                            left: 0
                        } : void 0
                    },
                    position: function() {
                        if (this[0]) {
                            var t, e, n, r = this[0], i = {
                                top: 0,
                                left: 0
                            };
                            if ("fixed" === A.css(r, "position"))
                                e = r.getBoundingClientRect();
                            else {
                                for (e = this.offset(),
                                n = r.ownerDocument,
                                t = r.offsetParent || n.documentElement; t && (t === n.body || t === n.documentElement) && "static" === A.css(t, "position"); )
                                    t = t.parentNode;
                                t && t !== r && 1 === t.nodeType && ((i = A(t).offset()).top += A.css(t, "borderTopWidth", !0),
                                i.left += A.css(t, "borderLeftWidth", !0))
                            }
                            return {
                                top: e.top - i.top - A.css(r, "marginTop", !0),
                                left: e.left - i.left - A.css(r, "marginLeft", !0)
                            }
                        }
                    },
                    offsetParent: function() {
                        return this.map((function() {
                            for (var t = this.offsetParent; t && "static" === A.css(t, "position"); )
                                t = t.offsetParent;
                            return t || st
                        }
                        ))
                    }
                }),
                A.each({
                    scrollLeft: "pageXOffset",
                    scrollTop: "pageYOffset"
                }, (function(t, e) {
                    var n = "pageYOffset" === e;
                    A.fn[t] = function(r) {
                        return W(this, (function(t, r, i) {
                            var o;
                            if (g(t) ? o = t : 9 === t.nodeType && (o = t.defaultView),
                            void 0 === i)
                                return o ? o[e] : t[r];
                            o ? o.scrollTo(n ? o.pageXOffset : i, n ? i : o.pageYOffset) : t[r] = i
                        }
                        ), t, r, arguments.length)
                    }
                }
                )),
                A.each(["top", "left"], (function(t, e) {
                    A.cssHooks[e] = Yt(_.pixelPosition, (function(t, n) {
                        if (n)
                            return n = Vt(t, e),
                            Ht.test(n) ? A(t).position()[e] + "px" : n
                    }
                    ))
                }
                )),
                A.each({
                    Height: "height",
                    Width: "width"
                }, (function(t, e) {
                    A.each({
                        padding: "inner" + t,
                        content: e,
                        "": "outer" + t
                    }, (function(n, r) {
                        A.fn[r] = function(i, o) {
                            var s = arguments.length && (n || "boolean" != typeof i)
                              , a = n || (!0 === i || !0 === o ? "margin" : "border");
                            return W(this, (function(e, n, i) {
                                var o;
                                return g(e) ? 0 === r.indexOf("outer") ? e["inner" + t] : e.document.documentElement["client" + t] : 9 === e.nodeType ? (o = e.documentElement,
                                Math.max(e.body["scroll" + t], o["scroll" + t], e.body["offset" + t], o["offset" + t], o["client" + t])) : void 0 === i ? A.css(e, n, a) : A.style(e, n, i, a)
                            }
                            ), e, s ? i : void 0, s)
                        }
                    }
                    ))
                }
                )),
                A.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], (function(t, e) {
                    A.fn[e] = function(t) {
                        return this.on(e, t)
                    }
                }
                )),
                A.fn.extend({
                    bind: function(t, e, n) {
                        return this.on(t, null, e, n)
                    },
                    unbind: function(t, e) {
                        return this.off(t, null, e)
                    },
                    delegate: function(t, e, n, r) {
                        return this.on(e, t, n, r)
                    },
                    undelegate: function(t, e, n) {
                        return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", n)
                    },
                    hover: function(t, e) {
                        return this.mouseenter(t).mouseleave(e || t)
                    }
                }),
                A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), (function(t, e) {
                    A.fn[e] = function(t, n) {
                        return arguments.length > 0 ? this.on(e, null, t, n) : this.trigger(e)
                    }
                }
                ));
                var Je = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
                A.proxy = function(t, e) {
                    var n, r, i;
                    if ("string" == typeof e && (n = t[e],
                    e = t,
                    t = n),
                    v(t))
                        return r = a.call(arguments, 2),
                        (i = function() {
                            return t.apply(e || this, r.concat(a.call(arguments)))
                        }
                        ).guid = t.guid = t.guid || A.guid++,
                        i
                }
                ,
                A.holdReady = function(t) {
                    t ? A.readyWait++ : A.ready(!0)
                }
                ,
                A.isArray = Array.isArray,
                A.parseJSON = JSON.parse,
                A.nodeName = C,
                A.isFunction = v,
                A.isWindow = g,
                A.camelCase = q,
                A.type = T,
                A.now = Date.now,
                A.isNumeric = function(t) {
                    var e = A.type(t);
                    return ("number" === e || "string" === e) && !isNaN(t - parseFloat(t))
                }
                ,
                A.trim = function(t) {
                    return null == t ? "" : (t + "").replace(Je, "")
                }
                ,
                void 0 === (n = function() {
                    return A
                }
                .apply(e, [])) || (t.exports = n);
                var Ze = r.jQuery
                  , Qe = r.$;
                return A.noConflict = function(t) {
                    return r.$ === A && (r.$ = Qe),
                    t && r.jQuery === A && (r.jQuery = Ze),
                    A
                }
                ,
                void 0 === i && (r.jQuery = r.$ = A),
                A
            }
            ))
        },
        686: ()=>{}
        ,
        320: t=>{
            "use strict";
            var e = Object.getOwnPropertySymbols
              , n = Object.prototype.hasOwnProperty
              , r = Object.prototype.propertyIsEnumerable;
            function i(t) {
                if (null == t)
                    throw new TypeError("Object.assign cannot be called with null or undefined");
                return Object(t)
            }
            t.exports = function() {
                try {
                    if (!Object.assign)
                        return !1;
                    var t = new String("abc");
                    if (t[5] = "de",
                    "5" === Object.getOwnPropertyNames(t)[0])
                        return !1;
                    for (var e = {}, n = 0; n < 10; n++)
                        e["_" + String.fromCharCode(n)] = n;
                    if ("0123456789" !== Object.getOwnPropertyNames(e).map((function(t) {
                        return e[t]
                    }
                    )).join(""))
                        return !1;
                    var r = {};
                    return "abcdefghijklmnopqrst".split("").forEach((function(t) {
                        r[t] = t
                    }
                    )),
                    "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, r)).join("")
                } catch (t) {
                    return !1
                }
            }() ? Object.assign : function(t, o) {
                for (var s, a, u = i(t), h = 1; h < arguments.length; h++) {
                    for (var l in s = Object(arguments[h]))
                        n.call(s, l) && (u[l] = s[l]);
                    if (e) {
                        a = e(s);
                        for (var c = 0; c < a.length; c++)
                            r.call(s, a[c]) && (u[a[c]] = s[a[c]])
                    }
                }
                return u
            }
        }
        ,
        808: t=>{
            "use strict";
            function e(t, e) {
                return Object.prototype.hasOwnProperty.call(t, e)
            }
            t.exports = function(t, n, r, i) {
                n = n || "&",
                r = r || "=";
                var o = {};
                if ("string" != typeof t || 0 === t.length)
                    return o;
                var s = /\+/g;
                t = t.split(n);
                var a = 1e3;
                i && "number" == typeof i.maxKeys && (a = i.maxKeys);
                var u = t.length;
                a > 0 && u > a && (u = a);
                for (var h = 0; h < u; ++h) {
                    var l, c, d, p, f = t[h].replace(s, "%20"), m = f.indexOf(r);
                    m >= 0 ? (l = f.substr(0, m),
                    c = f.substr(m + 1)) : (l = f,
                    c = ""),
                    d = decodeURIComponent(l),
                    p = decodeURIComponent(c),
                    e(o, d) ? Array.isArray(o[d]) ? o[d].push(p) : o[d] = [o[d], p] : o[d] = p
                }
                return o
            }
        }
        ,
        368: t=>{
            "use strict";
            var e = function(t) {
                switch (typeof t) {
                case "string":
                    return t;
                case "boolean":
                    return t ? "true" : "false";
                case "number":
                    return isFinite(t) ? t : "";
                default:
                    return ""
                }
            };
            t.exports = function(t, n, r, i) {
                return n = n || "&",
                r = r || "=",
                null === t && (t = void 0),
                "object" == typeof t ? Object.keys(t).map((function(i) {
                    var o = encodeURIComponent(e(i)) + r;
                    return Array.isArray(t[i]) ? t[i].map((function(t) {
                        return o + encodeURIComponent(e(t))
                    }
                    )).join(n) : o + encodeURIComponent(e(t[i]))
                }
                )).join(n) : i ? encodeURIComponent(e(i)) + r + encodeURIComponent(e(t)) : ""
            }
        }
        ,
        642: (t,e,n)=>{
            "use strict";
            e.decode = e.parse = n(808),
            e.encode = e.stringify = n(368)
        }
        ,
        639: function(t, e, n) {
            var r;
            t = n.nmd(t),
            function(i) {
                e && e.nodeType,
                t && t.nodeType;
                var o = "object" == typeof n.g && n.g;
                o.global !== o && o.window !== o && o.self;
                var s, a = 2147483647, u = 36, h = /^xn--/, l = /[^\x20-\x7E]/, c = /[\x2E\u3002\uFF0E\uFF61]/g, d = {
                    overflow: "Overflow: input needs wider integers to process",
                    "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                    "invalid-input": "Invalid input"
                }, p = Math.floor, f = String.fromCharCode;
                function m(t) {
                    throw RangeError(d[t])
                }
                function _(t, e) {
                    for (var n = t.length, r = []; n--; )
                        r[n] = e(t[n]);
                    return r
                }
                function v(t, e) {
                    var n = t.split("@")
                      , r = "";
                    return n.length > 1 && (r = n[0] + "@",
                    t = n[1]),
                    r + _((t = t.replace(c, ".")).split("."), e).join(".")
                }
                function g(t) {
                    for (var e, n, r = [], i = 0, o = t.length; i < o; )
                        (e = t.charCodeAt(i++)) >= 55296 && e <= 56319 && i < o ? 56320 == (64512 & (n = t.charCodeAt(i++))) ? r.push(((1023 & e) << 10) + (1023 & n) + 65536) : (r.push(e),
                        i--) : r.push(e);
                    return r
                }
                function y(t) {
                    return _(t, (function(t) {
                        var e = "";
                        return t > 65535 && (e += f((t -= 65536) >>> 10 & 1023 | 55296),
                        t = 56320 | 1023 & t),
                        e + f(t)
                    }
                    )).join("")
                }
                function b(t, e) {
                    return t + 22 + 75 * (t < 26) - ((0 != e) << 5)
                }
                function x(t, e, n) {
                    var r = 0;
                    for (t = n ? p(t / 700) : t >> 1,
                    t += p(t / e); t > 455; r += u)
                        t = p(t / 35);
                    return p(r + 36 * t / (t + 38))
                }
                function T(t) {
                    var e, n, r, i, o, s, h, l, c, d, f, _ = [], v = t.length, g = 0, b = 128, T = 72;
                    for ((n = t.lastIndexOf("-")) < 0 && (n = 0),
                    r = 0; r < n; ++r)
                        t.charCodeAt(r) >= 128 && m("not-basic"),
                        _.push(t.charCodeAt(r));
                    for (i = n > 0 ? n + 1 : 0; i < v; ) {
                        for (o = g,
                        s = 1,
                        h = u; i >= v && m("invalid-input"),
                        ((l = (f = t.charCodeAt(i++)) - 48 < 10 ? f - 22 : f - 65 < 26 ? f - 65 : f - 97 < 26 ? f - 97 : u) >= u || l > p((a - g) / s)) && m("overflow"),
                        g += l * s,
                        !(l < (c = h <= T ? 1 : h >= T + 26 ? 26 : h - T)); h += u)
                            s > p(a / (d = u - c)) && m("overflow"),
                            s *= d;
                        T = x(g - o, e = _.length + 1, 0 == o),
                        p(g / e) > a - b && m("overflow"),
                        b += p(g / e),
                        g %= e,
                        _.splice(g++, 0, b)
                    }
                    return y(_)
                }
                function E(t) {
                    var e, n, r, i, o, s, h, l, c, d, _, v, y, T, E, A = [];
                    for (v = (t = g(t)).length,
                    e = 128,
                    n = 0,
                    o = 72,
                    s = 0; s < v; ++s)
                        (_ = t[s]) < 128 && A.push(f(_));
                    for (r = i = A.length,
                    i && A.push("-"); r < v; ) {
                        for (h = a,
                        s = 0; s < v; ++s)
                            (_ = t[s]) >= e && _ < h && (h = _);
                        for (h - e > p((a - n) / (y = r + 1)) && m("overflow"),
                        n += (h - e) * y,
                        e = h,
                        s = 0; s < v; ++s)
                            if ((_ = t[s]) < e && ++n > a && m("overflow"),
                            _ == e) {
                                for (l = n,
                                c = u; !(l < (d = c <= o ? 1 : c >= o + 26 ? 26 : c - o)); c += u)
                                    E = l - d,
                                    T = u - d,
                                    A.push(f(b(d + E % T, 0))),
                                    l = p(E / T);
                                A.push(f(b(l, 0))),
                                o = x(n, y, r == i),
                                n = 0,
                                ++r
                            }
                        ++n,
                        ++e
                    }
                    return A.join("")
                }
                s = {
                    version: "1.3.2",
                    ucs2: {
                        decode: g,
                        encode: y
                    },
                    decode: T,
                    encode: E,
                    toASCII: function(t) {
                        return v(t, (function(t) {
                            return l.test(t) ? "xn--" + E(t) : t
                        }
                        ))
                    },
                    toUnicode: function(t) {
                        return v(t, (function(t) {
                            return h.test(t) ? T(t.slice(4).toLowerCase()) : t
                        }
                        ))
                    }
                },
                void 0 === (r = function() {
                    return s
                }
                .call(e, n, e, t)) || (t.exports = r)
            }()
        },
        883: (t,e,n)=>{
            "use strict";
            var r = n(639)
              , i = n(225);
            function o() {
                this.protocol = null,
                this.slashes = null,
                this.auth = null,
                this.host = null,
                this.port = null,
                this.hostname = null,
                this.hash = null,
                this.search = null,
                this.query = null,
                this.pathname = null,
                this.path = null,
                this.href = null
            }
            e.Qc = y,
            e.DB = function(t, e) {
                return y(t, !1, !0).resolve(e)
            }
            ,
            e.WU = function(t) {
                return i.isString(t) && (t = y(t)),
                t instanceof o ? t.format() : o.prototype.format.call(t)
            }
            ;
            var s = /^([a-z0-9.+-]+:)/i
              , a = /:[0-9]*$/
              , u = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/
              , h = ["{", "}", "|", "\\", "^", "`"].concat(["<", ">", '"', "`", " ", "\r", "\n", "\t"])
              , l = ["'"].concat(h)
              , c = ["%", "/", "?", ";", "#"].concat(l)
              , d = ["/", "?", "#"]
              , p = /^[+a-z0-9A-Z_-]{0,63}$/
              , f = /^([+a-z0-9A-Z_-]{0,63})(.*)$/
              , m = {
                javascript: !0,
                "javascript:": !0
            }
              , _ = {
                javascript: !0,
                "javascript:": !0
            }
              , v = {
                http: !0,
                https: !0,
                ftp: !0,
                gopher: !0,
                file: !0,
                "http:": !0,
                "https:": !0,
                "ftp:": !0,
                "gopher:": !0,
                "file:": !0
            }
              , g = n(642);
            function y(t, e, n) {
                if (t && i.isObject(t) && t instanceof o)
                    return t;
                var r = new o;
                return r.parse(t, e, n),
                r
            }
            o.prototype.parse = function(t, e, n) {
                if (!i.isString(t))
                    throw new TypeError("Parameter 'url' must be a string, not " + typeof t);
                var o = t.indexOf("?")
                  , a = -1 !== o && o < t.indexOf("#") ? "?" : "#"
                  , h = t.split(a);
                h[0] = h[0].replace(/\\/g, "/");
                var y = t = h.join(a);
                if (y = y.trim(),
                !n && 1 === t.split("#").length) {
                    var b = u.exec(y);
                    if (b)
                        return this.path = y,
                        this.href = y,
                        this.pathname = b[1],
                        b[2] ? (this.search = b[2],
                        this.query = e ? g.parse(this.search.substr(1)) : this.search.substr(1)) : e && (this.search = "",
                        this.query = {}),
                        this
                }
                var x = s.exec(y);
                if (x) {
                    var T = (x = x[0]).toLowerCase();
                    this.protocol = T,
                    y = y.substr(x.length)
                }
                if (n || x || y.match(/^\/\/[^@\/]+@[^@\/]+/)) {
                    var E = "//" === y.substr(0, 2);
                    !E || x && _[x] || (y = y.substr(2),
                    this.slashes = !0)
                }
                if (!_[x] && (E || x && !v[x])) {
                    for (var A, S, w = -1, R = 0; R < d.length; R++)
                        -1 !== (O = y.indexOf(d[R])) && (-1 === w || O < w) && (w = O);
                    for (-1 !== (S = -1 === w ? y.lastIndexOf("@") : y.lastIndexOf("@", w)) && (A = y.slice(0, S),
                    y = y.slice(S + 1),
                    this.auth = decodeURIComponent(A)),
                    w = -1,
                    R = 0; R < c.length; R++) {
                        var O;
                        -1 !== (O = y.indexOf(c[R])) && (-1 === w || O < w) && (w = O)
                    }
                    -1 === w && (w = y.length),
                    this.host = y.slice(0, w),
                    y = y.slice(w),
                    this.parseHost(),
                    this.hostname = this.hostname || "";
                    var I = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
                    if (!I)
                        for (var C = this.hostname.split(/\./), D = (R = 0,
                        C.length); R < D; R++) {
                            var M = C[R];
                            if (M && !M.match(p)) {
                                for (var P = "", N = 0, B = M.length; N < B; N++)
                                    M.charCodeAt(N) > 127 ? P += "x" : P += M[N];
                                if (!P.match(p)) {
                                    var L = C.slice(0, R)
                                      , F = C.slice(R + 1)
                                      , G = M.match(f);
                                    G && (L.push(G[1]),
                                    F.unshift(G[2])),
                                    F.length && (y = "/" + F.join(".") + y),
                                    this.hostname = L.join(".");
                                    break
                                }
                            }
                        }
                    this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(),
                    I || (this.hostname = r.toASCII(this.hostname));
                    var k = this.port ? ":" + this.port : ""
                      , U = this.hostname || "";
                    this.host = U + k,
                    this.href += this.host,
                    I && (this.hostname = this.hostname.substr(1, this.hostname.length - 2),
                    "/" !== y[0] && (y = "/" + y))
                }
                if (!m[T])
                    for (R = 0,
                    D = l.length; R < D; R++) {
                        var X = l[R];
                        if (-1 !== y.indexOf(X)) {
                            var H = encodeURIComponent(X);
                            H === X && (H = escape(X)),
                            y = y.split(X).join(H)
                        }
                    }
                var j = y.indexOf("#");
                -1 !== j && (this.hash = y.substr(j),
                y = y.slice(0, j));
                var $ = y.indexOf("?");
                if (-1 !== $ ? (this.search = y.substr($),
                this.query = y.substr($ + 1),
                e && (this.query = g.parse(this.query)),
                y = y.slice(0, $)) : e && (this.search = "",
                this.query = {}),
                y && (this.pathname = y),
                v[T] && this.hostname && !this.pathname && (this.pathname = "/"),
                this.pathname || this.search) {
                    k = this.pathname || "";
                    var W = this.search || "";
                    this.path = k + W
                }
                return this.href = this.format(),
                this
            }
            ,
            o.prototype.format = function() {
                var t = this.auth || "";
                t && (t = (t = encodeURIComponent(t)).replace(/%3A/i, ":"),
                t += "@");
                var e = this.protocol || ""
                  , n = this.pathname || ""
                  , r = this.hash || ""
                  , o = !1
                  , s = "";
                this.host ? o = t + this.host : this.hostname && (o = t + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"),
                this.port && (o += ":" + this.port)),
                this.query && i.isObject(this.query) && Object.keys(this.query).length && (s = g.stringify(this.query));
                var a = this.search || s && "?" + s || "";
                return e && ":" !== e.substr(-1) && (e += ":"),
                this.slashes || (!e || v[e]) && !1 !== o ? (o = "//" + (o || ""),
                n && "/" !== n.charAt(0) && (n = "/" + n)) : o || (o = ""),
                r && "#" !== r.charAt(0) && (r = "#" + r),
                a && "?" !== a.charAt(0) && (a = "?" + a),
                e + o + (n = n.replace(/[?#]/g, (function(t) {
                    return encodeURIComponent(t)
                }
                ))) + (a = a.replace("#", "%23")) + r
            }
            ,
            o.prototype.resolve = function(t) {
                return this.resolveObject(y(t, !1, !0)).format()
            }
            ,
            o.prototype.resolveObject = function(t) {
                if (i.isString(t)) {
                    var e = new o;
                    e.parse(t, !1, !0),
                    t = e
                }
                for (var n = new o, r = Object.keys(this), s = 0; s < r.length; s++) {
                    var a = r[s];
                    n[a] = this[a]
                }
                if (n.hash = t.hash,
                "" === t.href)
                    return n.href = n.format(),
                    n;
                if (t.slashes && !t.protocol) {
                    for (var u = Object.keys(t), h = 0; h < u.length; h++) {
                        var l = u[h];
                        "protocol" !== l && (n[l] = t[l])
                    }
                    return v[n.protocol] && n.hostname && !n.pathname && (n.path = n.pathname = "/"),
                    n.href = n.format(),
                    n
                }
                if (t.protocol && t.protocol !== n.protocol) {
                    if (!v[t.protocol]) {
                        for (var c = Object.keys(t), d = 0; d < c.length; d++) {
                            var p = c[d];
                            n[p] = t[p]
                        }
                        return n.href = n.format(),
                        n
                    }
                    if (n.protocol = t.protocol,
                    t.host || _[t.protocol])
                        n.pathname = t.pathname;
                    else {
                        for (var f = (t.pathname || "").split("/"); f.length && !(t.host = f.shift()); )
                            ;
                        t.host || (t.host = ""),
                        t.hostname || (t.hostname = ""),
                        "" !== f[0] && f.unshift(""),
                        f.length < 2 && f.unshift(""),
                        n.pathname = f.join("/")
                    }
                    if (n.search = t.search,
                    n.query = t.query,
                    n.host = t.host || "",
                    n.auth = t.auth,
                    n.hostname = t.hostname || t.host,
                    n.port = t.port,
                    n.pathname || n.search) {
                        var m = n.pathname || ""
                          , g = n.search || "";
                        n.path = m + g
                    }
                    return n.slashes = n.slashes || t.slashes,
                    n.href = n.format(),
                    n
                }
                var y = n.pathname && "/" === n.pathname.charAt(0)
                  , b = t.host || t.pathname && "/" === t.pathname.charAt(0)
                  , x = b || y || n.host && t.pathname
                  , T = x
                  , E = n.pathname && n.pathname.split("/") || []
                  , A = (f = t.pathname && t.pathname.split("/") || [],
                n.protocol && !v[n.protocol]);
                if (A && (n.hostname = "",
                n.port = null,
                n.host && ("" === E[0] ? E[0] = n.host : E.unshift(n.host)),
                n.host = "",
                t.protocol && (t.hostname = null,
                t.port = null,
                t.host && ("" === f[0] ? f[0] = t.host : f.unshift(t.host)),
                t.host = null),
                x = x && ("" === f[0] || "" === E[0])),
                b)
                    n.host = t.host || "" === t.host ? t.host : n.host,
                    n.hostname = t.hostname || "" === t.hostname ? t.hostname : n.hostname,
                    n.search = t.search,
                    n.query = t.query,
                    E = f;
                else if (f.length)
                    E || (E = []),
                    E.pop(),
                    E = E.concat(f),
                    n.search = t.search,
                    n.query = t.query;
                else if (!i.isNullOrUndefined(t.search))
                    return A && (n.hostname = n.host = E.shift(),
                    (I = !!(n.host && n.host.indexOf("@") > 0) && n.host.split("@")) && (n.auth = I.shift(),
                    n.host = n.hostname = I.shift())),
                    n.search = t.search,
                    n.query = t.query,
                    i.isNull(n.pathname) && i.isNull(n.search) || (n.path = (n.pathname ? n.pathname : "") + (n.search ? n.search : "")),
                    n.href = n.format(),
                    n;
                if (!E.length)
                    return n.pathname = null,
                    n.search ? n.path = "/" + n.search : n.path = null,
                    n.href = n.format(),
                    n;
                for (var S = E.slice(-1)[0], w = (n.host || t.host || E.length > 1) && ("." === S || ".." === S) || "" === S, R = 0, O = E.length; O >= 0; O--)
                    "." === (S = E[O]) ? E.splice(O, 1) : ".." === S ? (E.splice(O, 1),
                    R++) : R && (E.splice(O, 1),
                    R--);
                if (!x && !T)
                    for (; R--; R)
                        E.unshift("..");
                !x || "" === E[0] || E[0] && "/" === E[0].charAt(0) || E.unshift(""),
                w && "/" !== E.join("/").substr(-1) && E.push("");
                var I, C = "" === E[0] || E[0] && "/" === E[0].charAt(0);
                return A && (n.hostname = n.host = C ? "" : E.length ? E.shift() : "",
                (I = !!(n.host && n.host.indexOf("@") > 0) && n.host.split("@")) && (n.auth = I.shift(),
                n.host = n.hostname = I.shift())),
                (x = x || n.host && E.length) && !C && E.unshift(""),
                E.length ? n.pathname = E.join("/") : (n.pathname = null,
                n.path = null),
                i.isNull(n.pathname) && i.isNull(n.search) || (n.path = (n.pathname ? n.pathname : "") + (n.search ? n.search : "")),
                n.auth = t.auth || n.auth,
                n.slashes = n.slashes || t.slashes,
                n.href = n.format(),
                n
            }
            ,
            o.prototype.parseHost = function() {
                var t = this.host
                  , e = a.exec(t);
                e && (":" !== (e = e[0]) && (this.port = e.substr(1)),
                t = t.substr(0, t.length - e.length)),
                t && (this.hostname = t)
            }
        }
        ,
        225: t=>{
            "use strict";
            t.exports = {
                isString: function(t) {
                    return "string" == typeof t
                },
                isObject: function(t) {
                    return "object" == typeof t && null !== t
                },
                isNull: function(t) {
                    return null === t
                },
                isNullOrUndefined: function(t) {
                    return null == t
                }
            }
        }
        ,
        781: ()=>{
            "use strict";
            const t = {
                userTimezone: 0,
                Init() {
                    this.userTimezone = this.GetUserTimezone()
                },
                GetUserTimezone: ()=>(new Date).getTimezoneOffset() / -60,
                SetUserTimezone(t=null) {
                    var e = t;
                    return null === e && (e = (new Date).getTimezoneOffset() / -60),
                    e = parseInt(e),
                    this.userTimezone = e,
                    e
                },
                GetUTCDate(t) {
                    return t instanceof Date || (t = this.GetStandartString(t),
                    t = new Date(t)),
                    new Date(t.setHours(t.getHours() + t.getTimezoneOffset() / 60))
                },
                GetCurrentUTCDate() {
                    return this.GetUTCDate(new Date)
                },
                GetUserCurrentDate() {
                    return this.GetUserTime(this.GetCurrentUTCDate())
                },
                GetUserTime(t) {
                    t instanceof Date || (t = this.GetStandartString(t),
                    t = new Date(t));
                    var e = t;
                    return e.setHours(e.getHours() + this.userTimezone),
                    e
                },
                GetUTCTime(t) {
                    t instanceof Date || (t = this.GetStandartString(t),
                    t = new Date(t));
                    var e = t;
                    return e.setHours(e.getHours() - this.userTimezone),
                    e
                },
                GetDateStr(t, e="dd-MM-yyyy") {
                    if (t instanceof Date || (t = this.GetStandartString(t),
                    t = new Date(t)),
                    "Invalid Date" !== t) {
                        var n = ("0" + t.getDate()).slice(-2)
                          , r = ("0" + (t.getMonth() + 1)).slice(-2)
                          , i = t.getFullYear()
                          , o = ("0" + t.getHours()).slice(-2)
                          , s = ("0" + t.getMinutes()).slice(-2)
                          , a = ("0" + t.getSeconds()).slice(-2);
                        return ~e.indexOf("hh") && (o = (o + 1) % 12),
                        e.replace("yyyy", i).replace("yy", String(i).slice(-2)).replace("MM", r).replace("dd", n).replace("HH", o).replace("hh", o).replace("mm", s).replace("ss", a)
                    }
                },
                GetShortDateStr(t) {
                    return t ? (t instanceof Date || (t = this.GetStandartString(t),
                    t = new Date(t)),
                    "Invalid Date" == t ? "" : t.getDate().toString() + " " + ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"][t.getMonth()]) : ""
                },
                GetTimeStr(t, e=!1, n=!1) {
                    if (!t)
                        return "";
                    if (t instanceof Date || (t = this.GetStandartString(t),
                    t = new Date(t)),
                    "Invalid Date" == t)
                        return "";
                    var r = "";
                    return n || (r = ("0" + t.getDate()).slice(-2) + "." + ("0" + (t.getMonth() + 1)).slice(-2) + " "),
                    r += ("0" + t.getHours()).slice(-2) + ":" + ("0" + t.getMinutes()).slice(-2),
                    e && (r += ":" + ("0" + t.getSeconds()).slice(-2)),
                    r
                },
                GetStandartString: t=>"string" != typeof t ? t : t = t.replace(/T/g, " ").replace(/-/g, "/").split(".")[0]
            };
            t.Init(),
            window.DateHandler = t
        }
        ,
        75: (t,e,n)=>{
            "use strict";
            n(291);
            var r = n(413);
            window.PG = function() {
                const t = {
                    AutoBet: {
                        onWin: !1,
                        onLoss: !1,
                        stopAuto: !1
                    }
                };
                return $(".left-content .multiplier.double-bet").on("click", (function() {
                    var t = $(this).parent(".input-wrapper").find("input")
                      , e = t.val();
                    e && !t.attr("disabled") && ($(t).val(2 * e),
                    EventEmitter.emit("CalcProfit"))
                }
                )),
                $(".left-content .multiplier.half-bet").on("click", (function() {
                    var t = $(this).parent(".input-wrapper").find("input")
                      , e = t.val();
                    e && !t.attr("disabled") && ($(t).val(e / 2),
                    EventEmitter.emit("CalcProfit"))
                }
                )),
                $(".left-content").keydown((function(t) {
                    if (13 == t.keyCode)
                        return t.preventDefault(),
                        !1
                }
                )),
                $(".chat-header").on("click", (function() {
                    var t = $(this)
                      , e = t.find(".exp-col")
                      , n = t.closest(".right-content");
                    n.hasClass("open-chat") ? (e.removeClass("expanded"),
                    n.removeClass("open-chat")) : (e.addClass("expanded"),
                    n.addClass("open-chat"))
                }
                )),
                $(".left-content .tab").on("click", (function() {
                    var t = !0;
                    $(this).hasClass("manual") ? t = !0 : $(this).hasClass("auto") && (t = !1),
                    PG.SwitchAutoBet(t)
                }
                )),
                $(".on-win .incr-by").on("click", (function() {
                    $(this).parent(".on-win").addClass("active"),
                    $(this).siblings("input").focus(),
                    t.AutoBet.onWin = !0
                }
                )),
                $(".on-loss .incr-by").on("click", (function() {
                    $(this).parent(".on-loss").addClass("active"),
                    $(this).siblings("input").focus(),
                    t.AutoBet.onLoss = !0
                }
                )),
                $(".on-win .reset").on("click", (function() {
                    $(this).parent(".on-win").removeClass("active"),
                    t.AutoBet.onWin = !1
                }
                )),
                $(".on-loss .reset").on("click", (function() {
                    $(this).parent(".on-loss").removeClass("active"),
                    t.AutoBet.onLoss = !1
                }
                )),
                $(".my-bets-header .tab").on("click", (function() {
                    $(".my-bets-header .tab").removeClass("active"),
                    $(this).addClass("active");
                    var t = $(this).data("body");
                    "dino" !== r.Z.getGameState().gameName && $(".tab-body").hide(),
                    $("." + t).show()
                }
                )),
                $(".rightbar .my-bet").on("click", (()=>{
                    const t = $(".my-bets")[1];
                    $(".my-bets-header .tab").removeClass("active"),
                    $(t).addClass("active");
                    var e = $(t).data("body");
                    "dino" !== r.Z.getGameState().GameName && $(".tab-body").hide(),
                    $("." + e).show(),
                    $(".rightbar").addClass("hidden"),
                    $("main .right-section .section-body").addClass("active")
                }
                )),
                $(".rightbar .highrollers").on("click", (()=>{
                    const t = $(".highroller-bets")[0];
                    $(".my-bets-header .tab").removeClass("active"),
                    $(t).addClass("active");
                    var e = $(t).data("body");
                    "dino" !== r.Z.getGameState().GameName && $(".tab-body").hide(),
                    $("." + e).show(),
                    $(".rightbar").addClass("hidden"),
                    $("main .right-section .section-body").addClass("active")
                }
                )),
                $(".rightbar .current-bet").on("click", (()=>{
                    const t = $(".current-bets")[0];
                    $(".my-bets-header .tab").removeClass("active"),
                    $(t).addClass("active");
                    var e = $(t).data("body");
                    $(".tab-body").hide(),
                    $("." + e).show(),
                    $(".rightbar").addClass("hidden"),
                    $("main .right-section .section-body").addClass("active")
                }
                )),
                $(".rightbar .game-rules").on("click", (()=>{
                    $("#popup-rules").find(".popup-body").html(TRANS.byGameKey("rules_desc")).end().fadeIn("fast"),
                    $(".rightbar").addClass("hidden")
                }
                )),
                $("main .right-section .section-body .close").on("click", (()=>{
                    $("main .right-section .section-body").removeClass("active")
                }
                )),
                $(".history-tabs li").on("click", (function() {
                    $(this).addClass("active"),
                    $(this).siblings().removeClass("active"),
                    $(this).hasClass("bets-tab-option") ? $(".bets-tab").siblings().fadeOut(100, (function() {
                        $(".bets-tab").fadeIn(100)
                    }
                    )) : $(this).hasClass("highrollers-tab-option") && $(".highrollers-tab").siblings().fadeOut(100, (function() {
                        $(".highrollers-tab").fadeIn(100)
                    }
                    ))
                }
                )),
                $(".overlay.err-popup .btn").on("click", (function() {
                    $(".overlay.err-popup").removeClass("visible")
                }
                )),
                $("i.live-chat-icon").on("click", (function() {
                    $(this).hide(),
                    $("section.live-chat").slideDown(200)
                }
                )),
                $("section.live-chat .minimize").on("click", (function() {
                    $("i.live-chat-icon").show(),
                    $("section.live-chat").hide()
                }
                )),
                $(".menu-burger").on("click", (()=>{
                    const t = $(".rightbar");
                    t.hasClass("hidden") ? t.removeClass("hidden") : t.addClass("hidden")
                }
                )),
                $(".rightbar .close").on("click", (()=>{
                    $(".rightbar").addClass("hidden")
                }
                )),
                $(".input-btn.minus").on("click", (()=>{}
                )),
                $(".input-btn.plus").on("click", (()=>{}
                )),
                $(".checkbox-wrapper label").on("click", (t=>{}
                )),
                $(".bet-button").on("click", (()=>{
                    $(".bet-button").blur()
                }
                )),
                $(".cashout-button").on("click", (()=>{}
                )),
                $(".bet-fixed-amount-wrapper").on("click", (()=>{}
                )),
                $(".next-round-bet").on("click", (()=>{}
                )),
                $(".cancel-next-round-bet").on("click", (()=>{}
                )),
                $(".chat-header").on("click", (function() {}
                )),
                $(".my-bets-header .tab").on("click", (()=>{}
                )),
                $(".wallet-wrapper").on("click", (()=>{}
                )),
                {
                    InitDom: t=>{
                        const e = function(t) {
                            try {
                                return !!window.localStorage && window.localStorage.getItem(`${t}-sound`)
                            } catch (t) {
                                return !1
                            }
                        }(t);
                        null == e || "true" == e && $("#soundPopup").hide()
                    }
                    ,
                    SwitchAutoBet: t=>{
                        var e = t ? "manual" : "auto";
                        $(`.left-content section.${e}-section`).siblings("section").fadeOut(100, (function() {
                            $(`.left-content section.${e}-section`).fadeIn(100)
                        }
                        )),
                        $(`.tab-switcher .tab.${e}`).addClass("active"),
                        $(`.tab-switcher .tab.${e}`).siblings(".tab").removeClass("active")
                    }
                    ,
                    getOptions: ()=>t
                }
            }(),
            window.GetFloatString = function(t, e=2, n=!0) {
                return GetNumStr(parseFloat(t.toFixed(10)), e, n)
            }
            ,
            window.GetNumStr = function(t, e=2, n=!0) {
                if (null == t || "" === t || isNaN(t))
                    return "";
                var r = Math.pow(10, e);
                let i = parseFloat((t * r).toFixed(2 * e));
                return (t = Math.floor(i) / r).toFixed(e)
            }
        }
        ,
        413: (t,e,n)=>{
            "use strict";
            n.d(e, {
                Z: ()=>i
            });
            var r = n(15);
            window.UGG = function() {
                let t, e, n, i, o, s, a = null, u = {
                    BuildID: 1709821942214,
                    BASE_DOMAIN: "default",
                    MqttEndpoint: "/publisher/mqtt",
                    ApiEndpoint: "/games/api/",
                    StaticApiEndpoint: "https://oneadmin.upgaming.com/static/api/",
                    SingleBet: !0,
                    Lang: "EN",
                    HasSettings: !1,
                    HasChat: !0,
                    HasHighRollers: !0,
                    DrawMyNewBet: !0
                };
                "default" == u.BASE_DOMAIN && (u.BASE_DOMAIN = window.location.hostname),
                u.ApiEndpoint = "https://" + u.BASE_DOMAIN + u.ApiEndpoint;
                let h = []
                  , l = [];
                const c = {}
                  , d = {}
                  , p = function(t) {
                    if ("" == t)
                        return {};
                    for (var e = {}, n = 0; n < t.length; ++n) {
                        var r = t[n].split("=", 2);
                        1 == r.length ? e[r[0].toLowerCase()] = "" : e[r[0].toLowerCase()] = decodeURIComponent(r[1].replace(/\+/g, " "))
                    }
                    return e
                }(window.location.search.substr(1).split("&"))
                  , f = t=>(t.ParamsJson = JSON.stringify(t.Params || {}),
                delete t.Params,
                t)
                  , m = ()=>e.find((t=>t.UniqueID == n))
                  , _ = (t,n)=>{
                    for (var r = 0; r < t.Bets.length; r++)
                        t.Bets[r].Params = JSON.parse(t.Bets[r].ParamsJson),
                        t.Bets[r].CurrentState = JSON.parse(t.Bets[r].CurrentStateJson),
                        delete t.Bets[r].ParamsJson,
                        delete t.Bets[r].CurrentStateJson;
                    const o = i;
                    let s = t.FreeBets;
                    if (n && o) {
                        const e = t.Bets[0]
                          , n = o.Bets.filter((t=>t.SpinID == e.SpinID && null != e.SpinID && t.GUID != e.GUID));
                        t.Bets = t.Bets.concat(n)
                    }
                    t.Bet = null,
                    u.SingleBet && t.Bets.length > 0 && (t.Bet = t.Bets[0]),
                    i && (t.OldBet = i.Bet),
                    i = t,
                    i.FreeBets = null,
                    i.CurrentBets && (h = i.CurrentBets),
                    g(),
                    i.MyBets && (l = i.MyBets,
                    UI.drawMyBets(l)),
                    i.LiveTableID ? C() : D(),
                    s && (e = e.filter((t=>!t.FreeBet)),
                    s.forEach((t=>{
                        const n = new Decimal(t.TotalAmount)
                          , r = new Decimal(t.SpentAmount)
                          , i = n.minus(r);
                        let o = {
                            CurrencyCode: t.CurrencyCode,
                            Amount: i.toNumber(),
                            FreeBet: t
                        };
                        e.push(o),
                        E(o)
                    }
                    )),
                    e.sort((function(t, e) {
                        return !t.FreeBet != !e.FreeBet ? t.FreeBet ? -1 : 1 : t.FreeBet ? t.FreeBet.ID - e.FreeBet.ID : e.Amount / e.USDRate - t.Amount / t.USDRate
                    }
                    )),
                    M("user.wallets", e)),
                    M("game.state.set", i)
                }
                  , v = t=>{
                    let e = !o || o.sp != t.sp;
                    o = t,
                    e && (y(),
                    g()),
                    M("game.spin.set", o)
                }
                  , g = ()=>{
                    if (i.LiveTableID) {
                        if (!o)
                            return;
                        i.Bets = i.Bets.filter((t=>!t.Finished && t.SpinID == o.sp))
                    } else
                        i.Bets = i.Bets.filter((t=>!t.Finished));
                    i.Bets.length || UI.unlockWallets()
                }
                  , y = ()=>{
                    o && (h = h.filter((t=>t.SpinID == o.sp)),
                    h.sort(((e,n)=>{
                        let r = e.UserGUID == t.GUID
                          , i = n.UserGUID == t.GUID;
                        return r != i ? r > i ? -1 : 1 : null == o.n && e.Finished != n.Finished ? e.Finished > n.Finished ? 1 : -1 : n.BetAmount / n.USDRate - e.BetAmount / e.USDRate
                    }
                    )),
                    M("msg.bets.current", h))
                }
                  , b = e=>{
                    h = h.filter((t=>t.GUID != e.GUID)),
                    e.Cancelled || h.push(e),
                    y(),
                    e.UserGUID == t.GUID && e.Finished && !e.Cancelled && (u.DrawMyNewBet ? UI.drawMyNewBet(e) : console.log("skip.bet.draw", e))
                }
                  , x = async(t,e)=>new Promise(((n,r)=>{
                    $.post({
                        url: u.ApiEndpoint + t,
                        contentType: "application/json",
                        dataType: "json",
                        data: JSON.stringify(e)
                    }, (e=>{
                        e.Error && 1 == e.Error ? (console.error("Something Went Wrong! ", t, e),
                        r(e.ErrorResponse.Errors)) : n(e)
                    }
                    ), "json").fail((t=>{
                        let e = t.responseJSON;
                        e && e.ErrorResponse && e.ErrorResponse.Errors ? r(e.ErrorResponse.Errors) : r(t)
                    }
                    ))
                }
                ))
                  , T = async t=>(UI.lockWallets(),
                new Promise(((e,n)=>{
                    x("games/state", t).then((t=>{
                        t.error ? n(t) : (e(t.Data),
                        _(t.Data, !1))
                    }
                    )).catch((t=>{
                        if (t.DBError)
                            switch (t.DBError) {
                            case "game_unavailable_in_country":
                                M("game.unavailable_by_country.set", t);
                                break;
                            default:
                                console.log(t)
                            }
                        n(t)
                    }
                    ))
                }
                )))
                  , E = t=>t.UniqueID = `${t.CurrencyCode}.${t.BonusGUID || null}.${t.FreeBet && t.FreeBet.ID || null}`
                  , A = ()=>{
                    let t = e.find((t=>t.IsDefault))
                      , n = null;
                    return n = t ? t.UniqueID : e[0].UniqueID,
                    S(n)
                }
                  , S = r=>{
                    if (r)
                        return e.find((t=>t.UniqueID == r)) ? n = r : A(),
                        M("user.wallets", e),
                        new Promise(((e,n)=>{
                            T({
                                GameName: u.GameName,
                                SessionToken: t.SessionGUID,
                                LiveTableID: u.LiveTableID,
                                CurrencyCode: m().CurrencyCode
                            }).then((n=>{
                                u.HasChat && (async()=>{
                                    if (!a)
                                        return a = i.GameName + "-" + i.ChannelName,
                                        i.LiveTableID && (a += "-LT" + i.LiveTableID),
                                        new Promise(((e,n)=>{
                                            x("chat/history", {
                                                ChatID: a,
                                                SessionToken: t.SessionGUID
                                            }).then((t=>{
                                                O(`ugg/chat/${a}`, "chat.message"),
                                                e(t.Data)
                                            }
                                            )).catch(n)
                                        }
                                        ))
                                }
                                )().then((t=>{
                                    UI.drawChatHistory(t)
                                }
                                )).catch(UI.drawError),
                                u.HasSettings ? R().then((t=>{
                                    M("game.settings", t),
                                    e()
                                }
                                )) : e()
                            }
                            ))
                        }
                        ))
                }
                  , w = ()=>{
                    if (!i)
                        return {
                            MinBet: 1,
                            MaxBet: 1,
                            MaxProfit: 1,
                            CurrencyCode: ""
                        };
                    let t = i.MinBet
                      , e = i.MaxBet
                      , n = i.MaxProfit
                      , r = i.DefaultCurrencyCode
                      , o = m();
                    return o.FreeBet && (o.FreeBet.MinBetAmount && o.FreeBet.MinBetAmount > t && (t = o.FreeBet.MinBetAmount),
                    o.FreeBet.MaxBetAmount && o.FreeBet.MaxBetAmount < e && (e = o.FreeBet.MaxBetAmount)),
                    {
                        MinBet: t,
                        MaxBet: e,
                        MaxProfit: n,
                        CurrencyCode: r
                    }
                }
                  , R = async e=>(e = $.extend(e, {
                    GameName: u.GameName,
                    LiveTableID: i.LiveTableID,
                    CurrencyCode: m().CurrencyCode,
                    SessionToken: t.SessionGUID
                }),
                new Promise(((t,n)=>{
                    x("games/settings", e).then((e=>{
                        e.error ? n(e) : t(e.Data)
                    }
                    )).catch((e=>{
                        t({
                            CurrencyCode: UGG.getActiveWallet().CurrencyCode,
                            FastBets: [{
                                DisplayName: "5.00",
                                Amount: 5
                            }, {
                                DisplayName: "10.00",
                                Amount: 10
                            }, {
                                DisplayName: "20.00",
                                Amount: 20
                            }, {
                                DisplayName: "All in",
                                Amount: 0
                            }],
                            GameName: u.GameName,
                            LiveTableID: null
                        })
                    }
                    ))
                }
                )))
                  , O = (t,e,n)=>{
                    c[t] = e,
                    s.subscribe(t, (t=>{}
                    ))
                }
                  , I = (i,o)=>(TRANS.init(),
                P("user.wallet.changed", (t=>{
                    E(t);
                    const n = e.find((e=>e.UniqueID == t.UniqueID));
                    n && (n.Amount = t.Amount,
                    M("user.wallets", e))
                }
                )),
                P("user.freebet.changed", (t=>{
                    let r = {
                        CurrencyCode: t.CurrencyCode,
                        BonusID: null,
                        FreeBet: t
                    };
                    E(r);
                    const i = e.find((t=>t.UniqueID == r.UniqueID));
                    if (i) {
                        if (t.IsValid)
                            i.FreeBet = t,
                            i.Amount = t.TotalAmount - t.SpentAmount;
                        else {
                            let t = e.indexOf(i);
                            e.splice(t, 1),
                            n == i.UniqueID && A()
                        }
                        M("user.wallets", e)
                    }
                }
                )),
                P("user.bets.changed", (t=>{
                    b(t)
                }
                )),
                (async()=>new Promise(((t,e)=>{
                    s = mqtt.connect(u.MqttEndpoint, {
                        username: "public",
                        password: "public",
                        protocol: "wss",
                        hostname: u.BASE_DOMAIN
                    }),
                    s.on("connect", t)
                }
                )))().then((()=>{
                    P("msg.spin", v),
                    P("msg.bets.new", b),
                    P("msg.bets.highrollers", (function(t) {
                        UI.drawHighrollerBets(t)
                    }
                    )),
                    s.on("message", (function(t, e) {
                        var n = JSON.parse(e.toString());
                        if (c[t]) {
                            var r = c[t];
                            M(r, n)
                        } else
                            console.warn("topic: " + t + " callback not found", n)
                    }
                    ))
                }
                )),
                u.Integration ? u.GameName ? u.CompanyName ? u.Token ? (u.Integration = u.Integration.toLowerCase(),
                u.GameName = u.GameName.toLowerCase(),
                u.CompanyName = u.CompanyName.toLowerCase(),
                console.table(u),
                UI.init(u.GameName, u.DisplayName),
                HowlerSoundManager.init([new r.F("blank","static/sounds/blank.mp3"), new r.F("btn","static/sounds/btn.wav"), new r.F("button-click","static/sounds/main-btn.wav"), new r.F("win","static/sounds/win.wav"), new r.F("lose","static/sounds/lose.wav"), new r.F("bet-minus","static/sounds/bet-decrease.mp3"), new r.F("bet-plus","static/sounds/bet-increase.mp3"), new r.F("autoplay","static/sounds/blank.mp3"), new r.F("money-pickup","static/sounds/blank.mp3"), new r.F("make-bet","static/sounds/blank.mp3"), new r.F("cancel-bet","static/sounds/blank.mp3")], u.GameName),
                void (async()=>new Promise(((t,e)=>{
                    x("account/login", {
                        Integration: u.Integration,
                        CompanyName: u.CompanyName,
                        ExternalToken: u.Token,
                        Domain: u.Domain,
                        Game: u.GameName.toLowerCase(),
                        DeviceGUID: B(),
                        IsMobile: window.UI?.isMobile(),
                        SecString: u.SecString
                    }).then((n=>{
                        1 == n.Error ? ($("#main-loader").html("Game is not available"),
                        e()) : t(n.Data)
                    }
                    )).catch((t=>{
                        $("#main-loader").html("Game is not available"),
                        e(t)
                    }
                    ))
                }
                )))().then((n=>{
                    t = n,
                    O(`ugg/usr/${n.GUID}/balance`, "user.wallet.changed"),
                    O(`ugg/usr/${n.GUID}/bets`, "user.bets.changed"),
                    O(`ugg/usr/${n.GUID}/freebet`, "user.freebet.changed"),
                    (async e=>(e = $.extend(e, {
                        SessionToken: t.SessionGUID,
                        CompanyName: u.CompanyName
                    }),
                    new Promise(((t,n)=>{
                        x("account/balance", e).then((e=>{
                            e.error ? n(e) : t(e.Data)
                        }
                        )).catch(n)
                    }
                    ))))().then((t=>{
                        (t=>(e = t || t,
                        e.forEach((t=>E(t))),
                        A()))(t).then(i).catch(o),
                        M("user.wallets", e)
                    }
                    ))
                }
                )).catch(o)) : (o("Token is required"),
                void $("body").empty().html('<div class="frame-error">Token is required</div>')) : (o("CompanyName is required"),
                void $("body").empty().html('<div class="frame-error">CompanyName is required</div>')) : (o("GameName is required"),
                void $("body").empty().html('<div class="frame-error">GameName is required</div>')) : (o("Integration is required"),
                void $("body").empty().html('<div class="frame-error">Integration is required</div>')))
                  , C = ()=>{
                    O(`ugg/rt/${i.RealTableID}/spin`, "msg.spin"),
                    O(`ugg/rt/${i.RealTableID}/history`, "msg.history"),
                    O(`ugg/lt/${i.LiveTableID}/bets/new`, "msg.bets.new"),
                    u.HasHighRollers && O(`ugg/lt/${i.LiveTableID}/bets/highrollers`, "msg.bets.highrollers")
                }
                  , D = ()=>{
                    O(`ugg/ch/${i.ChannelName}/bets/new`, "msg.bets.new"),
                    u.HasHighRollers && O(`ugg/ch/${i.ChannelName}/bets/highrollers`, "msg.bets.highrollers")
                }
                  , M = (t,e)=>{
                    t in d ? d[t].forEach((t=>{
                        "function" == typeof t && t(e)
                    }
                    )) : console.warn("event: " + t + " callback not found", e)
                }
                  , P = (t,e)=>{
                    (t = (t || "").toLowerCase())in d || (d[t] = []),
                    d[t].push(e)
                }
                  , N = t=>{
                    if (t) {
                        if (window.location.href.indexOf("onyxion.games") >= 0)
                            return void $(".header-wrapper").addClass("onyxion");
                        $(".upgaming").show(),
                        $("#main-loader img").show();
                        const t = document.createElement("link");
                        t.rel = "apple-touch-icon",
                        t.sizes = "180x180",
                        document.getElementsByTagName("head")[0].appendChild(t),
                        t.href = "static/images/favicon/apple-touch-icon.png";
                        const e = document.createElement("link");
                        e.rel = "icon",
                        e.sizes = "32x32",
                        document.getElementsByTagName("head")[0].appendChild(e),
                        e.href = "static/images/favicon/favicon-32x32.png";
                        const n = document.createElement("link");
                        n.rel = "icon",
                        n.sizes = "180x180",
                        document.getElementsByTagName("head")[0].appendChild(n),
                        n.href = "static/images/favicon/apple-touch-icon.png";
                        const r = document.createElement("link");
                        n.rel = "manifest",
                        document.getElementsByTagName("head")[0].appendChild(r),
                        r.href = "static/images/favicon/site.webmanifest"
                    } else
                        $(".header-wrapper").addClass("onyxion")
                }
                  , B = ()=>{
                    let t = UI.getLocalStorageData("device", "guid");
                    return t || (t = L(),
                    UI.setLocalStorageData("device", "guid", t)),
                    t
                }
                  , L = ()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(t) {
                    var e = 16 * Math.random() | 0;
                    return ("x" === t ? e : 3 & e | 8).toString(16)
                }
                ));
                return {
                    on: P,
                    one: (t,e)=>{
                        t = (t || "").toLowerCase(),
                        d[t] = [e]
                    }
                    ,
                    queryString: p,
                    BUILD_ID: u.BuildID,
                    lang: ()=>u.Lang,
                    gameName: ()=>u.GameName,
                    companyName: ()=>u.CompanyName,
                    initAsync: async t=>{
                        let e = new URL(window.location != window.parent.location ? document.referrer : document.location.href).hostname;
                        document.location.ancestorOrigins && document.location.ancestorOrigins.length > 0 && (e = new URL(document.location.ancestorOrigins[0]).hostname);
                        const n = p.integration
                          , r = p.companyname;
                        let i = p.token;
                        return r.endsWith("_demo") && "demo" == n && (i = `${r.substring(0, r.length - 5)}_${L()}`),
                        u = $.extend(u, {
                            LiveTableID: p.livetableid,
                            Integration: n,
                            CompanyName: r,
                            Token: i,
                            Lang: p.lang || u.Lang,
                            Domain: e,
                            SecString: p.SecString
                        }, t),
                        new Promise(((t,e)=>{
                            if (p.token.toLowerCase().indexOf("license") >= 0 && ("localhost" == window.location.hostname || window.location.hostname.indexOf("upgaming.dev") >= 0))
                                return N(!1),
                                void I(t, e);
                            (async(t,e)=>{
                                if ("Rabbit" == u.DisplayName && "chicken" == u.GameName)
                                    return void Promise.resolve();
                                let n = !0
                                  , r = setTimeout((()=>{
                                    1 == n && (n = !1,
                                    Promise.reject("Restrictions Check Timeout"))
                                }
                                ), 2e3);
                                return new Promise(((i,o)=>{
                                    $.get(`${u.ApiEndpoint}games/GetRestrictions?Game=${t}&Company=${e}`, {}, (t=>{
                                        0 == n ? i(null) : (n = !1,
                                        clearTimeout(r),
                                        i(t))
                                    }
                                    )).fail((()=>{
                                        o(null)
                                    }
                                    ))
                                }
                                ))
                            }
                            )(u.GameName, u.CompanyName).then((n=>{
                                if (n)
                                    if (1 == n.Data.HideGame) {
                                        const t = "This game is not available in your country";
                                        "advabet" == u.CompanyName && (t = "Game is not available"),
                                        $("#main-loader").html(t),
                                        e(t)
                                    } else
                                        N(!n.Data.HideBanner),
                                        I(t, e);
                                else
                                    N(!0),
                                    I(t, e)
                            }
                            )).catch((n=>{
                                N(!0),
                                I(t, e)
                            }
                            ))
                        }
                        ))
                    }
                    ,
                    sendMessageAsync: async e=>new Promise(((n,r)=>{
                        x("chat/sendMassage", {
                            ChatID: a,
                            Message: e,
                            SessionToken: t.SessionGUID
                        }).then((t=>{
                            n(t.Data)
                        }
                        )).catch(r)
                    }
                    )),
                    refreshGameStateAsync: async()=>{
                        T({
                            GameName: u.GameName,
                            SessionToken: t.SessionGUID
                        }).then((t=>{
                            console.log("refreshGameStateAsync.state", t)
                        }
                        ))
                    }
                    ,
                    createGameBetAsync: async e=>new Promise(((n,r)=>{
                        f(e),
                        e = $.extend(e, {
                            SessionToken: t.SessionGUID,
                            GameName: u.GameName,
                            LiveTableID: i.LiveTableID,
                            ChannelName: i.ChannelName,
                            CurrencyCode: m().CurrencyCode,
                            FreeBetID: m().FreeBet && m().FreeBet.ID
                        });
                        var o = w();
                        e.BetAmount < o.MinBet ? r(new Error("min_bet_error")) : e.BetAmount > o.MaxBet ? r(new Error("max_bet_error")) : (UI.lockWallets(),
                        x("games/bet", e).then((t=>{
                            t.error ? r(t) : (_(t.Data, !0),
                            n(t.Data))
                        }
                        )).catch(r))
                    }
                    )),
                    createGameStepAsync: async e=>new Promise(((n,r)=>{
                        f(e),
                        e = $.extend(e, {
                            SessionToken: t.SessionGUID,
                            GameName: u.GameName,
                            ChannelName: i.ChannelName,
                            LiveTableID: i.LiveTableID,
                            CurrencyCode: i.DefaultCurrencyCode
                        }),
                        x("games/step", e).then((t=>{
                            t.error ? r(t) : (_(t.Data, !0),
                            n(t.Data))
                        }
                        )).catch(r)
                    }
                    )),
                    getUser: ()=>t,
                    getGameState: ()=>i,
                    getSpinState: ()=>o,
                    getWallets: ()=>e,
                    getBetLimits: w,
                    getStepAmount: (t,e)=>{
                        const n = w();
                        let r = n.MinBet;
                        const i = 100 * t % (t > 1 ? 100 : 10) / 100;
                        return e ? (t >= 1 && t < 10 ? r = 1 : t >= 10 && t < 30 ? r = 5 : t >= 30 && t < 100 ? r = 10 : t >= 100 && t < 300 ? r = 50 : t >= 300 && (r = 100),
                        r -= i,
                        t + r > n.MaxBet && (r = n.MaxBet - t)) : (t <= n.MaxBet && t > 300 ? r = 100 : t <= 300 && t > 100 ? r = 50 : t <= 100 && t > 30 ? r = 10 : t <= 30 && t > 10 ? r = 5 : t <= 10 && t > 1 && (r = 1),
                        t - r < n.MinBet && (r = n.MinBet),
                        r += i),
                        r
                    }
                    ,
                    getActiveWallet: m,
                    setActiveWalletAsync: S,
                    checkMyCurrentBets: g,
                    getUserBetHistory: async e=>(e = $.extend(e, {
                        SessionToken: t.SessionGUID,
                        CompanyName: u.CompanyName,
                        LiveTableID: i.LiveTableID,
                        GameName: i.GameName
                    }),
                    new Promise(((t,n)=>{
                        x("games/userBetHistory", e).then((e=>{
                            e.error ? n(e) : t(e.Data)
                        }
                        )).catch(n)
                    }
                    )))
                }
            }();
            const i = UGG
        }
        ,
        15: (t,e,n)=>{
            "use strict";
            n.d(e, {
                F: ()=>zs
            });
            var r = n(81);
            var i = setTimeout;
            function o(t) {
                return Boolean(t && void 0 !== t.length)
            }
            function s() {}
            function a(t) {
                if (!(this instanceof a))
                    throw new TypeError("Promises must be constructed via new");
                if ("function" != typeof t)
                    throw new TypeError("not a function");
                this._state = 0,
                this._handled = !1,
                this._value = void 0,
                this._deferreds = [],
                p(t, this)
            }
            function u(t, e) {
                for (; 3 === t._state; )
                    t = t._value;
                0 !== t._state ? (t._handled = !0,
                a._immediateFn((function() {
                    var n = 1 === t._state ? e.onFulfilled : e.onRejected;
                    if (null !== n) {
                        var r;
                        try {
                            r = n(t._value)
                        } catch (t) {
                            return void l(e.promise, t)
                        }
                        h(e.promise, r)
                    } else
                        (1 === t._state ? h : l)(e.promise, t._value)
                }
                ))) : t._deferreds.push(e)
            }
            function h(t, e) {
                try {
                    if (e === t)
                        throw new TypeError("A promise cannot be resolved with itself.");
                    if (e && ("object" == typeof e || "function" == typeof e)) {
                        var n = e.then;
                        if (e instanceof a)
                            return t._state = 3,
                            t._value = e,
                            void c(t);
                        if ("function" == typeof n)
                            return void p((r = n,
                            i = e,
                            function() {
                                r.apply(i, arguments)
                            }
                            ), t)
                    }
                    t._state = 1,
                    t._value = e,
                    c(t)
                } catch (e) {
                    l(t, e)
                }
                var r, i
            }
            function l(t, e) {
                t._state = 2,
                t._value = e,
                c(t)
            }
            function c(t) {
                2 === t._state && 0 === t._deferreds.length && a._immediateFn((function() {
                    t._handled || a._unhandledRejectionFn(t._value)
                }
                ));
                for (var e = 0, n = t._deferreds.length; e < n; e++)
                    u(t, t._deferreds[e]);
                t._deferreds = null
            }
            function d(t, e, n) {
                this.onFulfilled = "function" == typeof t ? t : null,
                this.onRejected = "function" == typeof e ? e : null,
                this.promise = n
            }
            function p(t, e) {
                var n = !1;
                try {
                    t((function(t) {
                        n || (n = !0,
                        h(e, t))
                    }
                    ), (function(t) {
                        n || (n = !0,
                        l(e, t))
                    }
                    ))
                } catch (t) {
                    if (n)
                        return;
                    n = !0,
                    l(e, t)
                }
            }
            a.prototype.catch = function(t) {
                return this.then(null, t)
            }
            ,
            a.prototype.then = function(t, e) {
                var n = new this.constructor(s);
                return u(this, new d(t,e,n)),
                n
            }
            ,
            a.prototype.finally = function(t) {
                var e = this.constructor;
                return this.then((function(n) {
                    return e.resolve(t()).then((function() {
                        return n
                    }
                    ))
                }
                ), (function(n) {
                    return e.resolve(t()).then((function() {
                        return e.reject(n)
                    }
                    ))
                }
                ))
            }
            ,
            a.all = function(t) {
                return new a((function(e, n) {
                    if (!o(t))
                        return n(new TypeError("Promise.all accepts an array"));
                    var r = Array.prototype.slice.call(t);
                    if (0 === r.length)
                        return e([]);
                    var i = r.length;
                    function s(t, o) {
                        try {
                            if (o && ("object" == typeof o || "function" == typeof o)) {
                                var a = o.then;
                                if ("function" == typeof a)
                                    return void a.call(o, (function(e) {
                                        s(t, e)
                                    }
                                    ), n)
                            }
                            r[t] = o,
                            0 == --i && e(r)
                        } catch (t) {
                            n(t)
                        }
                    }
                    for (var a = 0; a < r.length; a++)
                        s(a, r[a])
                }
                ))
            }
            ,
            a.allSettled = function(t) {
                return new this((function(e, n) {
                    if (!t || void 0 === t.length)
                        return n(new TypeError(typeof t + " " + t + " is not iterable(cannot read property Symbol(Symbol.iterator))"));
                    var r = Array.prototype.slice.call(t);
                    if (0 === r.length)
                        return e([]);
                    var i = r.length;
                    function o(t, n) {
                        if (n && ("object" == typeof n || "function" == typeof n)) {
                            var s = n.then;
                            if ("function" == typeof s)
                                return void s.call(n, (function(e) {
                                    o(t, e)
                                }
                                ), (function(n) {
                                    r[t] = {
                                        status: "rejected",
                                        reason: n
                                    },
                                    0 == --i && e(r)
                                }
                                ))
                        }
                        r[t] = {
                            status: "fulfilled",
                            value: n
                        },
                        0 == --i && e(r)
                    }
                    for (var s = 0; s < r.length; s++)
                        o(s, r[s])
                }
                ))
            }
            ,
            a.resolve = function(t) {
                return t && "object" == typeof t && t.constructor === a ? t : new a((function(e) {
                    e(t)
                }
                ))
            }
            ,
            a.reject = function(t) {
                return new a((function(e, n) {
                    n(t)
                }
                ))
            }
            ,
            a.race = function(t) {
                return new a((function(e, n) {
                    if (!o(t))
                        return n(new TypeError("Promise.race accepts an array"));
                    for (var r = 0, i = t.length; r < i; r++)
                        a.resolve(t[r]).then(e, n)
                }
                ))
            }
            ,
            a._immediateFn = "function" == typeof setImmediate && function(t) {
                setImmediate(t)
            }
            || function(t) {
                i(t, 0)
            }
            ,
            a._unhandledRejectionFn = function(t) {
                "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", t)
            }
            ;
            const f = a;
            var m = n(320);
            if ("undefined" == typeof globalThis && ("undefined" != typeof self ? self.globalThis = self : "undefined" != typeof global && (global.globalThis = global)),
            globalThis.Promise || (globalThis.Promise = f),
            Object.assign || (Object.assign = m),
            Date.now && Date.prototype.getTime || (Date.now = function() {
                return (new Date).getTime()
            }
            ),
            !globalThis.performance || !globalThis.performance.now) {
                var _ = Date.now();
                globalThis.performance || (globalThis.performance = {}),
                globalThis.performance.now = function() {
                    return Date.now() - _
                }
            }
            for (var v, g, y, b, x, T, E, A, S, w, R, O, I, C, D, M, P, N, B, L, F = Date.now(), G = ["ms", "moz", "webkit", "o"], k = 0; k < G.length && !globalThis.requestAnimationFrame; ++k) {
                var U = G[k];
                globalThis.requestAnimationFrame = globalThis[U + "RequestAnimationFrame"],
                globalThis.cancelAnimationFrame = globalThis[U + "CancelAnimationFrame"] || globalThis[U + "CancelRequestAnimationFrame"]
            }
            globalThis.requestAnimationFrame || (globalThis.requestAnimationFrame = function(t) {
                if ("function" != typeof t)
                    throw new TypeError(t + "is not a function");
                var e = Date.now()
                  , n = 16 + F - e;
                return n < 0 && (n = 0),
                F = e,
                globalThis.self.setTimeout((function() {
                    F = Date.now(),
                    t(performance.now())
                }
                ), n)
            }
            ),
            globalThis.cancelAnimationFrame || (globalThis.cancelAnimationFrame = function(t) {
                return clearTimeout(t)
            }
            ),
            Math.sign || (Math.sign = function(t) {
                return 0 === (t = Number(t)) || isNaN(t) ? t : t > 0 ? 1 : -1
            }
            ),
            Number.isInteger || (Number.isInteger = function(t) {
                return "number" == typeof t && isFinite(t) && Math.floor(t) === t
            }
            ),
            globalThis.ArrayBuffer || (globalThis.ArrayBuffer = Array),
            globalThis.Float32Array || (globalThis.Float32Array = Array),
            globalThis.Uint32Array || (globalThis.Uint32Array = Array),
            globalThis.Uint16Array || (globalThis.Uint16Array = Array),
            globalThis.Uint8Array || (globalThis.Uint8Array = Array),
            globalThis.Int32Array || (globalThis.Int32Array = Array),
            function(t) {
                t[t.WEBGL_LEGACY = 0] = "WEBGL_LEGACY",
                t[t.WEBGL = 1] = "WEBGL",
                t[t.WEBGL2 = 2] = "WEBGL2"
            }(v || (v = {})),
            function(t) {
                t[t.UNKNOWN = 0] = "UNKNOWN",
                t[t.WEBGL = 1] = "WEBGL",
                t[t.CANVAS = 2] = "CANVAS"
            }(g || (g = {})),
            function(t) {
                t[t.COLOR = 16384] = "COLOR",
                t[t.DEPTH = 256] = "DEPTH",
                t[t.STENCIL = 1024] = "STENCIL"
            }(y || (y = {})),
            function(t) {
                t[t.NORMAL = 0] = "NORMAL",
                t[t.ADD = 1] = "ADD",
                t[t.MULTIPLY = 2] = "MULTIPLY",
                t[t.SCREEN = 3] = "SCREEN",
                t[t.OVERLAY = 4] = "OVERLAY",
                t[t.DARKEN = 5] = "DARKEN",
                t[t.LIGHTEN = 6] = "LIGHTEN",
                t[t.COLOR_DODGE = 7] = "COLOR_DODGE",
                t[t.COLOR_BURN = 8] = "COLOR_BURN",
                t[t.HARD_LIGHT = 9] = "HARD_LIGHT",
                t[t.SOFT_LIGHT = 10] = "SOFT_LIGHT",
                t[t.DIFFERENCE = 11] = "DIFFERENCE",
                t[t.EXCLUSION = 12] = "EXCLUSION",
                t[t.HUE = 13] = "HUE",
                t[t.SATURATION = 14] = "SATURATION",
                t[t.COLOR = 15] = "COLOR",
                t[t.LUMINOSITY = 16] = "LUMINOSITY",
                t[t.NORMAL_NPM = 17] = "NORMAL_NPM",
                t[t.ADD_NPM = 18] = "ADD_NPM",
                t[t.SCREEN_NPM = 19] = "SCREEN_NPM",
                t[t.NONE = 20] = "NONE",
                t[t.SRC_OVER = 0] = "SRC_OVER",
                t[t.SRC_IN = 21] = "SRC_IN",
                t[t.SRC_OUT = 22] = "SRC_OUT",
                t[t.SRC_ATOP = 23] = "SRC_ATOP",
                t[t.DST_OVER = 24] = "DST_OVER",
                t[t.DST_IN = 25] = "DST_IN",
                t[t.DST_OUT = 26] = "DST_OUT",
                t[t.DST_ATOP = 27] = "DST_ATOP",
                t[t.ERASE = 26] = "ERASE",
                t[t.SUBTRACT = 28] = "SUBTRACT",
                t[t.XOR = 29] = "XOR"
            }(b || (b = {})),
            function(t) {
                t[t.POINTS = 0] = "POINTS",
                t[t.LINES = 1] = "LINES",
                t[t.LINE_LOOP = 2] = "LINE_LOOP",
                t[t.LINE_STRIP = 3] = "LINE_STRIP",
                t[t.TRIANGLES = 4] = "TRIANGLES",
                t[t.TRIANGLE_STRIP = 5] = "TRIANGLE_STRIP",
                t[t.TRIANGLE_FAN = 6] = "TRIANGLE_FAN"
            }(x || (x = {})),
            function(t) {
                t[t.RGBA = 6408] = "RGBA",
                t[t.RGB = 6407] = "RGB",
                t[t.RG = 33319] = "RG",
                t[t.RED = 6403] = "RED",
                t[t.RGBA_INTEGER = 36249] = "RGBA_INTEGER",
                t[t.RGB_INTEGER = 36248] = "RGB_INTEGER",
                t[t.RG_INTEGER = 33320] = "RG_INTEGER",
                t[t.RED_INTEGER = 36244] = "RED_INTEGER",
                t[t.ALPHA = 6406] = "ALPHA",
                t[t.LUMINANCE = 6409] = "LUMINANCE",
                t[t.LUMINANCE_ALPHA = 6410] = "LUMINANCE_ALPHA",
                t[t.DEPTH_COMPONENT = 6402] = "DEPTH_COMPONENT",
                t[t.DEPTH_STENCIL = 34041] = "DEPTH_STENCIL"
            }(T || (T = {})),
            function(t) {
                t[t.TEXTURE_2D = 3553] = "TEXTURE_2D",
                t[t.TEXTURE_CUBE_MAP = 34067] = "TEXTURE_CUBE_MAP",
                t[t.TEXTURE_2D_ARRAY = 35866] = "TEXTURE_2D_ARRAY",
                t[t.TEXTURE_CUBE_MAP_POSITIVE_X = 34069] = "TEXTURE_CUBE_MAP_POSITIVE_X",
                t[t.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070] = "TEXTURE_CUBE_MAP_NEGATIVE_X",
                t[t.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071] = "TEXTURE_CUBE_MAP_POSITIVE_Y",
                t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072] = "TEXTURE_CUBE_MAP_NEGATIVE_Y",
                t[t.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073] = "TEXTURE_CUBE_MAP_POSITIVE_Z",
                t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074] = "TEXTURE_CUBE_MAP_NEGATIVE_Z"
            }(E || (E = {})),
            function(t) {
                t[t.UNSIGNED_BYTE = 5121] = "UNSIGNED_BYTE",
                t[t.UNSIGNED_SHORT = 5123] = "UNSIGNED_SHORT",
                t[t.UNSIGNED_SHORT_5_6_5 = 33635] = "UNSIGNED_SHORT_5_6_5",
                t[t.UNSIGNED_SHORT_4_4_4_4 = 32819] = "UNSIGNED_SHORT_4_4_4_4",
                t[t.UNSIGNED_SHORT_5_5_5_1 = 32820] = "UNSIGNED_SHORT_5_5_5_1",
                t[t.UNSIGNED_INT = 5125] = "UNSIGNED_INT",
                t[t.UNSIGNED_INT_10F_11F_11F_REV = 35899] = "UNSIGNED_INT_10F_11F_11F_REV",
                t[t.UNSIGNED_INT_2_10_10_10_REV = 33640] = "UNSIGNED_INT_2_10_10_10_REV",
                t[t.UNSIGNED_INT_24_8 = 34042] = "UNSIGNED_INT_24_8",
                t[t.UNSIGNED_INT_5_9_9_9_REV = 35902] = "UNSIGNED_INT_5_9_9_9_REV",
                t[t.BYTE = 5120] = "BYTE",
                t[t.SHORT = 5122] = "SHORT",
                t[t.INT = 5124] = "INT",
                t[t.FLOAT = 5126] = "FLOAT",
                t[t.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269] = "FLOAT_32_UNSIGNED_INT_24_8_REV",
                t[t.HALF_FLOAT = 36193] = "HALF_FLOAT"
            }(A || (A = {})),
            function(t) {
                t[t.FLOAT = 0] = "FLOAT",
                t[t.INT = 1] = "INT",
                t[t.UINT = 2] = "UINT"
            }(S || (S = {})),
            function(t) {
                t[t.NEAREST = 0] = "NEAREST",
                t[t.LINEAR = 1] = "LINEAR"
            }(w || (w = {})),
            function(t) {
                t[t.CLAMP = 33071] = "CLAMP",
                t[t.REPEAT = 10497] = "REPEAT",
                t[t.MIRRORED_REPEAT = 33648] = "MIRRORED_REPEAT"
            }(R || (R = {})),
            function(t) {
                t[t.OFF = 0] = "OFF",
                t[t.POW2 = 1] = "POW2",
                t[t.ON = 2] = "ON",
                t[t.ON_MANUAL = 3] = "ON_MANUAL"
            }(O || (O = {})),
            function(t) {
                t[t.NPM = 0] = "NPM",
                t[t.UNPACK = 1] = "UNPACK",
                t[t.PMA = 2] = "PMA",
                t[t.NO_PREMULTIPLIED_ALPHA = 0] = "NO_PREMULTIPLIED_ALPHA",
                t[t.PREMULTIPLY_ON_UPLOAD = 1] = "PREMULTIPLY_ON_UPLOAD",
                t[t.PREMULTIPLY_ALPHA = 2] = "PREMULTIPLY_ALPHA",
                t[t.PREMULTIPLIED_ALPHA = 2] = "PREMULTIPLIED_ALPHA"
            }(I || (I = {})),
            function(t) {
                t[t.NO = 0] = "NO",
                t[t.YES = 1] = "YES",
                t[t.AUTO = 2] = "AUTO",
                t[t.BLEND = 0] = "BLEND",
                t[t.CLEAR = 1] = "CLEAR",
                t[t.BLIT = 2] = "BLIT"
            }(C || (C = {})),
            function(t) {
                t[t.AUTO = 0] = "AUTO",
                t[t.MANUAL = 1] = "MANUAL"
            }(D || (D = {})),
            function(t) {
                t.LOW = "lowp",
                t.MEDIUM = "mediump",
                t.HIGH = "highp"
            }(M || (M = {})),
            function(t) {
                t[t.NONE = 0] = "NONE",
                t[t.SCISSOR = 1] = "SCISSOR",
                t[t.STENCIL = 2] = "STENCIL",
                t[t.SPRITE = 3] = "SPRITE",
                t[t.COLOR = 4] = "COLOR"
            }(P || (P = {})),
            function(t) {
                t[t.RED = 1] = "RED",
                t[t.GREEN = 2] = "GREEN",
                t[t.BLUE = 4] = "BLUE",
                t[t.ALPHA = 8] = "ALPHA"
            }(N || (N = {})),
            function(t) {
                t[t.NONE = 0] = "NONE",
                t[t.LOW = 2] = "LOW",
                t[t.MEDIUM = 4] = "MEDIUM",
                t[t.HIGH = 8] = "HIGH"
            }(B || (B = {})),
            function(t) {
                t[t.ELEMENT_ARRAY_BUFFER = 34963] = "ELEMENT_ARRAY_BUFFER",
                t[t.ARRAY_BUFFER = 34962] = "ARRAY_BUFFER",
                t[t.UNIFORM_BUFFER = 35345] = "UNIFORM_BUFFER"
            }(L || (L = {}));
            var X = {
                createCanvas: function(t, e) {
                    var n = document.createElement("canvas");
                    return n.width = t,
                    n.height = e,
                    n
                },
                getWebGLRenderingContext: function() {
                    return WebGLRenderingContext
                },
                getNavigator: function() {
                    return navigator
                },
                getBaseUrl: function() {
                    var t;
                    return null !== (t = document.baseURI) && void 0 !== t ? t : window.location.href
                },
                fetch: function(t, e) {
                    return fetch(t, e)
                }
            }
              , H = /iPhone/i
              , j = /iPod/i
              , W = /iPad/i
              , V = /\biOS-universal(?:.+)Mac\b/i
              , Y = /\bAndroid(?:.+)Mobile\b/i
              , z = /Android/i
              , q = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i
              , K = /Silk/i
              , J = /Windows Phone/i
              , Z = /\bWindows(?:.+)ARM\b/i
              , Q = /BlackBerry/i
              , tt = /BB10/i
              , et = /Opera Mini/i
              , nt = /\b(CriOS|Chrome)(?:.+)Mobile/i
              , rt = /Mobile(?:.+)Firefox\b/i
              , it = function(t) {
                return void 0 !== t && "MacIntel" === t.platform && "number" == typeof t.maxTouchPoints && t.maxTouchPoints > 1 && "undefined" == typeof MSStream
            }
              , ot = function(t) {
                var e = {
                    userAgent: "",
                    platform: "",
                    maxTouchPoints: 0
                };
                t || "undefined" == typeof navigator ? "string" == typeof t ? e.userAgent = t : t && t.userAgent && (e = {
                    userAgent: t.userAgent,
                    platform: t.platform,
                    maxTouchPoints: t.maxTouchPoints || 0
                }) : e = {
                    userAgent: navigator.userAgent,
                    platform: navigator.platform,
                    maxTouchPoints: navigator.maxTouchPoints || 0
                };
                var n = e.userAgent
                  , r = n.split("[FBAN");
                void 0 !== r[1] && (n = r[0]),
                void 0 !== (r = n.split("Twitter"))[1] && (n = r[0]);
                var i = function(t) {
                    return function(e) {
                        return e.test(t)
                    }
                }(n)
                  , o = {
                    apple: {
                        phone: i(H) && !i(J),
                        ipod: i(j),
                        tablet: !i(H) && (i(W) || it(e)) && !i(J),
                        universal: i(V),
                        device: (i(H) || i(j) || i(W) || i(V) || it(e)) && !i(J)
                    },
                    amazon: {
                        phone: i(q),
                        tablet: !i(q) && i(K),
                        device: i(q) || i(K)
                    },
                    android: {
                        phone: !i(J) && i(q) || !i(J) && i(Y),
                        tablet: !i(J) && !i(q) && !i(Y) && (i(K) || i(z)),
                        device: !i(J) && (i(q) || i(K) || i(Y) || i(z)) || i(/\bokhttp\b/i)
                    },
                    windows: {
                        phone: i(J),
                        tablet: i(Z),
                        device: i(J) || i(Z)
                    },
                    other: {
                        blackberry: i(Q),
                        blackberry10: i(tt),
                        opera: i(et),
                        firefox: i(rt),
                        chrome: i(nt),
                        device: i(Q) || i(tt) || i(et) || i(rt) || i(nt)
                    },
                    any: !1,
                    phone: !1,
                    tablet: !1
                };
                return o.any = o.apple.device || o.android.device || o.windows.device || o.other.device,
                o.phone = o.apple.phone || o.android.phone || o.windows.phone,
                o.tablet = o.apple.tablet || o.android.tablet || o.windows.tablet,
                o
            }(globalThis.navigator)
              , st = {
                ADAPTER: X,
                MIPMAP_TEXTURES: O.POW2,
                ANISOTROPIC_LEVEL: 0,
                RESOLUTION: 1,
                FILTER_RESOLUTION: 1,
                FILTER_MULTISAMPLE: B.NONE,
                SPRITE_MAX_TEXTURES: function(t) {
                    var e, n = !0;
                    (ot.tablet || ot.phone) && (ot.apple.device && (e = navigator.userAgent.match(/OS (\d+)_(\d+)?/)) && parseInt(e[1], 10) < 11 && (n = !1),
                    ot.android.device && (e = navigator.userAgent.match(/Android\s([0-9.]*)/)) && parseInt(e[1], 10) < 7 && (n = !1));
                    return n ? 32 : 4
                }(),
                SPRITE_BATCH_SIZE: 4096,
                RENDER_OPTIONS: {
                    view: null,
                    antialias: !1,
                    autoDensity: !1,
                    backgroundColor: 0,
                    backgroundAlpha: 1,
                    useContextAlpha: !0,
                    clearBeforeRender: !0,
                    preserveDrawingBuffer: !1,
                    width: 800,
                    height: 600,
                    legacy: !1
                },
                GC_MODE: D.AUTO,
                GC_MAX_IDLE: 3600,
                GC_MAX_CHECK_COUNT: 600,
                WRAP_MODE: R.CLAMP,
                SCALE_MODE: w.LINEAR,
                PRECISION_VERTEX: M.HIGH,
                PRECISION_FRAGMENT: ot.apple.device ? M.HIGH : M.MEDIUM,
                CAN_UPLOAD_SAME_BUFFER: !ot.apple.device,
                CREATE_IMAGE_BITMAP: !1,
                ROUND_PIXELS: !1
            }
              , at = n(805)
              , ut = n(502)
              , ht = n(883)
              , lt = {
                parse: ht.Qc,
                format: ht.WU,
                resolve: ht.DB
            };
            st.RETINA_PREFIX = /@([0-9\.]+)x/,
            st.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = !1;
            var ct, dt = !1, pt = {
                aliceblue: "#f0f8ff",
                antiquewhite: "#faebd7",
                aqua: "#00ffff",
                aquamarine: "#7fffd4",
                azure: "#f0ffff",
                beige: "#f5f5dc",
                bisque: "#ffe4c4",
                black: "#000000",
                blanchedalmond: "#ffebcd",
                blue: "#0000ff",
                blueviolet: "#8a2be2",
                brown: "#a52a2a",
                burlywood: "#deb887",
                cadetblue: "#5f9ea0",
                chartreuse: "#7fff00",
                chocolate: "#d2691e",
                coral: "#ff7f50",
                cornflowerblue: "#6495ed",
                cornsilk: "#fff8dc",
                crimson: "#dc143c",
                cyan: "#00ffff",
                darkblue: "#00008b",
                darkcyan: "#008b8b",
                darkgoldenrod: "#b8860b",
                darkgray: "#a9a9a9",
                darkgreen: "#006400",
                darkgrey: "#a9a9a9",
                darkkhaki: "#bdb76b",
                darkmagenta: "#8b008b",
                darkolivegreen: "#556b2f",
                darkorange: "#ff8c00",
                darkorchid: "#9932cc",
                darkred: "#8b0000",
                darksalmon: "#e9967a",
                darkseagreen: "#8fbc8f",
                darkslateblue: "#483d8b",
                darkslategray: "#2f4f4f",
                darkslategrey: "#2f4f4f",
                darkturquoise: "#00ced1",
                darkviolet: "#9400d3",
                deeppink: "#ff1493",
                deepskyblue: "#00bfff",
                dimgray: "#696969",
                dimgrey: "#696969",
                dodgerblue: "#1e90ff",
                firebrick: "#b22222",
                floralwhite: "#fffaf0",
                forestgreen: "#228b22",
                fuchsia: "#ff00ff",
                gainsboro: "#dcdcdc",
                ghostwhite: "#f8f8ff",
                goldenrod: "#daa520",
                gold: "#ffd700",
                gray: "#808080",
                green: "#008000",
                greenyellow: "#adff2f",
                grey: "#808080",
                honeydew: "#f0fff0",
                hotpink: "#ff69b4",
                indianred: "#cd5c5c",
                indigo: "#4b0082",
                ivory: "#fffff0",
                khaki: "#f0e68c",
                lavenderblush: "#fff0f5",
                lavender: "#e6e6fa",
                lawngreen: "#7cfc00",
                lemonchiffon: "#fffacd",
                lightblue: "#add8e6",
                lightcoral: "#f08080",
                lightcyan: "#e0ffff",
                lightgoldenrodyellow: "#fafad2",
                lightgray: "#d3d3d3",
                lightgreen: "#90ee90",
                lightgrey: "#d3d3d3",
                lightpink: "#ffb6c1",
                lightsalmon: "#ffa07a",
                lightseagreen: "#20b2aa",
                lightskyblue: "#87cefa",
                lightslategray: "#778899",
                lightslategrey: "#778899",
                lightsteelblue: "#b0c4de",
                lightyellow: "#ffffe0",
                lime: "#00ff00",
                limegreen: "#32cd32",
                linen: "#faf0e6",
                magenta: "#ff00ff",
                maroon: "#800000",
                mediumaquamarine: "#66cdaa",
                mediumblue: "#0000cd",
                mediumorchid: "#ba55d3",
                mediumpurple: "#9370db",
                mediumseagreen: "#3cb371",
                mediumslateblue: "#7b68ee",
                mediumspringgreen: "#00fa9a",
                mediumturquoise: "#48d1cc",
                mediumvioletred: "#c71585",
                midnightblue: "#191970",
                mintcream: "#f5fffa",
                mistyrose: "#ffe4e1",
                moccasin: "#ffe4b5",
                navajowhite: "#ffdead",
                navy: "#000080",
                oldlace: "#fdf5e6",
                olive: "#808000",
                olivedrab: "#6b8e23",
                orange: "#ffa500",
                orangered: "#ff4500",
                orchid: "#da70d6",
                palegoldenrod: "#eee8aa",
                palegreen: "#98fb98",
                paleturquoise: "#afeeee",
                palevioletred: "#db7093",
                papayawhip: "#ffefd5",
                peachpuff: "#ffdab9",
                peru: "#cd853f",
                pink: "#ffc0cb",
                plum: "#dda0dd",
                powderblue: "#b0e0e6",
                purple: "#800080",
                rebeccapurple: "#663399",
                red: "#ff0000",
                rosybrown: "#bc8f8f",
                royalblue: "#4169e1",
                saddlebrown: "#8b4513",
                salmon: "#fa8072",
                sandybrown: "#f4a460",
                seagreen: "#2e8b57",
                seashell: "#fff5ee",
                sienna: "#a0522d",
                silver: "#c0c0c0",
                skyblue: "#87ceeb",
                slateblue: "#6a5acd",
                slategray: "#708090",
                slategrey: "#708090",
                snow: "#fffafa",
                springgreen: "#00ff7f",
                steelblue: "#4682b4",
                tan: "#d2b48c",
                teal: "#008080",
                thistle: "#d8bfd8",
                tomato: "#ff6347",
                turquoise: "#40e0d0",
                violet: "#ee82ee",
                wheat: "#f5deb3",
                white: "#ffffff",
                whitesmoke: "#f5f5f5",
                yellow: "#ffff00",
                yellowgreen: "#9acd32"
            };
            function ft(t, e) {
                return void 0 === e && (e = []),
                e[0] = (t >> 16 & 255) / 255,
                e[1] = (t >> 8 & 255) / 255,
                e[2] = (255 & t) / 255,
                e
            }
            function mt(t) {
                var e = t.toString(16);
                return "#" + ("000000".substring(0, 6 - e.length) + e)
            }
            function _t(t) {
                return "string" == typeof t && "#" === (t = pt[t.toLowerCase()] || t)[0] && (t = t.slice(1)),
                parseInt(t, 16)
            }
            var vt = function() {
                for (var t = [], e = [], n = 0; n < 32; n++)
                    t[n] = n,
                    e[n] = n;
                t[b.NORMAL_NPM] = b.NORMAL,
                t[b.ADD_NPM] = b.ADD,
                t[b.SCREEN_NPM] = b.SCREEN,
                e[b.NORMAL] = b.NORMAL_NPM,
                e[b.ADD] = b.ADD_NPM,
                e[b.SCREEN] = b.SCREEN_NPM;
                var r = [];
                return r.push(e),
                r.push(t),
                r
            }();
            function gt(t, e) {
                return vt[e ? 1 : 0][t]
            }
            function yt(t, e) {
                if (1 === e)
                    return (255 * e << 24) + t;
                if (0 === e)
                    return 0;
                var n = t >> 16 & 255
                  , r = t >> 8 & 255
                  , i = 255 & t;
                return (255 * e << 24) + ((n = n * e + .5 | 0) << 16) + ((r = r * e + .5 | 0) << 8) + (i * e + .5 | 0)
            }
            function bt(t, e, n, r) {
                return (n = n || new Float32Array(4))[0] = (t >> 16 & 255) / 255,
                n[1] = (t >> 8 & 255) / 255,
                n[2] = (255 & t) / 255,
                (r || void 0 === r) && (n[0] *= e,
                n[1] *= e,
                n[2] *= e),
                n[3] = e,
                n
            }
            function xt(t) {
                if (4 === t.BYTES_PER_ELEMENT)
                    return t instanceof Float32Array ? "Float32Array" : t instanceof Uint32Array ? "Uint32Array" : "Int32Array";
                if (2 === t.BYTES_PER_ELEMENT) {
                    if (t instanceof Uint16Array)
                        return "Uint16Array"
                } else if (1 === t.BYTES_PER_ELEMENT && t instanceof Uint8Array)
                    return "Uint8Array";
                return null
            }
            function Tt(t) {
                return t += 0 === t ? 1 : 0,
                --t,
                t |= t >>> 1,
                t |= t >>> 2,
                t |= t >>> 4,
                t |= t >>> 8,
                1 + (t |= t >>> 16)
            }
            function Et(t) {
                return !(t & t - 1 || !t)
            }
            function At(t) {
                var e = (t > 65535 ? 1 : 0) << 4
                  , n = ((t >>>= e) > 255 ? 1 : 0) << 3;
                return e |= n,
                e |= n = ((t >>>= n) > 15 ? 1 : 0) << 2,
                (e |= n = ((t >>>= n) > 3 ? 1 : 0) << 1) | (t >>>= n) >> 1
            }
            function St(t, e, n) {
                var r, i = t.length;
                if (!(e >= i || 0 === n)) {
                    var o = i - (n = e + n > i ? i - e : n);
                    for (r = e; r < o; ++r)
                        t[r] = t[r + n];
                    t.length = o
                }
            }
            function wt(t) {
                return 0 === t ? 0 : t < 0 ? -1 : 1
            }
            Float32Array,
            Uint32Array,
            Int32Array,
            Uint8Array;
            var Rt = 0;
            function Ot() {
                return ++Rt
            }
            var It = {};
            function Ct(t, e, n) {
                if (void 0 === n && (n = 3),
                !It[e]) {
                    var r = (new Error).stack;
                    void 0 === r ? console.warn("PixiJS Deprecation Warning: ", e + "\nDeprecated since v" + t) : (r = r.split("\n").splice(n).join("\n"),
                    console.groupCollapsed ? (console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s", "color:#614108;background:#fffbe6", "font-weight:normal;color:#614108;background:#fffbe6", e + "\nDeprecated since v" + t),
                    console.warn(r),
                    console.groupEnd()) : (console.warn("PixiJS Deprecation Warning: ", e + "\nDeprecated since v" + t),
                    console.warn(r))),
                    It[e] = !0
                }
            }
            var Dt, Mt = {}, Pt = Object.create(null), Nt = Object.create(null), Bt = function() {
                function t(t, e, n) {
                    this.canvas = st.ADAPTER.createCanvas(),
                    this.context = this.canvas.getContext("2d"),
                    this.resolution = n || st.RESOLUTION,
                    this.resize(t, e)
                }
                return t.prototype.clear = function() {
                    this.context.setTransform(1, 0, 0, 1, 0, 0),
                    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)
                }
                ,
                t.prototype.resize = function(t, e) {
                    this.canvas.width = Math.round(t * this.resolution),
                    this.canvas.height = Math.round(e * this.resolution)
                }
                ,
                t.prototype.destroy = function() {
                    this.context = null,
                    this.canvas = null
                }
                ,
                Object.defineProperty(t.prototype, "width", {
                    get: function() {
                        return this.canvas.width
                    },
                    set: function(t) {
                        this.canvas.width = Math.round(t)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "height", {
                    get: function() {
                        return this.canvas.height
                    },
                    set: function(t) {
                        this.canvas.height = Math.round(t)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t
            }();
            function Lt(t, e) {
                var n = st.RETINA_PREFIX.exec(t);
                return n ? parseFloat(n[1]) : void 0 !== e ? e : 1
            }
            var Ft, Gt = 2 * Math.PI, kt = 180 / Math.PI, Ut = Math.PI / 180;
            !function(t) {
                t[t.POLY = 0] = "POLY",
                t[t.RECT = 1] = "RECT",
                t[t.CIRC = 2] = "CIRC",
                t[t.ELIP = 3] = "ELIP",
                t[t.RREC = 4] = "RREC"
            }(Ft || (Ft = {}));
            var Xt = function() {
                function t(t, e) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = 0),
                    this.x = 0,
                    this.y = 0,
                    this.x = t,
                    this.y = e
                }
                return t.prototype.clone = function() {
                    return new t(this.x,this.y)
                }
                ,
                t.prototype.copyFrom = function(t) {
                    return this.set(t.x, t.y),
                    this
                }
                ,
                t.prototype.copyTo = function(t) {
                    return t.set(this.x, this.y),
                    t
                }
                ,
                t.prototype.equals = function(t) {
                    return t.x === this.x && t.y === this.y
                }
                ,
                t.prototype.set = function(t, e) {
                    return void 0 === t && (t = 0),
                    void 0 === e && (e = t),
                    this.x = t,
                    this.y = e,
                    this
                }
                ,
                t.prototype.toString = function() {
                    return "[@pixi/math:Point x=" + this.x + " y=" + this.y + "]"
                }
                ,
                t
            }()
              , Ht = [new Xt, new Xt, new Xt, new Xt]
              , jt = function() {
                function t(t, e, n, r) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = 0),
                    void 0 === n && (n = 0),
                    void 0 === r && (r = 0),
                    this.x = Number(t),
                    this.y = Number(e),
                    this.width = Number(n),
                    this.height = Number(r),
                    this.type = Ft.RECT
                }
                return Object.defineProperty(t.prototype, "left", {
                    get: function() {
                        return this.x
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "right", {
                    get: function() {
                        return this.x + this.width
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "top", {
                    get: function() {
                        return this.y
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "bottom", {
                    get: function() {
                        return this.y + this.height
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t, "EMPTY", {
                    get: function() {
                        return new t(0,0,0,0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.clone = function() {
                    return new t(this.x,this.y,this.width,this.height)
                }
                ,
                t.prototype.copyFrom = function(t) {
                    return this.x = t.x,
                    this.y = t.y,
                    this.width = t.width,
                    this.height = t.height,
                    this
                }
                ,
                t.prototype.copyTo = function(t) {
                    return t.x = this.x,
                    t.y = this.y,
                    t.width = this.width,
                    t.height = this.height,
                    t
                }
                ,
                t.prototype.contains = function(t, e) {
                    return !(this.width <= 0 || this.height <= 0) && t >= this.x && t < this.x + this.width && e >= this.y && e < this.y + this.height
                }
                ,
                t.prototype.intersects = function(t, e) {
                    if (!e) {
                        var n = this.x < t.x ? t.x : this.x;
                        if ((this.right > t.right ? t.right : this.right) <= n)
                            return !1;
                        var r = this.y < t.y ? t.y : this.y;
                        return (this.bottom > t.bottom ? t.bottom : this.bottom) > r
                    }
                    var i = this.left
                      , o = this.right
                      , s = this.top
                      , a = this.bottom;
                    if (o <= i || a <= s)
                        return !1;
                    var u = Ht[0].set(t.left, t.top)
                      , h = Ht[1].set(t.left, t.bottom)
                      , l = Ht[2].set(t.right, t.top)
                      , c = Ht[3].set(t.right, t.bottom);
                    if (l.x <= u.x || h.y <= u.y)
                        return !1;
                    var d = Math.sign(e.a * e.d - e.b * e.c);
                    if (0 === d)
                        return !1;
                    if (e.apply(u, u),
                    e.apply(h, h),
                    e.apply(l, l),
                    e.apply(c, c),
                    Math.max(u.x, h.x, l.x, c.x) <= i || Math.min(u.x, h.x, l.x, c.x) >= o || Math.max(u.y, h.y, l.y, c.y) <= s || Math.min(u.y, h.y, l.y, c.y) >= a)
                        return !1;
                    var p = d * (h.y - u.y)
                      , f = d * (u.x - h.x)
                      , m = p * i + f * s
                      , _ = p * o + f * s
                      , v = p * i + f * a
                      , g = p * o + f * a;
                    if (Math.max(m, _, v, g) <= p * u.x + f * u.y || Math.min(m, _, v, g) >= p * c.x + f * c.y)
                        return !1;
                    var y = d * (u.y - l.y)
                      , b = d * (l.x - u.x)
                      , x = y * i + b * s
                      , T = y * o + b * s
                      , E = y * i + b * a
                      , A = y * o + b * a;
                    return !(Math.max(x, T, E, A) <= y * u.x + b * u.y || Math.min(x, T, E, A) >= y * c.x + b * c.y)
                }
                ,
                t.prototype.pad = function(t, e) {
                    return void 0 === t && (t = 0),
                    void 0 === e && (e = t),
                    this.x -= t,
                    this.y -= e,
                    this.width += 2 * t,
                    this.height += 2 * e,
                    this
                }
                ,
                t.prototype.fit = function(t) {
                    var e = Math.max(this.x, t.x)
                      , n = Math.min(this.x + this.width, t.x + t.width)
                      , r = Math.max(this.y, t.y)
                      , i = Math.min(this.y + this.height, t.y + t.height);
                    return this.x = e,
                    this.width = Math.max(n - e, 0),
                    this.y = r,
                    this.height = Math.max(i - r, 0),
                    this
                }
                ,
                t.prototype.ceil = function(t, e) {
                    void 0 === t && (t = 1),
                    void 0 === e && (e = .001);
                    var n = Math.ceil((this.x + this.width - e) * t) / t
                      , r = Math.ceil((this.y + this.height - e) * t) / t;
                    return this.x = Math.floor((this.x + e) * t) / t,
                    this.y = Math.floor((this.y + e) * t) / t,
                    this.width = n - this.x,
                    this.height = r - this.y,
                    this
                }
                ,
                t.prototype.enlarge = function(t) {
                    var e = Math.min(this.x, t.x)
                      , n = Math.max(this.x + this.width, t.x + t.width)
                      , r = Math.min(this.y, t.y)
                      , i = Math.max(this.y + this.height, t.y + t.height);
                    return this.x = e,
                    this.width = n - e,
                    this.y = r,
                    this.height = i - r,
                    this
                }
                ,
                t.prototype.toString = function() {
                    return "[@pixi/math:Rectangle x=" + this.x + " y=" + this.y + " width=" + this.width + " height=" + this.height + "]"
                }
                ,
                t
            }()
              , $t = function() {
                function t(t, e, n) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = 0),
                    void 0 === n && (n = 0),
                    this.x = t,
                    this.y = e,
                    this.radius = n,
                    this.type = Ft.CIRC
                }
                return t.prototype.clone = function() {
                    return new t(this.x,this.y,this.radius)
                }
                ,
                t.prototype.contains = function(t, e) {
                    if (this.radius <= 0)
                        return !1;
                    var n = this.radius * this.radius
                      , r = this.x - t
                      , i = this.y - e;
                    return (r *= r) + (i *= i) <= n
                }
                ,
                t.prototype.getBounds = function() {
                    return new jt(this.x - this.radius,this.y - this.radius,2 * this.radius,2 * this.radius)
                }
                ,
                t.prototype.toString = function() {
                    return "[@pixi/math:Circle x=" + this.x + " y=" + this.y + " radius=" + this.radius + "]"
                }
                ,
                t
            }()
              , Wt = function() {
                function t(t, e, n, r) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = 0),
                    void 0 === n && (n = 0),
                    void 0 === r && (r = 0),
                    this.x = t,
                    this.y = e,
                    this.width = n,
                    this.height = r,
                    this.type = Ft.ELIP
                }
                return t.prototype.clone = function() {
                    return new t(this.x,this.y,this.width,this.height)
                }
                ,
                t.prototype.contains = function(t, e) {
                    if (this.width <= 0 || this.height <= 0)
                        return !1;
                    var n = (t - this.x) / this.width
                      , r = (e - this.y) / this.height;
                    return (n *= n) + (r *= r) <= 1
                }
                ,
                t.prototype.getBounds = function() {
                    return new jt(this.x - this.width,this.y - this.height,this.width,this.height)
                }
                ,
                t.prototype.toString = function() {
                    return "[@pixi/math:Ellipse x=" + this.x + " y=" + this.y + " width=" + this.width + " height=" + this.height + "]"
                }
                ,
                t
            }()
              , Vt = function() {
                function t() {
                    for (var t = arguments, e = [], n = 0; n < arguments.length; n++)
                        e[n] = t[n];
                    var r = Array.isArray(e[0]) ? e[0] : e;
                    if ("number" != typeof r[0]) {
                        for (var i = [], o = 0, s = r.length; o < s; o++)
                            i.push(r[o].x, r[o].y);
                        r = i
                    }
                    this.points = r,
                    this.type = Ft.POLY,
                    this.closeStroke = !0
                }
                return t.prototype.clone = function() {
                    var e = new t(this.points.slice());
                    return e.closeStroke = this.closeStroke,
                    e
                }
                ,
                t.prototype.contains = function(t, e) {
                    for (var n = !1, r = this.points.length / 2, i = 0, o = r - 1; i < r; o = i++) {
                        var s = this.points[2 * i]
                          , a = this.points[2 * i + 1]
                          , u = this.points[2 * o]
                          , h = this.points[2 * o + 1];
                        a > e != h > e && t < (e - a) / (h - a) * (u - s) + s && (n = !n)
                    }
                    return n
                }
                ,
                t.prototype.toString = function() {
                    return "[@pixi/math:PolygoncloseStroke=" + this.closeStroke + "points=" + this.points.reduce((function(t, e) {
                        return t + ", " + e
                    }
                    ), "") + "]"
                }
                ,
                t
            }()
              , Yt = function() {
                function t(t, e, n, r, i) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = 0),
                    void 0 === n && (n = 0),
                    void 0 === r && (r = 0),
                    void 0 === i && (i = 20),
                    this.x = t,
                    this.y = e,
                    this.width = n,
                    this.height = r,
                    this.radius = i,
                    this.type = Ft.RREC
                }
                return t.prototype.clone = function() {
                    return new t(this.x,this.y,this.width,this.height,this.radius)
                }
                ,
                t.prototype.contains = function(t, e) {
                    if (this.width <= 0 || this.height <= 0)
                        return !1;
                    if (t >= this.x && t <= this.x + this.width && e >= this.y && e <= this.y + this.height) {
                        var n = Math.max(0, Math.min(this.radius, Math.min(this.width, this.height) / 2));
                        if (e >= this.y + n && e <= this.y + this.height - n || t >= this.x + n && t <= this.x + this.width - n)
                            return !0;
                        var r = t - (this.x + n)
                          , i = e - (this.y + n)
                          , o = n * n;
                        if (r * r + i * i <= o)
                            return !0;
                        if ((r = t - (this.x + this.width - n)) * r + i * i <= o)
                            return !0;
                        if (r * r + (i = e - (this.y + this.height - n)) * i <= o)
                            return !0;
                        if ((r = t - (this.x + n)) * r + i * i <= o)
                            return !0
                    }
                    return !1
                }
                ,
                t.prototype.toString = function() {
                    return "[@pixi/math:RoundedRectangle x=" + this.x + " y=" + this.y + "width=" + this.width + " height=" + this.height + " radius=" + this.radius + "]"
                }
                ,
                t
            }()
              , zt = function() {
                function t(t, e, n, r) {
                    void 0 === n && (n = 0),
                    void 0 === r && (r = 0),
                    this._x = n,
                    this._y = r,
                    this.cb = t,
                    this.scope = e
                }
                return t.prototype.clone = function(e, n) {
                    return void 0 === e && (e = this.cb),
                    void 0 === n && (n = this.scope),
                    new t(e,n,this._x,this._y)
                }
                ,
                t.prototype.set = function(t, e) {
                    return void 0 === t && (t = 0),
                    void 0 === e && (e = t),
                    this._x === t && this._y === e || (this._x = t,
                    this._y = e,
                    this.cb.call(this.scope)),
                    this
                }
                ,
                t.prototype.copyFrom = function(t) {
                    return this._x === t.x && this._y === t.y || (this._x = t.x,
                    this._y = t.y,
                    this.cb.call(this.scope)),
                    this
                }
                ,
                t.prototype.copyTo = function(t) {
                    return t.set(this._x, this._y),
                    t
                }
                ,
                t.prototype.equals = function(t) {
                    return t.x === this._x && t.y === this._y
                }
                ,
                t.prototype.toString = function() {
                    return "[@pixi/math:ObservablePoint x=0 y=0 scope=" + this.scope + "]"
                }
                ,
                Object.defineProperty(t.prototype, "x", {
                    get: function() {
                        return this._x
                    },
                    set: function(t) {
                        this._x !== t && (this._x = t,
                        this.cb.call(this.scope))
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "y", {
                    get: function() {
                        return this._y
                    },
                    set: function(t) {
                        this._y !== t && (this._y = t,
                        this.cb.call(this.scope))
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t
            }()
              , qt = function() {
                function t(t, e, n, r, i, o) {
                    void 0 === t && (t = 1),
                    void 0 === e && (e = 0),
                    void 0 === n && (n = 0),
                    void 0 === r && (r = 1),
                    void 0 === i && (i = 0),
                    void 0 === o && (o = 0),
                    this.array = null,
                    this.a = t,
                    this.b = e,
                    this.c = n,
                    this.d = r,
                    this.tx = i,
                    this.ty = o
                }
                return t.prototype.fromArray = function(t) {
                    this.a = t[0],
                    this.b = t[1],
                    this.c = t[3],
                    this.d = t[4],
                    this.tx = t[2],
                    this.ty = t[5]
                }
                ,
                t.prototype.set = function(t, e, n, r, i, o) {
                    return this.a = t,
                    this.b = e,
                    this.c = n,
                    this.d = r,
                    this.tx = i,
                    this.ty = o,
                    this
                }
                ,
                t.prototype.toArray = function(t, e) {
                    this.array || (this.array = new Float32Array(9));
                    var n = e || this.array;
                    return t ? (n[0] = this.a,
                    n[1] = this.b,
                    n[2] = 0,
                    n[3] = this.c,
                    n[4] = this.d,
                    n[5] = 0,
                    n[6] = this.tx,
                    n[7] = this.ty,
                    n[8] = 1) : (n[0] = this.a,
                    n[1] = this.c,
                    n[2] = this.tx,
                    n[3] = this.b,
                    n[4] = this.d,
                    n[5] = this.ty,
                    n[6] = 0,
                    n[7] = 0,
                    n[8] = 1),
                    n
                }
                ,
                t.prototype.apply = function(t, e) {
                    e = e || new Xt;
                    var n = t.x
                      , r = t.y;
                    return e.x = this.a * n + this.c * r + this.tx,
                    e.y = this.b * n + this.d * r + this.ty,
                    e
                }
                ,
                t.prototype.applyInverse = function(t, e) {
                    e = e || new Xt;
                    var n = 1 / (this.a * this.d + this.c * -this.b)
                      , r = t.x
                      , i = t.y;
                    return e.x = this.d * n * r + -this.c * n * i + (this.ty * this.c - this.tx * this.d) * n,
                    e.y = this.a * n * i + -this.b * n * r + (-this.ty * this.a + this.tx * this.b) * n,
                    e
                }
                ,
                t.prototype.translate = function(t, e) {
                    return this.tx += t,
                    this.ty += e,
                    this
                }
                ,
                t.prototype.scale = function(t, e) {
                    return this.a *= t,
                    this.d *= e,
                    this.c *= t,
                    this.b *= e,
                    this.tx *= t,
                    this.ty *= e,
                    this
                }
                ,
                t.prototype.rotate = function(t) {
                    var e = Math.cos(t)
                      , n = Math.sin(t)
                      , r = this.a
                      , i = this.c
                      , o = this.tx;
                    return this.a = r * e - this.b * n,
                    this.b = r * n + this.b * e,
                    this.c = i * e - this.d * n,
                    this.d = i * n + this.d * e,
                    this.tx = o * e - this.ty * n,
                    this.ty = o * n + this.ty * e,
                    this
                }
                ,
                t.prototype.append = function(t) {
                    var e = this.a
                      , n = this.b
                      , r = this.c
                      , i = this.d;
                    return this.a = t.a * e + t.b * r,
                    this.b = t.a * n + t.b * i,
                    this.c = t.c * e + t.d * r,
                    this.d = t.c * n + t.d * i,
                    this.tx = t.tx * e + t.ty * r + this.tx,
                    this.ty = t.tx * n + t.ty * i + this.ty,
                    this
                }
                ,
                t.prototype.setTransform = function(t, e, n, r, i, o, s, a, u) {
                    return this.a = Math.cos(s + u) * i,
                    this.b = Math.sin(s + u) * i,
                    this.c = -Math.sin(s - a) * o,
                    this.d = Math.cos(s - a) * o,
                    this.tx = t - (n * this.a + r * this.c),
                    this.ty = e - (n * this.b + r * this.d),
                    this
                }
                ,
                t.prototype.prepend = function(t) {
                    var e = this.tx;
                    if (1 !== t.a || 0 !== t.b || 0 !== t.c || 1 !== t.d) {
                        var n = this.a
                          , r = this.c;
                        this.a = n * t.a + this.b * t.c,
                        this.b = n * t.b + this.b * t.d,
                        this.c = r * t.a + this.d * t.c,
                        this.d = r * t.b + this.d * t.d
                    }
                    return this.tx = e * t.a + this.ty * t.c + t.tx,
                    this.ty = e * t.b + this.ty * t.d + t.ty,
                    this
                }
                ,
                t.prototype.decompose = function(t) {
                    var e = this.a
                      , n = this.b
                      , r = this.c
                      , i = this.d
                      , o = t.pivot
                      , s = -Math.atan2(-r, i)
                      , a = Math.atan2(n, e)
                      , u = Math.abs(s + a);
                    return u < 1e-5 || Math.abs(Gt - u) < 1e-5 ? (t.rotation = a,
                    t.skew.x = t.skew.y = 0) : (t.rotation = 0,
                    t.skew.x = s,
                    t.skew.y = a),
                    t.scale.x = Math.sqrt(e * e + n * n),
                    t.scale.y = Math.sqrt(r * r + i * i),
                    t.position.x = this.tx + (o.x * e + o.y * r),
                    t.position.y = this.ty + (o.x * n + o.y * i),
                    t
                }
                ,
                t.prototype.invert = function() {
                    var t = this.a
                      , e = this.b
                      , n = this.c
                      , r = this.d
                      , i = this.tx
                      , o = t * r - e * n;
                    return this.a = r / o,
                    this.b = -e / o,
                    this.c = -n / o,
                    this.d = t / o,
                    this.tx = (n * this.ty - r * i) / o,
                    this.ty = -(t * this.ty - e * i) / o,
                    this
                }
                ,
                t.prototype.identity = function() {
                    return this.a = 1,
                    this.b = 0,
                    this.c = 0,
                    this.d = 1,
                    this.tx = 0,
                    this.ty = 0,
                    this
                }
                ,
                t.prototype.clone = function() {
                    var e = new t;
                    return e.a = this.a,
                    e.b = this.b,
                    e.c = this.c,
                    e.d = this.d,
                    e.tx = this.tx,
                    e.ty = this.ty,
                    e
                }
                ,
                t.prototype.copyTo = function(t) {
                    return t.a = this.a,
                    t.b = this.b,
                    t.c = this.c,
                    t.d = this.d,
                    t.tx = this.tx,
                    t.ty = this.ty,
                    t
                }
                ,
                t.prototype.copyFrom = function(t) {
                    return this.a = t.a,
                    this.b = t.b,
                    this.c = t.c,
                    this.d = t.d,
                    this.tx = t.tx,
                    this.ty = t.ty,
                    this
                }
                ,
                t.prototype.toString = function() {
                    return "[@pixi/math:Matrix a=" + this.a + " b=" + this.b + " c=" + this.c + " d=" + this.d + " tx=" + this.tx + " ty=" + this.ty + "]"
                }
                ,
                Object.defineProperty(t, "IDENTITY", {
                    get: function() {
                        return new t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t, "TEMP_MATRIX", {
                    get: function() {
                        return new t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t
            }()
              , Kt = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1]
              , Jt = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1]
              , Zt = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1]
              , Qt = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1]
              , te = []
              , ee = []
              , ne = Math.sign;
            !function() {
                for (var t = 0; t < 16; t++) {
                    var e = [];
                    te.push(e);
                    for (var n = 0; n < 16; n++)
                        for (var r = ne(Kt[t] * Kt[n] + Zt[t] * Jt[n]), i = ne(Jt[t] * Kt[n] + Qt[t] * Jt[n]), o = ne(Kt[t] * Zt[n] + Zt[t] * Qt[n]), s = ne(Jt[t] * Zt[n] + Qt[t] * Qt[n]), a = 0; a < 16; a++)
                            if (Kt[a] === r && Jt[a] === i && Zt[a] === o && Qt[a] === s) {
                                e.push(a);
                                break
                            }
                }
                for (t = 0; t < 16; t++) {
                    var u = new qt;
                    u.set(Kt[t], Jt[t], Zt[t], Qt[t], 0, 0),
                    ee.push(u)
                }
            }();
            var re = {
                E: 0,
                SE: 1,
                S: 2,
                SW: 3,
                W: 4,
                NW: 5,
                N: 6,
                NE: 7,
                MIRROR_VERTICAL: 8,
                MAIN_DIAGONAL: 10,
                MIRROR_HORIZONTAL: 12,
                REVERSE_DIAGONAL: 14,
                uX: function(t) {
                    return Kt[t]
                },
                uY: function(t) {
                    return Jt[t]
                },
                vX: function(t) {
                    return Zt[t]
                },
                vY: function(t) {
                    return Qt[t]
                },
                inv: function(t) {
                    return 8 & t ? 15 & t : 7 & -t
                },
                add: function(t, e) {
                    return te[t][e]
                },
                sub: function(t, e) {
                    return te[t][re.inv(e)]
                },
                rotate180: function(t) {
                    return 4 ^ t
                },
                isVertical: function(t) {
                    return 2 == (3 & t)
                },
                byDirection: function(t, e) {
                    return 2 * Math.abs(t) <= Math.abs(e) ? e >= 0 ? re.S : re.N : 2 * Math.abs(e) <= Math.abs(t) ? t > 0 ? re.E : re.W : e > 0 ? t > 0 ? re.SE : re.SW : t > 0 ? re.NE : re.NW
                },
                matrixAppendRotationInv: function(t, e, n, r) {
                    void 0 === n && (n = 0),
                    void 0 === r && (r = 0);
                    var i = ee[re.inv(e)];
                    i.tx = n,
                    i.ty = r,
                    t.append(i)
                }
            }
              , ie = function() {
                function t() {
                    this.worldTransform = new qt,
                    this.localTransform = new qt,
                    this.position = new zt(this.onChange,this,0,0),
                    this.scale = new zt(this.onChange,this,1,1),
                    this.pivot = new zt(this.onChange,this,0,0),
                    this.skew = new zt(this.updateSkew,this,0,0),
                    this._rotation = 0,
                    this._cx = 1,
                    this._sx = 0,
                    this._cy = 0,
                    this._sy = 1,
                    this._localID = 0,
                    this._currentLocalID = 0,
                    this._worldID = 0,
                    this._parentID = 0
                }
                return t.prototype.onChange = function() {
                    this._localID++
                }
                ,
                t.prototype.updateSkew = function() {
                    this._cx = Math.cos(this._rotation + this.skew.y),
                    this._sx = Math.sin(this._rotation + this.skew.y),
                    this._cy = -Math.sin(this._rotation - this.skew.x),
                    this._sy = Math.cos(this._rotation - this.skew.x),
                    this._localID++
                }
                ,
                t.prototype.toString = function() {
                    return "[@pixi/math:Transform position=(" + this.position.x + ", " + this.position.y + ") rotation=" + this.rotation + " scale=(" + this.scale.x + ", " + this.scale.y + ") skew=(" + this.skew.x + ", " + this.skew.y + ") ]"
                }
                ,
                t.prototype.updateLocalTransform = function() {
                    var t = this.localTransform;
                    this._localID !== this._currentLocalID && (t.a = this._cx * this.scale.x,
                    t.b = this._sx * this.scale.x,
                    t.c = this._cy * this.scale.y,
                    t.d = this._sy * this.scale.y,
                    t.tx = this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c),
                    t.ty = this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d),
                    this._currentLocalID = this._localID,
                    this._parentID = -1)
                }
                ,
                t.prototype.updateTransform = function(t) {
                    var e = this.localTransform;
                    if (this._localID !== this._currentLocalID && (e.a = this._cx * this.scale.x,
                    e.b = this._sx * this.scale.x,
                    e.c = this._cy * this.scale.y,
                    e.d = this._sy * this.scale.y,
                    e.tx = this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c),
                    e.ty = this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d),
                    this._currentLocalID = this._localID,
                    this._parentID = -1),
                    this._parentID !== t._worldID) {
                        var n = t.worldTransform
                          , r = this.worldTransform;
                        r.a = e.a * n.a + e.b * n.c,
                        r.b = e.a * n.b + e.b * n.d,
                        r.c = e.c * n.a + e.d * n.c,
                        r.d = e.c * n.b + e.d * n.d,
                        r.tx = e.tx * n.a + e.ty * n.c + n.tx,
                        r.ty = e.tx * n.b + e.ty * n.d + n.ty,
                        this._parentID = t._worldID,
                        this._worldID++
                    }
                }
                ,
                t.prototype.setFromMatrix = function(t) {
                    t.decompose(this),
                    this._localID++
                }
                ,
                Object.defineProperty(t.prototype, "rotation", {
                    get: function() {
                        return this._rotation
                    },
                    set: function(t) {
                        this._rotation !== t && (this._rotation = t,
                        this.updateSkew())
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.IDENTITY = new t,
                t
            }();
            st.SORTABLE_CHILDREN = !1;
            var oe = function() {
                function t() {
                    this.minX = 1 / 0,
                    this.minY = 1 / 0,
                    this.maxX = -1 / 0,
                    this.maxY = -1 / 0,
                    this.rect = null,
                    this.updateID = -1
                }
                return t.prototype.isEmpty = function() {
                    return this.minX > this.maxX || this.minY > this.maxY
                }
                ,
                t.prototype.clear = function() {
                    this.minX = 1 / 0,
                    this.minY = 1 / 0,
                    this.maxX = -1 / 0,
                    this.maxY = -1 / 0
                }
                ,
                t.prototype.getRectangle = function(t) {
                    return this.minX > this.maxX || this.minY > this.maxY ? jt.EMPTY : ((t = t || new jt(0,0,1,1)).x = this.minX,
                    t.y = this.minY,
                    t.width = this.maxX - this.minX,
                    t.height = this.maxY - this.minY,
                    t)
                }
                ,
                t.prototype.addPoint = function(t) {
                    this.minX = Math.min(this.minX, t.x),
                    this.maxX = Math.max(this.maxX, t.x),
                    this.minY = Math.min(this.minY, t.y),
                    this.maxY = Math.max(this.maxY, t.y)
                }
                ,
                t.prototype.addPointMatrix = function(t, e) {
                    var n = t.a
                      , r = t.b
                      , i = t.c
                      , o = t.d
                      , s = t.tx
                      , a = t.ty
                      , u = n * e.x + i * e.y + s
                      , h = r * e.x + o * e.y + a;
                    this.minX = Math.min(this.minX, u),
                    this.maxX = Math.max(this.maxX, u),
                    this.minY = Math.min(this.minY, h),
                    this.maxY = Math.max(this.maxY, h)
                }
                ,
                t.prototype.addQuad = function(t) {
                    var e = this.minX
                      , n = this.minY
                      , r = this.maxX
                      , i = this.maxY
                      , o = t[0]
                      , s = t[1];
                    e = o < e ? o : e,
                    n = s < n ? s : n,
                    r = o > r ? o : r,
                    i = s > i ? s : i,
                    e = (o = t[2]) < e ? o : e,
                    n = (s = t[3]) < n ? s : n,
                    r = o > r ? o : r,
                    i = s > i ? s : i,
                    e = (o = t[4]) < e ? o : e,
                    n = (s = t[5]) < n ? s : n,
                    r = o > r ? o : r,
                    i = s > i ? s : i,
                    e = (o = t[6]) < e ? o : e,
                    n = (s = t[7]) < n ? s : n,
                    r = o > r ? o : r,
                    i = s > i ? s : i,
                    this.minX = e,
                    this.minY = n,
                    this.maxX = r,
                    this.maxY = i
                }
                ,
                t.prototype.addFrame = function(t, e, n, r, i) {
                    this.addFrameMatrix(t.worldTransform, e, n, r, i)
                }
                ,
                t.prototype.addFrameMatrix = function(t, e, n, r, i) {
                    var o = t.a
                      , s = t.b
                      , a = t.c
                      , u = t.d
                      , h = t.tx
                      , l = t.ty
                      , c = this.minX
                      , d = this.minY
                      , p = this.maxX
                      , f = this.maxY
                      , m = o * e + a * n + h
                      , _ = s * e + u * n + l;
                    c = m < c ? m : c,
                    d = _ < d ? _ : d,
                    p = m > p ? m : p,
                    f = _ > f ? _ : f,
                    c = (m = o * r + a * n + h) < c ? m : c,
                    d = (_ = s * r + u * n + l) < d ? _ : d,
                    p = m > p ? m : p,
                    f = _ > f ? _ : f,
                    c = (m = o * e + a * i + h) < c ? m : c,
                    d = (_ = s * e + u * i + l) < d ? _ : d,
                    p = m > p ? m : p,
                    f = _ > f ? _ : f,
                    c = (m = o * r + a * i + h) < c ? m : c,
                    d = (_ = s * r + u * i + l) < d ? _ : d,
                    p = m > p ? m : p,
                    f = _ > f ? _ : f,
                    this.minX = c,
                    this.minY = d,
                    this.maxX = p,
                    this.maxY = f
                }
                ,
                t.prototype.addVertexData = function(t, e, n) {
                    for (var r = this.minX, i = this.minY, o = this.maxX, s = this.maxY, a = e; a < n; a += 2) {
                        var u = t[a]
                          , h = t[a + 1];
                        r = u < r ? u : r,
                        i = h < i ? h : i,
                        o = u > o ? u : o,
                        s = h > s ? h : s
                    }
                    this.minX = r,
                    this.minY = i,
                    this.maxX = o,
                    this.maxY = s
                }
                ,
                t.prototype.addVertices = function(t, e, n, r) {
                    this.addVerticesMatrix(t.worldTransform, e, n, r)
                }
                ,
                t.prototype.addVerticesMatrix = function(t, e, n, r, i, o) {
                    void 0 === i && (i = 0),
                    void 0 === o && (o = i);
                    for (var s = t.a, a = t.b, u = t.c, h = t.d, l = t.tx, c = t.ty, d = this.minX, p = this.minY, f = this.maxX, m = this.maxY, _ = n; _ < r; _ += 2) {
                        var v = e[_]
                          , g = e[_ + 1]
                          , y = s * v + u * g + l
                          , b = h * g + a * v + c;
                        d = Math.min(d, y - i),
                        f = Math.max(f, y + i),
                        p = Math.min(p, b - o),
                        m = Math.max(m, b + o)
                    }
                    this.minX = d,
                    this.minY = p,
                    this.maxX = f,
                    this.maxY = m
                }
                ,
                t.prototype.addBounds = function(t) {
                    var e = this.minX
                      , n = this.minY
                      , r = this.maxX
                      , i = this.maxY;
                    this.minX = t.minX < e ? t.minX : e,
                    this.minY = t.minY < n ? t.minY : n,
                    this.maxX = t.maxX > r ? t.maxX : r,
                    this.maxY = t.maxY > i ? t.maxY : i
                }
                ,
                t.prototype.addBoundsMask = function(t, e) {
                    var n = t.minX > e.minX ? t.minX : e.minX
                      , r = t.minY > e.minY ? t.minY : e.minY
                      , i = t.maxX < e.maxX ? t.maxX : e.maxX
                      , o = t.maxY < e.maxY ? t.maxY : e.maxY;
                    if (n <= i && r <= o) {
                        var s = this.minX
                          , a = this.minY
                          , u = this.maxX
                          , h = this.maxY;
                        this.minX = n < s ? n : s,
                        this.minY = r < a ? r : a,
                        this.maxX = i > u ? i : u,
                        this.maxY = o > h ? o : h
                    }
                }
                ,
                t.prototype.addBoundsMatrix = function(t, e) {
                    this.addFrameMatrix(e, t.minX, t.minY, t.maxX, t.maxY)
                }
                ,
                t.prototype.addBoundsArea = function(t, e) {
                    var n = t.minX > e.x ? t.minX : e.x
                      , r = t.minY > e.y ? t.minY : e.y
                      , i = t.maxX < e.x + e.width ? t.maxX : e.x + e.width
                      , o = t.maxY < e.y + e.height ? t.maxY : e.y + e.height;
                    if (n <= i && r <= o) {
                        var s = this.minX
                          , a = this.minY
                          , u = this.maxX
                          , h = this.maxY;
                        this.minX = n < s ? n : s,
                        this.minY = r < a ? r : a,
                        this.maxX = i > u ? i : u,
                        this.maxY = o > h ? o : h
                    }
                }
                ,
                t.prototype.pad = function(t, e) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = t),
                    this.isEmpty() || (this.minX -= t,
                    this.maxX += t,
                    this.minY -= e,
                    this.maxY += e)
                }
                ,
                t.prototype.addFramePad = function(t, e, n, r, i, o) {
                    t -= i,
                    e -= o,
                    n += i,
                    r += o,
                    this.minX = this.minX < t ? this.minX : t,
                    this.maxX = this.maxX > n ? this.maxX : n,
                    this.minY = this.minY < e ? this.minY : e,
                    this.maxY = this.maxY > r ? this.maxY : r
                }
                ,
                t
            }()
              , se = function(t, e) {
                return (se = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            function ae(t, e) {
                function n() {
                    this.constructor = t
                }
                se(t, e),
                t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                new n)
            }
            var ue = function(t) {
                function e() {
                    var e = t.call(this) || this;
                    return e.tempDisplayObjectParent = null,
                    e.transform = new ie,
                    e.alpha = 1,
                    e.visible = !0,
                    e.renderable = !0,
                    e.cullable = !1,
                    e.cullArea = null,
                    e.parent = null,
                    e.worldAlpha = 1,
                    e._lastSortedIndex = 0,
                    e._zIndex = 0,
                    e.filterArea = null,
                    e.filters = null,
                    e._enabledFilters = null,
                    e._bounds = new oe,
                    e._localBounds = null,
                    e._boundsID = 0,
                    e._boundsRect = null,
                    e._localBoundsRect = null,
                    e._mask = null,
                    e._maskRefCount = 0,
                    e._destroyed = !1,
                    e.isSprite = !1,
                    e.isMask = !1,
                    e
                }
                return ae(e, t),
                e.mixin = function(t) {
                    for (var n = Object.keys(t), r = 0; r < n.length; ++r) {
                        var i = n[r];
                        Object.defineProperty(e.prototype, i, Object.getOwnPropertyDescriptor(t, i))
                    }
                }
                ,
                Object.defineProperty(e.prototype, "destroyed", {
                    get: function() {
                        return this._destroyed
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype._recursivePostUpdateTransform = function() {
                    this.parent ? (this.parent._recursivePostUpdateTransform(),
                    this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform)
                }
                ,
                e.prototype.updateTransform = function() {
                    this._boundsID++,
                    this.transform.updateTransform(this.parent.transform),
                    this.worldAlpha = this.alpha * this.parent.worldAlpha
                }
                ,
                e.prototype.getBounds = function(t, e) {
                    return t || (this.parent ? (this._recursivePostUpdateTransform(),
                    this.updateTransform()) : (this.parent = this._tempDisplayObjectParent,
                    this.updateTransform(),
                    this.parent = null)),
                    this._bounds.updateID !== this._boundsID && (this.calculateBounds(),
                    this._bounds.updateID = this._boundsID),
                    e || (this._boundsRect || (this._boundsRect = new jt),
                    e = this._boundsRect),
                    this._bounds.getRectangle(e)
                }
                ,
                e.prototype.getLocalBounds = function(t) {
                    t || (this._localBoundsRect || (this._localBoundsRect = new jt),
                    t = this._localBoundsRect),
                    this._localBounds || (this._localBounds = new oe);
                    var e = this.transform
                      , n = this.parent;
                    this.parent = null,
                    this.transform = this._tempDisplayObjectParent.transform;
                    var r = this._bounds
                      , i = this._boundsID;
                    this._bounds = this._localBounds;
                    var o = this.getBounds(!1, t);
                    return this.parent = n,
                    this.transform = e,
                    this._bounds = r,
                    this._bounds.updateID += this._boundsID - i,
                    o
                }
                ,
                e.prototype.toGlobal = function(t, e, n) {
                    return void 0 === n && (n = !1),
                    n || (this._recursivePostUpdateTransform(),
                    this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent,
                    this.displayObjectUpdateTransform(),
                    this.parent = null)),
                    this.worldTransform.apply(t, e)
                }
                ,
                e.prototype.toLocal = function(t, e, n, r) {
                    return e && (t = e.toGlobal(t, n, r)),
                    r || (this._recursivePostUpdateTransform(),
                    this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent,
                    this.displayObjectUpdateTransform(),
                    this.parent = null)),
                    this.worldTransform.applyInverse(t, n)
                }
                ,
                e.prototype.setParent = function(t) {
                    if (!t || !t.addChild)
                        throw new Error("setParent: Argument must be a Container");
                    return t.addChild(this),
                    t
                }
                ,
                e.prototype.setTransform = function(t, e, n, r, i, o, s, a, u) {
                    return void 0 === t && (t = 0),
                    void 0 === e && (e = 0),
                    void 0 === n && (n = 1),
                    void 0 === r && (r = 1),
                    void 0 === i && (i = 0),
                    void 0 === o && (o = 0),
                    void 0 === s && (s = 0),
                    void 0 === a && (a = 0),
                    void 0 === u && (u = 0),
                    this.position.x = t,
                    this.position.y = e,
                    this.scale.x = n || 1,
                    this.scale.y = r || 1,
                    this.rotation = i,
                    this.skew.x = o,
                    this.skew.y = s,
                    this.pivot.x = a,
                    this.pivot.y = u,
                    this
                }
                ,
                e.prototype.destroy = function(t) {
                    this.parent && this.parent.removeChild(this),
                    this._destroyed = !0,
                    this.transform = null,
                    this.parent = null,
                    this._bounds = null,
                    this.mask = null,
                    this.cullArea = null,
                    this.filters = null,
                    this.filterArea = null,
                    this.hitArea = null,
                    this.interactive = !1,
                    this.interactiveChildren = !1,
                    this.emit("destroyed"),
                    this.removeAllListeners()
                }
                ,
                Object.defineProperty(e.prototype, "_tempDisplayObjectParent", {
                    get: function() {
                        return null === this.tempDisplayObjectParent && (this.tempDisplayObjectParent = new he),
                        this.tempDisplayObjectParent
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.enableTempParent = function() {
                    var t = this.parent;
                    return this.parent = this._tempDisplayObjectParent,
                    t
                }
                ,
                e.prototype.disableTempParent = function(t) {
                    this.parent = t
                }
                ,
                Object.defineProperty(e.prototype, "x", {
                    get: function() {
                        return this.position.x
                    },
                    set: function(t) {
                        this.transform.position.x = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "y", {
                    get: function() {
                        return this.position.y
                    },
                    set: function(t) {
                        this.transform.position.y = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "worldTransform", {
                    get: function() {
                        return this.transform.worldTransform
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "localTransform", {
                    get: function() {
                        return this.transform.localTransform
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "position", {
                    get: function() {
                        return this.transform.position
                    },
                    set: function(t) {
                        this.transform.position.copyFrom(t)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "scale", {
                    get: function() {
                        return this.transform.scale
                    },
                    set: function(t) {
                        this.transform.scale.copyFrom(t)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "pivot", {
                    get: function() {
                        return this.transform.pivot
                    },
                    set: function(t) {
                        this.transform.pivot.copyFrom(t)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "skew", {
                    get: function() {
                        return this.transform.skew
                    },
                    set: function(t) {
                        this.transform.skew.copyFrom(t)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "rotation", {
                    get: function() {
                        return this.transform.rotation
                    },
                    set: function(t) {
                        this.transform.rotation = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "angle", {
                    get: function() {
                        return this.transform.rotation * kt
                    },
                    set: function(t) {
                        this.transform.rotation = t * Ut
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "zIndex", {
                    get: function() {
                        return this._zIndex
                    },
                    set: function(t) {
                        this._zIndex = t,
                        this.parent && (this.parent.sortDirty = !0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "worldVisible", {
                    get: function() {
                        var t = this;
                        do {
                            if (!t.visible)
                                return !1;
                            t = t.parent
                        } while (t);
                        return !0
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "mask", {
                    get: function() {
                        return this._mask
                    },
                    set: function(t) {
                        var e;
                        this._mask !== t && (this._mask && (e = this._mask.isMaskData ? this._mask.maskObject : this._mask) && (e._maskRefCount--,
                        0 === e._maskRefCount && (e.renderable = !0,
                        e.isMask = !1)),
                        this._mask = t,
                        this._mask && (e = this._mask.isMaskData ? this._mask.maskObject : this._mask) && (0 === e._maskRefCount && (e.renderable = !1,
                        e.isMask = !0),
                        e._maskRefCount++))
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e
            }(at)
              , he = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.sortDirty = null,
                    e
                }
                return ae(e, t),
                e
            }(ue);
            function le(t, e) {
                return t.zIndex === e.zIndex ? t._lastSortedIndex - e._lastSortedIndex : t.zIndex - e.zIndex
            }
            ue.prototype.displayObjectUpdateTransform = ue.prototype.updateTransform;
            var ce = function(t) {
                function e() {
                    var e = t.call(this) || this;
                    return e.children = [],
                    e.sortableChildren = st.SORTABLE_CHILDREN,
                    e.sortDirty = !1,
                    e
                }
                return ae(e, t),
                e.prototype.onChildrenChange = function(t) {}
                ,
                e.prototype.addChild = function() {
                    for (var t = arguments, e = [], n = 0; n < arguments.length; n++)
                        e[n] = t[n];
                    if (e.length > 1)
                        for (var r = 0; r < e.length; r++)
                            this.addChild(e[r]);
                    else {
                        var i = e[0];
                        i.parent && i.parent.removeChild(i),
                        i.parent = this,
                        this.sortDirty = !0,
                        i.transform._parentID = -1,
                        this.children.push(i),
                        this._boundsID++,
                        this.onChildrenChange(this.children.length - 1),
                        this.emit("childAdded", i, this, this.children.length - 1),
                        i.emit("added", this)
                    }
                    return e[0]
                }
                ,
                e.prototype.addChildAt = function(t, e) {
                    if (e < 0 || e > this.children.length)
                        throw new Error(t + "addChildAt: The index " + e + " supplied is out of bounds " + this.children.length);
                    return t.parent && t.parent.removeChild(t),
                    t.parent = this,
                    this.sortDirty = !0,
                    t.transform._parentID = -1,
                    this.children.splice(e, 0, t),
                    this._boundsID++,
                    this.onChildrenChange(e),
                    t.emit("added", this),
                    this.emit("childAdded", t, this, e),
                    t
                }
                ,
                e.prototype.swapChildren = function(t, e) {
                    if (t !== e) {
                        var n = this.getChildIndex(t)
                          , r = this.getChildIndex(e);
                        this.children[n] = e,
                        this.children[r] = t,
                        this.onChildrenChange(n < r ? n : r)
                    }
                }
                ,
                e.prototype.getChildIndex = function(t) {
                    var e = this.children.indexOf(t);
                    if (-1 === e)
                        throw new Error("The supplied DisplayObject must be a child of the caller");
                    return e
                }
                ,
                e.prototype.setChildIndex = function(t, e) {
                    if (e < 0 || e >= this.children.length)
                        throw new Error("The index " + e + " supplied is out of bounds " + this.children.length);
                    var n = this.getChildIndex(t);
                    St(this.children, n, 1),
                    this.children.splice(e, 0, t),
                    this.onChildrenChange(e)
                }
                ,
                e.prototype.getChildAt = function(t) {
                    if (t < 0 || t >= this.children.length)
                        throw new Error("getChildAt: Index (" + t + ") does not exist.");
                    return this.children[t]
                }
                ,
                e.prototype.removeChild = function() {
                    for (var t = arguments, e = [], n = 0; n < arguments.length; n++)
                        e[n] = t[n];
                    if (e.length > 1)
                        for (var r = 0; r < e.length; r++)
                            this.removeChild(e[r]);
                    else {
                        var i = e[0]
                          , o = this.children.indexOf(i);
                        if (-1 === o)
                            return null;
                        i.parent = null,
                        i.transform._parentID = -1,
                        St(this.children, o, 1),
                        this._boundsID++,
                        this.onChildrenChange(o),
                        i.emit("removed", this),
                        this.emit("childRemoved", i, this, o)
                    }
                    return e[0]
                }
                ,
                e.prototype.removeChildAt = function(t) {
                    var e = this.getChildAt(t);
                    return e.parent = null,
                    e.transform._parentID = -1,
                    St(this.children, t, 1),
                    this._boundsID++,
                    this.onChildrenChange(t),
                    e.emit("removed", this),
                    this.emit("childRemoved", e, this, t),
                    e
                }
                ,
                e.prototype.removeChildren = function(t, e) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = this.children.length);
                    var n, r = t, i = e - r;
                    if (i > 0 && i <= e) {
                        n = this.children.splice(r, i);
                        for (var o = 0; o < n.length; ++o)
                            n[o].parent = null,
                            n[o].transform && (n[o].transform._parentID = -1);
                        for (this._boundsID++,
                        this.onChildrenChange(t),
                        o = 0; o < n.length; ++o)
                            n[o].emit("removed", this),
                            this.emit("childRemoved", n[o], this, o);
                        return n
                    }
                    if (0 === i && 0 === this.children.length)
                        return [];
                    throw new RangeError("removeChildren: numeric values are outside the acceptable range.")
                }
                ,
                e.prototype.sortChildren = function() {
                    for (var t = !1, e = 0, n = this.children.length; e < n; ++e) {
                        var r = this.children[e];
                        r._lastSortedIndex = e,
                        t || 0 === r.zIndex || (t = !0)
                    }
                    t && this.children.length > 1 && this.children.sort(le),
                    this.sortDirty = !1
                }
                ,
                e.prototype.updateTransform = function() {
                    this.sortableChildren && this.sortDirty && this.sortChildren(),
                    this._boundsID++,
                    this.transform.updateTransform(this.parent.transform),
                    this.worldAlpha = this.alpha * this.parent.worldAlpha;
                    for (var t = 0, e = this.children.length; t < e; ++t) {
                        var n = this.children[t];
                        n.visible && n.updateTransform()
                    }
                }
                ,
                e.prototype.calculateBounds = function() {
                    this._bounds.clear(),
                    this._calculateBounds();
                    for (var t = 0; t < this.children.length; t++) {
                        var e = this.children[t];
                        if (e.visible && e.renderable)
                            if (e.calculateBounds(),
                            e._mask) {
                                var n = e._mask.isMaskData ? e._mask.maskObject : e._mask;
                                n ? (n.calculateBounds(),
                                this._bounds.addBoundsMask(e._bounds, n._bounds)) : this._bounds.addBounds(e._bounds)
                            } else
                                e.filterArea ? this._bounds.addBoundsArea(e._bounds, e.filterArea) : this._bounds.addBounds(e._bounds)
                    }
                    this._bounds.updateID = this._boundsID
                }
                ,
                e.prototype.getLocalBounds = function(e, n) {
                    void 0 === n && (n = !1);
                    var r = t.prototype.getLocalBounds.call(this, e);
                    if (!n)
                        for (var i = 0, o = this.children.length; i < o; ++i) {
                            var s = this.children[i];
                            s.visible && s.updateTransform()
                        }
                    return r
                }
                ,
                e.prototype._calculateBounds = function() {}
                ,
                e.prototype._renderWithCulling = function(t) {
                    var n = t.renderTexture.sourceFrame;
                    if (n.width > 0 && n.height > 0) {
                        var r, i;
                        if (this.cullArea ? (r = this.cullArea,
                        i = this.worldTransform) : this._render !== e.prototype._render && (r = this.getBounds(!0)),
                        r && n.intersects(r, i))
                            this._render(t);
                        else if (this.cullArea)
                            return;
                        for (var o = 0, s = this.children.length; o < s; ++o) {
                            var a = this.children[o]
                              , u = a.cullable;
                            a.cullable = u || !this.cullArea,
                            a.render(t),
                            a.cullable = u
                        }
                    }
                }
                ,
                e.prototype.render = function(t) {
                    if (this.visible && !(this.worldAlpha <= 0) && this.renderable)
                        if (this._mask || this.filters && this.filters.length)
                            this.renderAdvanced(t);
                        else if (this.cullable)
                            this._renderWithCulling(t);
                        else {
                            this._render(t);
                            for (var e = 0, n = this.children.length; e < n; ++e)
                                this.children[e].render(t)
                        }
                }
                ,
                e.prototype.renderAdvanced = function(t) {
                    var e = this.filters
                      , n = this._mask;
                    if (e) {
                        this._enabledFilters || (this._enabledFilters = []),
                        this._enabledFilters.length = 0;
                        for (var r = 0; r < e.length; r++)
                            e[r].enabled && this._enabledFilters.push(e[r])
                    }
                    var i = e && this._enabledFilters && this._enabledFilters.length || n && (!n.isMaskData || n.enabled && (n.autoDetect || n.type !== P.NONE));
                    if (i && t.batch.flush(),
                    e && this._enabledFilters && this._enabledFilters.length && t.filter.push(this, this._enabledFilters),
                    n && t.mask.push(this, this._mask),
                    this.cullable)
                        this._renderWithCulling(t);
                    else {
                        this._render(t),
                        r = 0;
                        for (var o = this.children.length; r < o; ++r)
                            this.children[r].render(t)
                    }
                    i && t.batch.flush(),
                    n && t.mask.pop(this),
                    e && this._enabledFilters && this._enabledFilters.length && t.filter.pop()
                }
                ,
                e.prototype._render = function(t) {}
                ,
                e.prototype.destroy = function(e) {
                    t.prototype.destroy.call(this),
                    this.sortDirty = !1;
                    var n = "boolean" == typeof e ? e : e && e.children
                      , r = this.removeChildren(0, this.children.length);
                    if (n)
                        for (var i = 0; i < r.length; ++i)
                            r[i].destroy(e)
                }
                ,
                Object.defineProperty(e.prototype, "width", {
                    get: function() {
                        return this.scale.x * this.getLocalBounds().width
                    },
                    set: function(t) {
                        var e = this.getLocalBounds().width;
                        this.scale.x = 0 !== e ? t / e : 1,
                        this._width = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "height", {
                    get: function() {
                        return this.scale.y * this.getLocalBounds().height
                    },
                    set: function(t) {
                        var e = this.getLocalBounds().height;
                        this.scale.y = 0 !== e ? t / e : 1,
                        this._height = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e
            }(ue);
            ce.prototype.containerUpdateTransform = ce.prototype.updateTransform;
            var de, pe = function() {
                return (pe = Object.assign || function(t) {
                    for (var e, n = arguments, r = 1, i = arguments.length; r < i; r++)
                        for (var o in e = n[r])
                            Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                    return t
                }
                ).apply(this, arguments)
            };
            !function(t) {
                t.Application = "application",
                t.RendererPlugin = "renderer-webgl-plugin",
                t.CanvasRendererPlugin = "renderer-canvas-plugin",
                t.Loader = "loader",
                t.LoadParser = "load-parser",
                t.ResolveParser = "resolve-parser",
                t.CacheParser = "cache-parser",
                t.DetectionParser = "detection-parser"
            }(de || (de = {}));
            var fe, me = function(t) {
                if ("function" == typeof t || "object" == typeof t && t.extension) {
                    if (!t.extension)
                        throw new Error("Extension class must have an extension object");
                    var e = "object" != typeof t.extension ? {
                        type: t.extension
                    } : t.extension;
                    t = pe(pe({}, e), {
                        ref: t
                    })
                }
                if ("object" != typeof t)
                    throw new Error("Invalid extension type");
                return "string" == typeof (t = pe({}, t)).type && (t.type = [t.type]),
                t
            }, _e = {
                _addHandlers: null,
                _removeHandlers: null,
                _queue: {},
                remove: function() {
                    for (var t = arguments, e = this, n = [], r = 0; r < arguments.length; r++)
                        n[r] = t[r];
                    return n.map(me).forEach((function(t) {
                        t.type.forEach((function(n) {
                            var r, i;
                            return null === (i = (r = e._removeHandlers)[n]) || void 0 === i ? void 0 : i.call(r, t)
                        }
                        ))
                    }
                    )),
                    this
                },
                add: function() {
                    for (var t = arguments, e = this, n = [], r = 0; r < arguments.length; r++)
                        n[r] = t[r];
                    return n.map(me).forEach((function(t) {
                        t.type.forEach((function(n) {
                            var r = e._addHandlers
                              , i = e._queue;
                            r[n] ? r[n](t) : (i[n] = i[n] || [],
                            i[n].push(t))
                        }
                        ))
                    }
                    )),
                    this
                },
                handle: function(t, e, n) {
                    var r = this._addHandlers = this._addHandlers || {}
                      , i = this._removeHandlers = this._removeHandlers || {};
                    if (r[t] || i[t])
                        throw new Error("Extension type " + t + " already has a handler");
                    r[t] = e,
                    i[t] = n;
                    var o = this._queue;
                    return o[t] && (o[t].forEach((function(t) {
                        return e(t)
                    }
                    )),
                    delete o[t]),
                    this
                },
                handleByMap: function(t, e) {
                    return this.handle(t, (function(t) {
                        e[t.name] = t.ref
                    }
                    ), (function(t) {
                        delete e[t.name]
                    }
                    ))
                },
                handleByList: function(t, e) {
                    return this.handle(t, (function(n) {
                        var r, i;
                        e.push(n.ref),
                        t === de.Loader && (null === (i = (r = n.ref).add) || void 0 === i || i.call(r))
                    }
                    ), (function(t) {
                        var n = e.indexOf(t.ref);
                        -1 !== n && e.splice(n, 1)
                    }
                    ))
                }
            }, ve = function() {
                function t(t) {
                    this.items = [],
                    this._name = t,
                    this._aliasCount = 0
                }
                return t.prototype.emit = function(t, e, n, r, i, o, s, a) {
                    if (arguments.length > 8)
                        throw new Error("max arguments reached");
                    var u = this
                      , h = u.name
                      , l = u.items;
                    this._aliasCount++;
                    for (var c = 0, d = l.length; c < d; c++)
                        l[c][h](t, e, n, r, i, o, s, a);
                    return l === this.items && this._aliasCount--,
                    this
                }
                ,
                t.prototype.ensureNonAliasedItems = function() {
                    this._aliasCount > 0 && this.items.length > 1 && (this._aliasCount = 0,
                    this.items = this.items.slice(0))
                }
                ,
                t.prototype.add = function(t) {
                    return t[this._name] && (this.ensureNonAliasedItems(),
                    this.remove(t),
                    this.items.push(t)),
                    this
                }
                ,
                t.prototype.remove = function(t) {
                    var e = this.items.indexOf(t);
                    return -1 !== e && (this.ensureNonAliasedItems(),
                    this.items.splice(e, 1)),
                    this
                }
                ,
                t.prototype.contains = function(t) {
                    return -1 !== this.items.indexOf(t)
                }
                ,
                t.prototype.removeAll = function() {
                    return this.ensureNonAliasedItems(),
                    this.items.length = 0,
                    this
                }
                ,
                t.prototype.destroy = function() {
                    this.removeAll(),
                    this.items = null,
                    this._name = null
                }
                ,
                Object.defineProperty(t.prototype, "empty", {
                    get: function() {
                        return 0 === this.items.length
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "name", {
                    get: function() {
                        return this._name
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t
            }();
            Object.defineProperties(ve.prototype, {
                dispatch: {
                    value: ve.prototype.emit
                },
                run: {
                    value: ve.prototype.emit
                }
            }),
            st.TARGET_FPMS = .06,
            function(t) {
                t[t.INTERACTION = 50] = "INTERACTION",
                t[t.HIGH = 25] = "HIGH",
                t[t.NORMAL = 0] = "NORMAL",
                t[t.LOW = -25] = "LOW",
                t[t.UTILITY = -50] = "UTILITY"
            }(fe || (fe = {}));
            var ge = function() {
                function t(t, e, n, r) {
                    void 0 === e && (e = null),
                    void 0 === n && (n = 0),
                    void 0 === r && (r = !1),
                    this.next = null,
                    this.previous = null,
                    this._destroyed = !1,
                    this.fn = t,
                    this.context = e,
                    this.priority = n,
                    this.once = r
                }
                return t.prototype.match = function(t, e) {
                    return void 0 === e && (e = null),
                    this.fn === t && this.context === e
                }
                ,
                t.prototype.emit = function(t) {
                    this.fn && (this.context ? this.fn.call(this.context, t) : this.fn(t));
                    var e = this.next;
                    return this.once && this.destroy(!0),
                    this._destroyed && (this.next = null),
                    e
                }
                ,
                t.prototype.connect = function(t) {
                    this.previous = t,
                    t.next && (t.next.previous = this),
                    this.next = t.next,
                    t.next = this
                }
                ,
                t.prototype.destroy = function(t) {
                    void 0 === t && (t = !1),
                    this._destroyed = !0,
                    this.fn = null,
                    this.context = null,
                    this.previous && (this.previous.next = this.next),
                    this.next && (this.next.previous = this.previous);
                    var e = this.next;
                    return this.next = t ? null : e,
                    this.previous = null,
                    e
                }
                ,
                t
            }()
              , ye = function() {
                function t() {
                    var t = this;
                    this.autoStart = !1,
                    this.deltaTime = 1,
                    this.lastTime = -1,
                    this.speed = 1,
                    this.started = !1,
                    this._requestId = null,
                    this._maxElapsedMS = 100,
                    this._minElapsedMS = 0,
                    this._protected = !1,
                    this._lastFrame = -1,
                    this._head = new ge(null,null,1 / 0),
                    this.deltaMS = 1 / st.TARGET_FPMS,
                    this.elapsedMS = 1 / st.TARGET_FPMS,
                    this._tick = function(e) {
                        t._requestId = null,
                        t.started && (t.update(e),
                        t.started && null === t._requestId && t._head.next && (t._requestId = requestAnimationFrame(t._tick)))
                    }
                }
                return t.prototype._requestIfNeeded = function() {
                    null === this._requestId && this._head.next && (this.lastTime = performance.now(),
                    this._lastFrame = this.lastTime,
                    this._requestId = requestAnimationFrame(this._tick))
                }
                ,
                t.prototype._cancelIfNeeded = function() {
                    null !== this._requestId && (cancelAnimationFrame(this._requestId),
                    this._requestId = null)
                }
                ,
                t.prototype._startIfPossible = function() {
                    this.started ? this._requestIfNeeded() : this.autoStart && this.start()
                }
                ,
                t.prototype.add = function(t, e, n) {
                    return void 0 === n && (n = fe.NORMAL),
                    this._addListener(new ge(t,e,n))
                }
                ,
                t.prototype.addOnce = function(t, e, n) {
                    return void 0 === n && (n = fe.NORMAL),
                    this._addListener(new ge(t,e,n,!0))
                }
                ,
                t.prototype._addListener = function(t) {
                    var e = this._head.next
                      , n = this._head;
                    if (e) {
                        for (; e; ) {
                            if (t.priority > e.priority) {
                                t.connect(n);
                                break
                            }
                            n = e,
                            e = e.next
                        }
                        t.previous || t.connect(n)
                    } else
                        t.connect(n);
                    return this._startIfPossible(),
                    this
                }
                ,
                t.prototype.remove = function(t, e) {
                    for (var n = this._head.next; n; )
                        n = n.match(t, e) ? n.destroy() : n.next;
                    return this._head.next || this._cancelIfNeeded(),
                    this
                }
                ,
                Object.defineProperty(t.prototype, "count", {
                    get: function() {
                        if (!this._head)
                            return 0;
                        for (var t = 0, e = this._head; e = e.next; )
                            t++;
                        return t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.start = function() {
                    this.started || (this.started = !0,
                    this._requestIfNeeded())
                }
                ,
                t.prototype.stop = function() {
                    this.started && (this.started = !1,
                    this._cancelIfNeeded())
                }
                ,
                t.prototype.destroy = function() {
                    if (!this._protected) {
                        this.stop();
                        for (var t = this._head.next; t; )
                            t = t.destroy(!0);
                        this._head.destroy(),
                        this._head = null
                    }
                }
                ,
                t.prototype.update = function(t) {
                    var e;
                    if (void 0 === t && (t = performance.now()),
                    t > this.lastTime) {
                        if ((e = this.elapsedMS = t - this.lastTime) > this._maxElapsedMS && (e = this._maxElapsedMS),
                        e *= this.speed,
                        this._minElapsedMS) {
                            var n = t - this._lastFrame | 0;
                            if (n < this._minElapsedMS)
                                return;
                            this._lastFrame = t - n % this._minElapsedMS
                        }
                        this.deltaMS = e,
                        this.deltaTime = this.deltaMS * st.TARGET_FPMS;
                        for (var r = this._head, i = r.next; i; )
                            i = i.emit(this.deltaTime);
                        r.next || this._cancelIfNeeded()
                    } else
                        this.deltaTime = this.deltaMS = this.elapsedMS = 0;
                    this.lastTime = t
                }
                ,
                Object.defineProperty(t.prototype, "FPS", {
                    get: function() {
                        return 1e3 / this.elapsedMS
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "minFPS", {
                    get: function() {
                        return 1e3 / this._maxElapsedMS
                    },
                    set: function(t) {
                        var e = Math.min(this.maxFPS, t)
                          , n = Math.min(Math.max(0, e) / 1e3, st.TARGET_FPMS);
                        this._maxElapsedMS = 1 / n
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "maxFPS", {
                    get: function() {
                        return this._minElapsedMS ? Math.round(1e3 / this._minElapsedMS) : 0
                    },
                    set: function(t) {
                        if (0 === t)
                            this._minElapsedMS = 0;
                        else {
                            var e = Math.max(this.minFPS, t);
                            this._minElapsedMS = 1 / (e / 1e3)
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t, "shared", {
                    get: function() {
                        if (!t._shared) {
                            var e = t._shared = new t;
                            e.autoStart = !0,
                            e._protected = !0
                        }
                        return t._shared
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t, "system", {
                    get: function() {
                        if (!t._system) {
                            var e = t._system = new t;
                            e.autoStart = !0,
                            e._protected = !0
                        }
                        return t._system
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t
            }()
              , be = function() {
                function t() {}
                return t.init = function(t) {
                    var e = this;
                    t = Object.assign({
                        autoStart: !0,
                        sharedTicker: !1
                    }, t),
                    Object.defineProperty(this, "ticker", {
                        set: function(t) {
                            this._ticker && this._ticker.remove(this.render, this),
                            this._ticker = t,
                            t && t.add(this.render, this, fe.LOW)
                        },
                        get: function() {
                            return this._ticker
                        }
                    }),
                    this.stop = function() {
                        e._ticker.stop()
                    }
                    ,
                    this.start = function() {
                        e._ticker.start()
                    }
                    ,
                    this._ticker = null,
                    this.ticker = t.sharedTicker ? ye.shared : new ye,
                    t.autoStart && this.start()
                }
                ,
                t.destroy = function() {
                    if (this._ticker) {
                        var t = this._ticker;
                        this.ticker = null,
                        t.destroy()
                    }
                }
                ,
                t.extension = de.Application,
                t
            }();
            st.PREFER_ENV = ot.any ? v.WEBGL : v.WEBGL2,
            st.STRICT_TEXTURE_CACHE = !1;
            var xe = [];
            function Te(t, e) {
                if (!t)
                    return null;
                var n = "";
                if ("string" == typeof t) {
                    var r = /\.(\w{3,4})(?:$|\?|#)/i.exec(t);
                    r && (n = r[1].toLowerCase())
                }
                for (var i = xe.length - 1; i >= 0; --i) {
                    var o = xe[i];
                    if (o.test && o.test(t, n))
                        return new o(t,e)
                }
                throw new Error("Unrecognized source type to auto-detect Resource")
            }
            var Ee = function(t, e) {
                return (Ee = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            function Ae(t, e) {
                function n() {
                    this.constructor = t
                }
                Ee(t, e),
                t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                new n)
            }
            var Se = function() {
                return (Se = Object.assign || function(t) {
                    for (var e, n = arguments, r = 1, i = arguments.length; r < i; r++)
                        for (var o in e = n[r])
                            Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                    return t
                }
                ).apply(this, arguments)
            }
              , we = function() {
                function t(t, e) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = 0),
                    this._width = t,
                    this._height = e,
                    this.destroyed = !1,
                    this.internal = !1,
                    this.onResize = new ve("setRealSize"),
                    this.onUpdate = new ve("update"),
                    this.onError = new ve("onError")
                }
                return t.prototype.bind = function(t) {
                    this.onResize.add(t),
                    this.onUpdate.add(t),
                    this.onError.add(t),
                    (this._width || this._height) && this.onResize.emit(this._width, this._height)
                }
                ,
                t.prototype.unbind = function(t) {
                    this.onResize.remove(t),
                    this.onUpdate.remove(t),
                    this.onError.remove(t)
                }
                ,
                t.prototype.resize = function(t, e) {
                    t === this._width && e === this._height || (this._width = t,
                    this._height = e,
                    this.onResize.emit(t, e))
                }
                ,
                Object.defineProperty(t.prototype, "valid", {
                    get: function() {
                        return !!this._width && !!this._height
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.update = function() {
                    this.destroyed || this.onUpdate.emit()
                }
                ,
                t.prototype.load = function() {
                    return Promise.resolve(this)
                }
                ,
                Object.defineProperty(t.prototype, "width", {
                    get: function() {
                        return this._width
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "height", {
                    get: function() {
                        return this._height
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.style = function(t, e, n) {
                    return !1
                }
                ,
                t.prototype.dispose = function() {}
                ,
                t.prototype.destroy = function() {
                    this.destroyed || (this.destroyed = !0,
                    this.dispose(),
                    this.onError.removeAll(),
                    this.onError = null,
                    this.onResize.removeAll(),
                    this.onResize = null,
                    this.onUpdate.removeAll(),
                    this.onUpdate = null)
                }
                ,
                t.test = function(t, e) {
                    return !1
                }
                ,
                t
            }()
              , Re = function(t) {
                function e(e, n) {
                    var r = this
                      , i = n || {}
                      , o = i.width
                      , s = i.height;
                    if (!o || !s)
                        throw new Error("BufferResource width or height invalid");
                    return (r = t.call(this, o, s) || this).data = e,
                    r
                }
                return Ae(e, t),
                e.prototype.upload = function(t, e, n) {
                    var r = t.gl;
                    r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL, e.alphaMode === I.UNPACK);
                    var i = e.realWidth
                      , o = e.realHeight;
                    return n.width === i && n.height === o ? r.texSubImage2D(e.target, 0, 0, 0, i, o, e.format, n.type, this.data) : (n.width = i,
                    n.height = o,
                    r.texImage2D(e.target, 0, n.internalFormat, i, o, 0, e.format, n.type, this.data)),
                    !0
                }
                ,
                e.prototype.dispose = function() {
                    this.data = null
                }
                ,
                e.test = function(t) {
                    return t instanceof Float32Array || t instanceof Uint8Array || t instanceof Uint32Array
                }
                ,
                e
            }(we)
              , Oe = {
                scaleMode: w.NEAREST,
                format: T.RGBA,
                alphaMode: I.NPM
            }
              , Ie = function(t) {
                function e(e, n) {
                    void 0 === e && (e = null),
                    void 0 === n && (n = null);
                    var r = t.call(this) || this
                      , i = (n = n || {}).alphaMode
                      , o = n.mipmap
                      , s = n.anisotropicLevel
                      , a = n.scaleMode
                      , u = n.width
                      , h = n.height
                      , l = n.wrapMode
                      , c = n.format
                      , d = n.type
                      , p = n.target
                      , f = n.resolution
                      , m = n.resourceOptions;
                    return !e || e instanceof we || ((e = Te(e, m)).internal = !0),
                    r.resolution = f || st.RESOLUTION,
                    r.width = Math.round((u || 0) * r.resolution) / r.resolution,
                    r.height = Math.round((h || 0) * r.resolution) / r.resolution,
                    r._mipmap = void 0 !== o ? o : st.MIPMAP_TEXTURES,
                    r.anisotropicLevel = void 0 !== s ? s : st.ANISOTROPIC_LEVEL,
                    r._wrapMode = l || st.WRAP_MODE,
                    r._scaleMode = void 0 !== a ? a : st.SCALE_MODE,
                    r.format = c || T.RGBA,
                    r.type = d || A.UNSIGNED_BYTE,
                    r.target = p || E.TEXTURE_2D,
                    r.alphaMode = void 0 !== i ? i : I.UNPACK,
                    r.uid = Ot(),
                    r.touched = 0,
                    r.isPowerOfTwo = !1,
                    r._refreshPOT(),
                    r._glTextures = {},
                    r.dirtyId = 0,
                    r.dirtyStyleId = 0,
                    r.cacheId = null,
                    r.valid = u > 0 && h > 0,
                    r.textureCacheIds = [],
                    r.destroyed = !1,
                    r.resource = null,
                    r._batchEnabled = 0,
                    r._batchLocation = 0,
                    r.parentTextureArray = null,
                    r.setResource(e),
                    r
                }
                return Ae(e, t),
                Object.defineProperty(e.prototype, "realWidth", {
                    get: function() {
                        return Math.round(this.width * this.resolution)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "realHeight", {
                    get: function() {
                        return Math.round(this.height * this.resolution)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "mipmap", {
                    get: function() {
                        return this._mipmap
                    },
                    set: function(t) {
                        this._mipmap !== t && (this._mipmap = t,
                        this.dirtyStyleId++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "scaleMode", {
                    get: function() {
                        return this._scaleMode
                    },
                    set: function(t) {
                        this._scaleMode !== t && (this._scaleMode = t,
                        this.dirtyStyleId++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "wrapMode", {
                    get: function() {
                        return this._wrapMode
                    },
                    set: function(t) {
                        this._wrapMode !== t && (this._wrapMode = t,
                        this.dirtyStyleId++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.setStyle = function(t, e) {
                    var n;
                    return void 0 !== t && t !== this.scaleMode && (this.scaleMode = t,
                    n = !0),
                    void 0 !== e && e !== this.mipmap && (this.mipmap = e,
                    n = !0),
                    n && this.dirtyStyleId++,
                    this
                }
                ,
                e.prototype.setSize = function(t, e, n) {
                    return n = n || this.resolution,
                    this.setRealSize(t * n, e * n, n)
                }
                ,
                e.prototype.setRealSize = function(t, e, n) {
                    return this.resolution = n || this.resolution,
                    this.width = Math.round(t) / this.resolution,
                    this.height = Math.round(e) / this.resolution,
                    this._refreshPOT(),
                    this.update(),
                    this
                }
                ,
                e.prototype._refreshPOT = function() {
                    this.isPowerOfTwo = Et(this.realWidth) && Et(this.realHeight)
                }
                ,
                e.prototype.setResolution = function(t) {
                    var e = this.resolution;
                    return e === t || (this.resolution = t,
                    this.valid && (this.width = Math.round(this.width * e) / t,
                    this.height = Math.round(this.height * e) / t,
                    this.emit("update", this)),
                    this._refreshPOT()),
                    this
                }
                ,
                e.prototype.setResource = function(t) {
                    if (this.resource === t)
                        return this;
                    if (this.resource)
                        throw new Error("Resource can be set only once");
                    return t.bind(this),
                    this.resource = t,
                    this
                }
                ,
                e.prototype.update = function() {
                    this.valid ? (this.dirtyId++,
                    this.dirtyStyleId++,
                    this.emit("update", this)) : this.width > 0 && this.height > 0 && (this.valid = !0,
                    this.emit("loaded", this),
                    this.emit("update", this))
                }
                ,
                e.prototype.onError = function(t) {
                    this.emit("error", this, t)
                }
                ,
                e.prototype.destroy = function() {
                    this.resource && (this.resource.unbind(this),
                    this.resource.internal && this.resource.destroy(),
                    this.resource = null),
                    this.cacheId && (delete Nt[this.cacheId],
                    delete Pt[this.cacheId],
                    this.cacheId = null),
                    this.dispose(),
                    e.removeFromCache(this),
                    this.textureCacheIds = null,
                    this.destroyed = !0
                }
                ,
                e.prototype.dispose = function() {
                    this.emit("dispose", this)
                }
                ,
                e.prototype.castToBaseTexture = function() {
                    return this
                }
                ,
                e.from = function(t, n, r) {
                    void 0 === r && (r = st.STRICT_TEXTURE_CACHE);
                    var i = "string" == typeof t
                      , o = null;
                    if (i)
                        o = t;
                    else {
                        if (!t._pixiId) {
                            var s = n && n.pixiIdPrefix || "pixiid";
                            t._pixiId = s + "_" + Ot()
                        }
                        o = t._pixiId
                    }
                    var a = Nt[o];
                    if (i && r && !a)
                        throw new Error('The cacheId "' + o + '" does not exist in BaseTextureCache.');
                    return a || ((a = new e(t,n)).cacheId = o,
                    e.addToCache(a, o)),
                    a
                }
                ,
                e.fromBuffer = function(t, n, r, i) {
                    t = t || new Float32Array(n * r * 4);
                    var o = new Re(t,{
                        width: n,
                        height: r
                    })
                      , s = t instanceof Float32Array ? A.FLOAT : A.UNSIGNED_BYTE;
                    return new e(o,Object.assign({}, Oe, i || {
                        width: n,
                        height: r,
                        type: s
                    }))
                }
                ,
                e.addToCache = function(t, e) {
                    e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e),
                    Nt[e] && console.warn("BaseTexture added to the cache with an id [" + e + "] that already had an entry"),
                    Nt[e] = t)
                }
                ,
                e.removeFromCache = function(t) {
                    if ("string" == typeof t) {
                        var e = Nt[t];
                        if (e) {
                            var n = e.textureCacheIds.indexOf(t);
                            return n > -1 && e.textureCacheIds.splice(n, 1),
                            delete Nt[t],
                            e
                        }
                    } else if (t && t.textureCacheIds) {
                        for (var r = 0; r < t.textureCacheIds.length; ++r)
                            delete Nt[t.textureCacheIds[r]];
                        return t.textureCacheIds.length = 0,
                        t
                    }
                    return null
                }
                ,
                e._globalBatch = 0,
                e
            }(at)
              , Ce = function(t) {
                function e(e, n) {
                    var r = this
                      , i = n || {}
                      , o = i.width
                      , s = i.height;
                    (r = t.call(this, o, s) || this).items = [],
                    r.itemDirtyIds = [];
                    for (var a = 0; a < e; a++) {
                        var u = new Ie;
                        r.items.push(u),
                        r.itemDirtyIds.push(-2)
                    }
                    return r.length = e,
                    r._load = null,
                    r.baseTexture = null,
                    r
                }
                return Ae(e, t),
                e.prototype.initFromArray = function(t, e) {
                    for (var n = 0; n < this.length; n++)
                        t[n] && (t[n].castToBaseTexture ? this.addBaseTextureAt(t[n].castToBaseTexture(), n) : t[n]instanceof we ? this.addResourceAt(t[n], n) : this.addResourceAt(Te(t[n], e), n))
                }
                ,
                e.prototype.dispose = function() {
                    for (var t = 0, e = this.length; t < e; t++)
                        this.items[t].destroy();
                    this.items = null,
                    this.itemDirtyIds = null,
                    this._load = null
                }
                ,
                e.prototype.addResourceAt = function(t, e) {
                    if (!this.items[e])
                        throw new Error("Index " + e + " is out of bounds");
                    return t.valid && !this.valid && this.resize(t.width, t.height),
                    this.items[e].setResource(t),
                    this
                }
                ,
                e.prototype.bind = function(e) {
                    if (null !== this.baseTexture)
                        throw new Error("Only one base texture per TextureArray is allowed");
                    t.prototype.bind.call(this, e);
                    for (var n = 0; n < this.length; n++)
                        this.items[n].parentTextureArray = e,
                        this.items[n].on("update", e.update, e)
                }
                ,
                e.prototype.unbind = function(e) {
                    t.prototype.unbind.call(this, e);
                    for (var n = 0; n < this.length; n++)
                        this.items[n].parentTextureArray = null,
                        this.items[n].off("update", e.update, e)
                }
                ,
                e.prototype.load = function() {
                    var t = this;
                    if (this._load)
                        return this._load;
                    var e = this.items.map((function(t) {
                        return t.resource
                    }
                    )).filter((function(t) {
                        return t
                    }
                    )).map((function(t) {
                        return t.load()
                    }
                    ));
                    return this._load = Promise.all(e).then((function() {
                        var e = t.items[0]
                          , n = e.realWidth
                          , r = e.realHeight;
                        return t.resize(n, r),
                        Promise.resolve(t)
                    }
                    )),
                    this._load
                }
                ,
                e
            }(we)
              , De = function(t) {
                function e(e, n) {
                    var r, i, o = this, s = n || {}, a = s.width, u = s.height;
                    return Array.isArray(e) ? (r = e,
                    i = e.length) : i = e,
                    o = t.call(this, i, {
                        width: a,
                        height: u
                    }) || this,
                    r && o.initFromArray(r, n),
                    o
                }
                return Ae(e, t),
                e.prototype.addBaseTextureAt = function(t, e) {
                    if (!t.resource)
                        throw new Error("ArrayResource does not support RenderTexture");
                    return this.addResourceAt(t.resource, e),
                    this
                }
                ,
                e.prototype.bind = function(e) {
                    t.prototype.bind.call(this, e),
                    e.target = E.TEXTURE_2D_ARRAY
                }
                ,
                e.prototype.upload = function(t, e, n) {
                    var r = this
                      , i = r.length
                      , o = r.itemDirtyIds
                      , s = r.items
                      , a = t.gl;
                    n.dirtyId < 0 && a.texImage3D(a.TEXTURE_2D_ARRAY, 0, n.internalFormat, this._width, this._height, i, 0, e.format, n.type, null);
                    for (var u = 0; u < i; u++) {
                        var h = s[u];
                        o[u] < h.dirtyId && (o[u] = h.dirtyId,
                        h.valid && a.texSubImage3D(a.TEXTURE_2D_ARRAY, 0, 0, 0, u, h.resource.width, h.resource.height, 1, e.format, n.type, h.resource.source))
                    }
                    return !0
                }
                ,
                e
            }(Ce)
              , Me = function(t) {
                function e(e) {
                    var n = this
                      , r = e
                      , i = r.naturalWidth || r.videoWidth || r.width
                      , o = r.naturalHeight || r.videoHeight || r.height;
                    return (n = t.call(this, i, o) || this).source = e,
                    n.noSubImage = !1,
                    n
                }
                return Ae(e, t),
                e.crossOrigin = function(t, e, n) {
                    void 0 === n && 0 !== e.indexOf("data:") ? t.crossOrigin = function(t, e) {
                        if (void 0 === e && (e = globalThis.location),
                        0 === t.indexOf("data:"))
                            return "";
                        e = e || globalThis.location,
                        Dt || (Dt = document.createElement("a")),
                        Dt.href = t;
                        var n = lt.parse(Dt.href)
                          , r = !n.port && "" === e.port || n.port === e.port;
                        return n.hostname === e.hostname && r && n.protocol === e.protocol ? "" : "anonymous"
                    }(e) : !1 !== n && (t.crossOrigin = "string" == typeof n ? n : "anonymous")
                }
                ,
                e.prototype.upload = function(t, e, n, r) {
                    var i = t.gl
                      , o = e.realWidth
                      , s = e.realHeight;
                    if ((r = r || this.source)instanceof HTMLImageElement) {
                        if (!r.complete || 0 === r.naturalWidth)
                            return !1
                    } else if (r instanceof HTMLVideoElement && r.readyState <= 1)
                        return !1;
                    return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, e.alphaMode === I.UNPACK),
                    this.noSubImage || e.target !== i.TEXTURE_2D || n.width !== o || n.height !== s ? (n.width = o,
                    n.height = s,
                    i.texImage2D(e.target, 0, n.internalFormat, e.format, n.type, r)) : i.texSubImage2D(i.TEXTURE_2D, 0, 0, 0, e.format, n.type, r),
                    !0
                }
                ,
                e.prototype.update = function() {
                    if (!this.destroyed) {
                        var e = this.source
                          , n = e.naturalWidth || e.videoWidth || e.width
                          , r = e.naturalHeight || e.videoHeight || e.height;
                        this.resize(n, r),
                        t.prototype.update.call(this)
                    }
                }
                ,
                e.prototype.dispose = function() {
                    this.source = null
                }
                ,
                e
            }(we)
              , Pe = function(t) {
                function e(e) {
                    return t.call(this, e) || this
                }
                return Ae(e, t),
                e.test = function(t) {
                    var e = globalThis.OffscreenCanvas;
                    return !!(e && t instanceof e) || globalThis.HTMLCanvasElement && t instanceof HTMLCanvasElement
                }
                ,
                e
            }(Me)
              , Ne = function(t) {
                function e(n, r) {
                    var i = this
                      , o = r || {}
                      , s = o.width
                      , a = o.height
                      , u = o.autoLoad
                      , h = o.linkBaseTexture;
                    if (n && n.length !== e.SIDES)
                        throw new Error("Invalid length. Got " + n.length + ", expected 6");
                    i = t.call(this, 6, {
                        width: s,
                        height: a
                    }) || this;
                    for (var l = 0; l < e.SIDES; l++)
                        i.items[l].target = E.TEXTURE_CUBE_MAP_POSITIVE_X + l;
                    return i.linkBaseTexture = !1 !== h,
                    n && i.initFromArray(n, r),
                    !1 !== u && i.load(),
                    i
                }
                return Ae(e, t),
                e.prototype.bind = function(e) {
                    t.prototype.bind.call(this, e),
                    e.target = E.TEXTURE_CUBE_MAP
                }
                ,
                e.prototype.addBaseTextureAt = function(t, e, n) {
                    if (!this.items[e])
                        throw new Error("Index " + e + " is out of bounds");
                    if (!this.linkBaseTexture || t.parentTextureArray || Object.keys(t._glTextures).length > 0) {
                        if (!t.resource)
                            throw new Error("CubeResource does not support copying of renderTexture.");
                        this.addResourceAt(t.resource, e)
                    } else
                        t.target = E.TEXTURE_CUBE_MAP_POSITIVE_X + e,
                        t.parentTextureArray = this.baseTexture,
                        this.items[e] = t;
                    return t.valid && !this.valid && this.resize(t.realWidth, t.realHeight),
                    this.items[e] = t,
                    this
                }
                ,
                e.prototype.upload = function(t, n, r) {
                    for (var i = this.itemDirtyIds, o = 0; o < e.SIDES; o++) {
                        var s = this.items[o];
                        (i[o] < s.dirtyId || r.dirtyId < n.dirtyId) && (s.valid && s.resource ? (s.resource.upload(t, s, r),
                        i[o] = s.dirtyId) : i[o] < -1 && (t.gl.texImage2D(s.target, 0, r.internalFormat, n.realWidth, n.realHeight, 0, n.format, r.type, null),
                        i[o] = -1))
                    }
                    return !0
                }
                ,
                e.test = function(t) {
                    return Array.isArray(t) && t.length === e.SIDES
                }
                ,
                e.SIDES = 6,
                e
            }(Ce)
              , Be = function(t) {
                function e(e, n) {
                    var r = this;
                    if (n = n || {},
                    !(e instanceof HTMLImageElement)) {
                        var i = new Image;
                        Me.crossOrigin(i, e, n.crossorigin),
                        i.src = e,
                        e = i
                    }
                    return r = t.call(this, e) || this,
                    !e.complete && r._width && r._height && (r._width = 0,
                    r._height = 0),
                    r.url = e.src,
                    r._process = null,
                    r.preserveBitmap = !1,
                    r.createBitmap = (void 0 !== n.createBitmap ? n.createBitmap : st.CREATE_IMAGE_BITMAP) && !!globalThis.createImageBitmap,
                    r.alphaMode = "number" == typeof n.alphaMode ? n.alphaMode : null,
                    r.bitmap = null,
                    r._load = null,
                    !1 !== n.autoLoad && r.load(),
                    r
                }
                return Ae(e, t),
                e.prototype.load = function(t) {
                    var e = this;
                    return this._load || (void 0 !== t && (this.createBitmap = t),
                    this._load = new Promise((function(t, n) {
                        var r = e.source;
                        e.url = r.src;
                        var i = function() {
                            e.destroyed || (r.onload = null,
                            r.onerror = null,
                            e.resize(r.width, r.height),
                            e._load = null,
                            e.createBitmap ? t(e.process()) : t(e))
                        };
                        r.complete && r.src ? i() : (r.onload = i,
                        r.onerror = function(t) {
                            n(t),
                            e.onError.emit(t)
                        }
                        )
                    }
                    ))),
                    this._load
                }
                ,
                e.prototype.process = function() {
                    var t = this
                      , e = this.source;
                    if (null !== this._process)
                        return this._process;
                    if (null !== this.bitmap || !globalThis.createImageBitmap)
                        return Promise.resolve(this);
                    var n = globalThis.createImageBitmap
                      , r = !e.crossOrigin || "anonymous" === e.crossOrigin;
                    return this._process = fetch(e.src, {
                        mode: r ? "cors" : "no-cors"
                    }).then((function(t) {
                        return t.blob()
                    }
                    )).then((function(r) {
                        return n(r, 0, 0, e.width, e.height, {
                            premultiplyAlpha: null === t.alphaMode || t.alphaMode === I.UNPACK ? "premultiply" : "none"
                        })
                    }
                    )).then((function(e) {
                        return t.destroyed ? Promise.reject() : (t.bitmap = e,
                        t.update(),
                        t._process = null,
                        Promise.resolve(t))
                    }
                    )),
                    this._process
                }
                ,
                e.prototype.upload = function(e, n, r) {
                    if ("number" == typeof this.alphaMode && (n.alphaMode = this.alphaMode),
                    !this.createBitmap)
                        return t.prototype.upload.call(this, e, n, r);
                    if (!this.bitmap && (this.process(),
                    !this.bitmap))
                        return !1;
                    if (t.prototype.upload.call(this, e, n, r, this.bitmap),
                    !this.preserveBitmap) {
                        var i = !0
                          , o = n._glTextures;
                        for (var s in o) {
                            var a = o[s];
                            if (a !== r && a.dirtyId !== n.dirtyId) {
                                i = !1;
                                break
                            }
                        }
                        i && (this.bitmap.close && this.bitmap.close(),
                        this.bitmap = null)
                    }
                    return !0
                }
                ,
                e.prototype.dispose = function() {
                    this.source.onload = null,
                    this.source.onerror = null,
                    t.prototype.dispose.call(this),
                    this.bitmap && (this.bitmap.close(),
                    this.bitmap = null),
                    this._process = null,
                    this._load = null
                }
                ,
                e.test = function(t) {
                    return "string" == typeof t || t instanceof HTMLImageElement
                }
                ,
                e
            }(Me)
              , Le = function(t) {
                function e(e, n) {
                    var r = this;
                    return n = n || {},
                    (r = t.call(this, st.ADAPTER.createCanvas()) || this)._width = 0,
                    r._height = 0,
                    r.svg = e,
                    r.scale = n.scale || 1,
                    r._overrideWidth = n.width,
                    r._overrideHeight = n.height,
                    r._resolve = null,
                    r._crossorigin = n.crossorigin,
                    r._load = null,
                    !1 !== n.autoLoad && r.load(),
                    r
                }
                return Ae(e, t),
                e.prototype.load = function() {
                    var t = this;
                    return this._load || (this._load = new Promise((function(n) {
                        if (t._resolve = function() {
                            t.resize(t.source.width, t.source.height),
                            n(t)
                        }
                        ,
                        e.SVG_XML.test(t.svg.trim())) {
                            if (!btoa)
                                throw new Error("Your browser doesn't support base64 conversions.");
                            t.svg = "data:image/svg+xml;base64," + btoa(unescape(encodeURIComponent(t.svg)))
                        }
                        t._loadSvg()
                    }
                    ))),
                    this._load
                }
                ,
                e.prototype._loadSvg = function() {
                    var t = this
                      , e = new Image;
                    Me.crossOrigin(e, this.svg, this._crossorigin),
                    e.src = this.svg,
                    e.onerror = function(n) {
                        t._resolve && (e.onerror = null,
                        t.onError.emit(n))
                    }
                    ,
                    e.onload = function() {
                        if (t._resolve) {
                            var n = e.width
                              , r = e.height;
                            if (!n || !r)
                                throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
                            var i = n * t.scale
                              , o = r * t.scale;
                            (t._overrideWidth || t._overrideHeight) && (i = t._overrideWidth || t._overrideHeight / r * n,
                            o = t._overrideHeight || t._overrideWidth / n * r),
                            i = Math.round(i),
                            o = Math.round(o);
                            var s = t.source;
                            s.width = i,
                            s.height = o,
                            s._pixiId = "canvas_" + Ot(),
                            s.getContext("2d").drawImage(e, 0, 0, n, r, 0, 0, i, o),
                            t._resolve(),
                            t._resolve = null
                        }
                    }
                }
                ,
                e.getSize = function(t) {
                    var n = e.SVG_SIZE.exec(t)
                      , r = {};
                    return n && (r[n[1]] = Math.round(parseFloat(n[3])),
                    r[n[5]] = Math.round(parseFloat(n[7]))),
                    r
                }
                ,
                e.prototype.dispose = function() {
                    t.prototype.dispose.call(this),
                    this._resolve = null,
                    this._crossorigin = null
                }
                ,
                e.test = function(t, n) {
                    return "svg" === n || "string" == typeof t && t.startsWith("data:image/svg+xml") || "string" == typeof t && e.SVG_XML.test(t)
                }
                ,
                e.SVG_XML = /^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,
                e.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,
                e
            }(Me)
              , Fe = function(t) {
                function e(n, r) {
                    var i = this;
                    if (r = r || {},
                    !(n instanceof HTMLVideoElement)) {
                        var o = document.createElement("video");
                        o.setAttribute("preload", "auto"),
                        o.setAttribute("webkit-playsinline", ""),
                        o.setAttribute("playsinline", ""),
                        "string" == typeof n && (n = [n]);
                        var s = n[0].src || n[0];
                        Me.crossOrigin(o, s, r.crossorigin);
                        for (var a = 0; a < n.length; ++a) {
                            var u = document.createElement("source")
                              , h = n[a]
                              , l = h.src
                              , c = h.mime
                              , d = (l = l || n[a]).split("?").shift().toLowerCase()
                              , p = d.slice(d.lastIndexOf(".") + 1);
                            c = c || e.MIME_TYPES[p] || "video/" + p,
                            u.src = l,
                            u.type = c,
                            o.appendChild(u)
                        }
                        n = o
                    }
                    return (i = t.call(this, n) || this).noSubImage = !0,
                    i._autoUpdate = !0,
                    i._isConnectedToTicker = !1,
                    i._updateFPS = r.updateFPS || 0,
                    i._msToNextUpdate = 0,
                    i.autoPlay = !1 !== r.autoPlay,
                    i._load = null,
                    i._resolve = null,
                    i._onCanPlay = i._onCanPlay.bind(i),
                    i._onError = i._onError.bind(i),
                    !1 !== r.autoLoad && i.load(),
                    i
                }
                return Ae(e, t),
                e.prototype.update = function(e) {
                    if (!this.destroyed) {
                        var n = ye.shared.elapsedMS * this.source.playbackRate;
                        this._msToNextUpdate = Math.floor(this._msToNextUpdate - n),
                        (!this._updateFPS || this._msToNextUpdate <= 0) && (t.prototype.update.call(this),
                        this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0)
                    }
                }
                ,
                e.prototype.load = function() {
                    var t = this;
                    if (this._load)
                        return this._load;
                    var e = this.source;
                    return (e.readyState === e.HAVE_ENOUGH_DATA || e.readyState === e.HAVE_FUTURE_DATA) && e.width && e.height && (e.complete = !0),
                    e.addEventListener("play", this._onPlayStart.bind(this)),
                    e.addEventListener("pause", this._onPlayStop.bind(this)),
                    this._isSourceReady() ? this._onCanPlay() : (e.addEventListener("canplay", this._onCanPlay),
                    e.addEventListener("canplaythrough", this._onCanPlay),
                    e.addEventListener("error", this._onError, !0)),
                    this._load = new Promise((function(n) {
                        t.valid ? n(t) : (t._resolve = n,
                        e.load())
                    }
                    )),
                    this._load
                }
                ,
                e.prototype._onError = function(t) {
                    this.source.removeEventListener("error", this._onError, !0),
                    this.onError.emit(t)
                }
                ,
                e.prototype._isSourcePlaying = function() {
                    var t = this.source;
                    return !t.paused && !t.ended && this._isSourceReady()
                }
                ,
                e.prototype._isSourceReady = function() {
                    return this.source.readyState > 2
                }
                ,
                e.prototype._onPlayStart = function() {
                    this.valid || this._onCanPlay(),
                    this.autoUpdate && !this._isConnectedToTicker && (ye.shared.add(this.update, this),
                    this._isConnectedToTicker = !0)
                }
                ,
                e.prototype._onPlayStop = function() {
                    this._isConnectedToTicker && (ye.shared.remove(this.update, this),
                    this._isConnectedToTicker = !1)
                }
                ,
                e.prototype._onCanPlay = function() {
                    var t = this.source;
                    t.removeEventListener("canplay", this._onCanPlay),
                    t.removeEventListener("canplaythrough", this._onCanPlay);
                    var e = this.valid;
                    this.resize(t.videoWidth, t.videoHeight),
                    !e && this._resolve && (this._resolve(this),
                    this._resolve = null),
                    this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && t.play()
                }
                ,
                e.prototype.dispose = function() {
                    this._isConnectedToTicker && (ye.shared.remove(this.update, this),
                    this._isConnectedToTicker = !1);
                    var e = this.source;
                    e && (e.removeEventListener("error", this._onError, !0),
                    e.pause(),
                    e.src = "",
                    e.load()),
                    t.prototype.dispose.call(this)
                }
                ,
                Object.defineProperty(e.prototype, "autoUpdate", {
                    get: function() {
                        return this._autoUpdate
                    },
                    set: function(t) {
                        t !== this._autoUpdate && (this._autoUpdate = t,
                        !this._autoUpdate && this._isConnectedToTicker ? (ye.shared.remove(this.update, this),
                        this._isConnectedToTicker = !1) : this._autoUpdate && !this._isConnectedToTicker && this._isSourcePlaying() && (ye.shared.add(this.update, this),
                        this._isConnectedToTicker = !0))
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "updateFPS", {
                    get: function() {
                        return this._updateFPS
                    },
                    set: function(t) {
                        t !== this._updateFPS && (this._updateFPS = t)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.test = function(t, n) {
                    return globalThis.HTMLVideoElement && t instanceof HTMLVideoElement || e.TYPES.indexOf(n) > -1
                }
                ,
                e.TYPES = ["mp4", "m4v", "webm", "ogg", "ogv", "h264", "avi", "mov"],
                e.MIME_TYPES = {
                    ogv: "video/ogg",
                    mov: "video/quicktime",
                    m4v: "video/mp4"
                },
                e
            }(Me)
              , Ge = function(t) {
                function e(e) {
                    return t.call(this, e) || this
                }
                return Ae(e, t),
                e.test = function(t) {
                    return !!globalThis.createImageBitmap && "undefined" != typeof ImageBitmap && t instanceof ImageBitmap
                }
                ,
                e
            }(Me);
            xe.push(Be, Ge, Pe, Fe, Le, Re, Ne, De);
            var ke = {
                __proto__: null,
                Resource: we,
                BaseImageResource: Me,
                INSTALLED: xe,
                autoDetectResource: Te,
                AbstractMultiResource: Ce,
                ArrayResource: De,
                BufferResource: Re,
                CanvasResource: Pe,
                CubeResource: Ne,
                ImageResource: Be,
                SVGResource: Le,
                VideoResource: Fe,
                ImageBitmapResource: Ge
            }
              , Ue = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return Ae(e, t),
                e.prototype.upload = function(t, e, n) {
                    var r = t.gl;
                    r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL, e.alphaMode === I.UNPACK);
                    var i = e.realWidth
                      , o = e.realHeight;
                    return n.width === i && n.height === o ? r.texSubImage2D(e.target, 0, 0, 0, i, o, e.format, n.type, this.data) : (n.width = i,
                    n.height = o,
                    r.texImage2D(e.target, 0, n.internalFormat, i, o, 0, e.format, n.type, this.data)),
                    !0
                }
                ,
                e
            }(Re)
              , Xe = function() {
                function t(t, e) {
                    this.width = Math.round(t || 100),
                    this.height = Math.round(e || 100),
                    this.stencil = !1,
                    this.depth = !1,
                    this.dirtyId = 0,
                    this.dirtyFormat = 0,
                    this.dirtySize = 0,
                    this.depthTexture = null,
                    this.colorTextures = [],
                    this.glFramebuffers = {},
                    this.disposeRunner = new ve("disposeFramebuffer"),
                    this.multisample = B.NONE
                }
                return Object.defineProperty(t.prototype, "colorTexture", {
                    get: function() {
                        return this.colorTextures[0]
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.addColorTexture = function(t, e) {
                    return void 0 === t && (t = 0),
                    this.colorTextures[t] = e || new Ie(null,{
                        scaleMode: w.NEAREST,
                        resolution: 1,
                        mipmap: O.OFF,
                        width: this.width,
                        height: this.height
                    }),
                    this.dirtyId++,
                    this.dirtyFormat++,
                    this
                }
                ,
                t.prototype.addDepthTexture = function(t) {
                    return this.depthTexture = t || new Ie(new Ue(null,{
                        width: this.width,
                        height: this.height
                    }),{
                        scaleMode: w.NEAREST,
                        resolution: 1,
                        width: this.width,
                        height: this.height,
                        mipmap: O.OFF,
                        format: T.DEPTH_COMPONENT,
                        type: A.UNSIGNED_SHORT
                    }),
                    this.dirtyId++,
                    this.dirtyFormat++,
                    this
                }
                ,
                t.prototype.enableDepth = function() {
                    return this.depth = !0,
                    this.dirtyId++,
                    this.dirtyFormat++,
                    this
                }
                ,
                t.prototype.enableStencil = function() {
                    return this.stencil = !0,
                    this.dirtyId++,
                    this.dirtyFormat++,
                    this
                }
                ,
                t.prototype.resize = function(t, e) {
                    if (t = Math.round(t),
                    e = Math.round(e),
                    t !== this.width || e !== this.height) {
                        this.width = t,
                        this.height = e,
                        this.dirtyId++,
                        this.dirtySize++;
                        for (var n = 0; n < this.colorTextures.length; n++) {
                            var r = this.colorTextures[n]
                              , i = r.resolution;
                            r.setSize(t / i, e / i)
                        }
                        this.depthTexture && (i = this.depthTexture.resolution,
                        this.depthTexture.setSize(t / i, e / i))
                    }
                }
                ,
                t.prototype.dispose = function() {
                    this.disposeRunner.emit(this, !1)
                }
                ,
                t.prototype.destroyDepthTexture = function() {
                    this.depthTexture && (this.depthTexture.destroy(),
                    this.depthTexture = null,
                    ++this.dirtyId,
                    ++this.dirtyFormat)
                }
                ,
                t
            }()
              , He = function(t) {
                function e(e) {
                    void 0 === e && (e = {});
                    var n = this;
                    if ("number" == typeof e) {
                        var r = arguments[0]
                          , i = arguments[1]
                          , o = arguments[2]
                          , s = arguments[3];
                        e = {
                            width: r,
                            height: i,
                            scaleMode: o,
                            resolution: s
                        }
                    }
                    return e.width = e.width || 100,
                    e.height = e.height || 100,
                    e.multisample = void 0 !== e.multisample ? e.multisample : B.NONE,
                    (n = t.call(this, null, e) || this).mipmap = O.OFF,
                    n.valid = !0,
                    n.clearColor = [0, 0, 0, 0],
                    n.framebuffer = new Xe(n.realWidth,n.realHeight).addColorTexture(0, n),
                    n.framebuffer.multisample = e.multisample,
                    n.maskStack = [],
                    n.filterStack = [{}],
                    n
                }
                return Ae(e, t),
                e.prototype.resize = function(t, e) {
                    this.framebuffer.resize(t * this.resolution, e * this.resolution),
                    this.setRealSize(this.framebuffer.width, this.framebuffer.height)
                }
                ,
                e.prototype.dispose = function() {
                    this.framebuffer.dispose(),
                    t.prototype.dispose.call(this)
                }
                ,
                e.prototype.destroy = function() {
                    t.prototype.destroy.call(this),
                    this.framebuffer.destroyDepthTexture(),
                    this.framebuffer = null
                }
                ,
                e
            }(Ie)
              , je = function() {
                function t() {
                    this.x0 = 0,
                    this.y0 = 0,
                    this.x1 = 1,
                    this.y1 = 0,
                    this.x2 = 1,
                    this.y2 = 1,
                    this.x3 = 0,
                    this.y3 = 1,
                    this.uvsFloat32 = new Float32Array(8)
                }
                return t.prototype.set = function(t, e, n) {
                    var r = e.width
                      , i = e.height;
                    if (n) {
                        var o = t.width / 2 / r
                          , s = t.height / 2 / i
                          , a = t.x / r + o
                          , u = t.y / i + s;
                        n = re.add(n, re.NW),
                        this.x0 = a + o * re.uX(n),
                        this.y0 = u + s * re.uY(n),
                        n = re.add(n, 2),
                        this.x1 = a + o * re.uX(n),
                        this.y1 = u + s * re.uY(n),
                        n = re.add(n, 2),
                        this.x2 = a + o * re.uX(n),
                        this.y2 = u + s * re.uY(n),
                        n = re.add(n, 2),
                        this.x3 = a + o * re.uX(n),
                        this.y3 = u + s * re.uY(n)
                    } else
                        this.x0 = t.x / r,
                        this.y0 = t.y / i,
                        this.x1 = (t.x + t.width) / r,
                        this.y1 = t.y / i,
                        this.x2 = (t.x + t.width) / r,
                        this.y2 = (t.y + t.height) / i,
                        this.x3 = t.x / r,
                        this.y3 = (t.y + t.height) / i;
                    this.uvsFloat32[0] = this.x0,
                    this.uvsFloat32[1] = this.y0,
                    this.uvsFloat32[2] = this.x1,
                    this.uvsFloat32[3] = this.y1,
                    this.uvsFloat32[4] = this.x2,
                    this.uvsFloat32[5] = this.y2,
                    this.uvsFloat32[6] = this.x3,
                    this.uvsFloat32[7] = this.y3
                }
                ,
                t.prototype.toString = function() {
                    return "[@pixi/core:TextureUvs x0=" + this.x0 + " y0=" + this.y0 + " x1=" + this.x1 + " y1=" + this.y1 + " x2=" + this.x2 + " y2=" + this.y2 + " x3=" + this.x3 + " y3=" + this.y3 + "]"
                }
                ,
                t
            }()
              , $e = new je;
            function We(t) {
                t.destroy = function() {}
                ,
                t.on = function() {}
                ,
                t.once = function() {}
                ,
                t.emit = function() {}
            }
            var Ve = function(t) {
                function e(n, r, i, o, s, a) {
                    var u = t.call(this) || this;
                    if (u.noFrame = !1,
                    r || (u.noFrame = !0,
                    r = new jt(0,0,1,1)),
                    n instanceof e && (n = n.baseTexture),
                    u.baseTexture = n,
                    u._frame = r,
                    u.trim = o,
                    u.valid = !1,
                    u._uvs = $e,
                    u.uvMatrix = null,
                    u.orig = i || r,
                    u._rotate = Number(s || 0),
                    !0 === s)
                        u._rotate = 2;
                    else if (u._rotate % 2 != 0)
                        throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");
                    return u.defaultAnchor = a ? new Xt(a.x,a.y) : new Xt(0,0),
                    u._updateID = 0,
                    u.textureCacheIds = [],
                    n.valid ? u.noFrame ? n.valid && u.onBaseTextureUpdated(n) : u.frame = r : n.once("loaded", u.onBaseTextureUpdated, u),
                    u.noFrame && n.on("update", u.onBaseTextureUpdated, u),
                    u
                }
                return Ae(e, t),
                e.prototype.update = function() {
                    this.baseTexture.resource && this.baseTexture.resource.update()
                }
                ,
                e.prototype.onBaseTextureUpdated = function(t) {
                    if (this.noFrame) {
                        if (!this.baseTexture.valid)
                            return;
                        this._frame.width = t.width,
                        this._frame.height = t.height,
                        this.valid = !0,
                        this.updateUvs()
                    } else
                        this.frame = this._frame;
                    this.emit("update", this)
                }
                ,
                e.prototype.destroy = function(t) {
                    if (this.baseTexture) {
                        if (t) {
                            var n = this.baseTexture.resource;
                            n && n.url && Pt[n.url] && e.removeFromCache(n.url),
                            this.baseTexture.destroy()
                        }
                        this.baseTexture.off("loaded", this.onBaseTextureUpdated, this),
                        this.baseTexture.off("update", this.onBaseTextureUpdated, this),
                        this.baseTexture = null
                    }
                    this._frame = null,
                    this._uvs = null,
                    this.trim = null,
                    this.orig = null,
                    this.valid = !1,
                    e.removeFromCache(this),
                    this.textureCacheIds = null
                }
                ,
                e.prototype.clone = function() {
                    var t = this._frame.clone()
                      , n = this._frame === this.orig ? t : this.orig.clone()
                      , r = new e(this.baseTexture,!this.noFrame && t,n,this.trim && this.trim.clone(),this.rotate,this.defaultAnchor);
                    return this.noFrame && (r._frame = t),
                    r
                }
                ,
                e.prototype.updateUvs = function() {
                    this._uvs === $e && (this._uvs = new je),
                    this._uvs.set(this._frame, this.baseTexture, this.rotate),
                    this._updateID++
                }
                ,
                e.from = function(t, n, r) {
                    void 0 === n && (n = {}),
                    void 0 === r && (r = st.STRICT_TEXTURE_CACHE);
                    var i = "string" == typeof t
                      , o = null;
                    if (i)
                        o = t;
                    else if (t instanceof Ie) {
                        if (!t.cacheId) {
                            var s = n && n.pixiIdPrefix || "pixiid";
                            t.cacheId = s + "-" + Ot(),
                            Ie.addToCache(t, t.cacheId)
                        }
                        o = t.cacheId
                    } else
                        t._pixiId || (s = n && n.pixiIdPrefix || "pixiid",
                        t._pixiId = s + "_" + Ot()),
                        o = t._pixiId;
                    var a = Pt[o];
                    if (i && r && !a)
                        throw new Error('The cacheId "' + o + '" does not exist in TextureCache.');
                    return a || t instanceof Ie ? !a && t instanceof Ie && (a = new e(t),
                    e.addToCache(a, o)) : (n.resolution || (n.resolution = Lt(t)),
                    (a = new e(new Ie(t,n))).baseTexture.cacheId = o,
                    Ie.addToCache(a.baseTexture, o),
                    e.addToCache(a, o)),
                    a
                }
                ,
                e.fromURL = function(t, n) {
                    var r = Object.assign({
                        autoLoad: !1
                    }, null == n ? void 0 : n.resourceOptions)
                      , i = e.from(t, Object.assign({
                        resourceOptions: r
                    }, n), !1)
                      , o = i.baseTexture.resource;
                    return i.baseTexture.valid ? Promise.resolve(i) : o.load().then((function() {
                        return Promise.resolve(i)
                    }
                    ))
                }
                ,
                e.fromBuffer = function(t, n, r, i) {
                    return new e(Ie.fromBuffer(t, n, r, i))
                }
                ,
                e.fromLoader = function(t, n, r, i) {
                    var o = new Ie(t,Object.assign({
                        scaleMode: st.SCALE_MODE,
                        resolution: Lt(n)
                    }, i))
                      , s = o.resource;
                    s instanceof Be && (s.url = n);
                    var a = new e(o);
                    return r || (r = n),
                    Ie.addToCache(a.baseTexture, r),
                    e.addToCache(a, r),
                    r !== n && (Ie.addToCache(a.baseTexture, n),
                    e.addToCache(a, n)),
                    a.baseTexture.valid ? Promise.resolve(a) : new Promise((function(t) {
                        a.baseTexture.once("loaded", (function() {
                            return t(a)
                        }
                        ))
                    }
                    ))
                }
                ,
                e.addToCache = function(t, e) {
                    e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e),
                    Pt[e] && console.warn("Texture added to the cache with an id [" + e + "] that already had an entry"),
                    Pt[e] = t)
                }
                ,
                e.removeFromCache = function(t) {
                    if ("string" == typeof t) {
                        var e = Pt[t];
                        if (e) {
                            var n = e.textureCacheIds.indexOf(t);
                            return n > -1 && e.textureCacheIds.splice(n, 1),
                            delete Pt[t],
                            e
                        }
                    } else if (t && t.textureCacheIds) {
                        for (var r = 0; r < t.textureCacheIds.length; ++r)
                            Pt[t.textureCacheIds[r]] === t && delete Pt[t.textureCacheIds[r]];
                        return t.textureCacheIds.length = 0,
                        t
                    }
                    return null
                }
                ,
                Object.defineProperty(e.prototype, "resolution", {
                    get: function() {
                        return this.baseTexture.resolution
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "frame", {
                    get: function() {
                        return this._frame
                    },
                    set: function(t) {
                        this._frame = t,
                        this.noFrame = !1;
                        var e = t.x
                          , n = t.y
                          , r = t.width
                          , i = t.height
                          , o = e + r > this.baseTexture.width
                          , s = n + i > this.baseTexture.height;
                        if (o || s) {
                            var a = o && s ? "and" : "or"
                              , u = "X: " + e + " + " + r + " = " + (e + r) + " > " + this.baseTexture.width
                              , h = "Y: " + n + " + " + i + " = " + (n + i) + " > " + this.baseTexture.height;
                            throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: " + u + " " + a + " " + h)
                        }
                        this.valid = r && i && this.baseTexture.valid,
                        this.trim || this.rotate || (this.orig = t),
                        this.valid && this.updateUvs()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "rotate", {
                    get: function() {
                        return this._rotate
                    },
                    set: function(t) {
                        this._rotate = t,
                        this.valid && this.updateUvs()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "width", {
                    get: function() {
                        return this.orig.width
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "height", {
                    get: function() {
                        return this.orig.height
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.castToBaseTexture = function() {
                    return this.baseTexture
                }
                ,
                Object.defineProperty(e, "EMPTY", {
                    get: function() {
                        return e._EMPTY || (e._EMPTY = new e(new Ie),
                        We(e._EMPTY),
                        We(e._EMPTY.baseTexture)),
                        e._EMPTY
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e, "WHITE", {
                    get: function() {
                        if (!e._WHITE) {
                            var t = st.ADAPTER.createCanvas(16, 16)
                              , n = t.getContext("2d");
                            t.width = 16,
                            t.height = 16,
                            n.fillStyle = "white",
                            n.fillRect(0, 0, 16, 16),
                            e._WHITE = new e(Ie.from(t)),
                            We(e._WHITE),
                            We(e._WHITE.baseTexture)
                        }
                        return e._WHITE
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e
            }(at)
              , Ye = function(t) {
                function e(e, n) {
                    var r = t.call(this, e, n) || this;
                    return r.valid = !0,
                    r.filterFrame = null,
                    r.filterPoolKey = null,
                    r.updateUvs(),
                    r
                }
                return Ae(e, t),
                Object.defineProperty(e.prototype, "framebuffer", {
                    get: function() {
                        return this.baseTexture.framebuffer
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "multisample", {
                    get: function() {
                        return this.framebuffer.multisample
                    },
                    set: function(t) {
                        this.framebuffer.multisample = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.resize = function(t, e, n) {
                    void 0 === n && (n = !0);
                    var r = this.baseTexture.resolution
                      , i = Math.round(t * r) / r
                      , o = Math.round(e * r) / r;
                    this.valid = i > 0 && o > 0,
                    this._frame.width = this.orig.width = i,
                    this._frame.height = this.orig.height = o,
                    n && this.baseTexture.resize(i, o),
                    this.updateUvs()
                }
                ,
                e.prototype.setResolution = function(t) {
                    var e = this.baseTexture;
                    e.resolution !== t && (e.setResolution(t),
                    this.resize(e.width, e.height, !1))
                }
                ,
                e.create = function(t) {
                    for (var n = arguments, r = [], i = 1; i < arguments.length; i++)
                        r[i - 1] = n[i];
                    return "number" == typeof t && (Ct("6.0.0", "Arguments (width, height, scaleMode, resolution) have been deprecated."),
                    t = {
                        width: t,
                        height: r[0],
                        scaleMode: r[1],
                        resolution: r[2]
                    }),
                    new e(new He(t))
                }
                ,
                e
            }(Ve)
              , ze = function() {
                function t(t) {
                    this.texturePool = {},
                    this.textureOptions = t || {},
                    this.enableFullScreen = !1,
                    this._pixelsWidth = 0,
                    this._pixelsHeight = 0
                }
                return t.prototype.createTexture = function(t, e, n) {
                    void 0 === n && (n = B.NONE);
                    var r = new He(Object.assign({
                        width: t,
                        height: e,
                        resolution: 1,
                        multisample: n
                    }, this.textureOptions));
                    return new Ye(r)
                }
                ,
                t.prototype.getOptimalTexture = function(t, e, n, r) {
                    var i;
                    void 0 === n && (n = 1),
                    void 0 === r && (r = B.NONE),
                    t = Math.ceil(t * n - 1e-6),
                    e = Math.ceil(e * n - 1e-6),
                    this.enableFullScreen && t === this._pixelsWidth && e === this._pixelsHeight ? i = r > 1 ? -r : -1 : (i = ((65535 & (t = Tt(t))) << 16 | 65535 & (e = Tt(e))) >>> 0,
                    r > 1 && (i += 4294967296 * r)),
                    this.texturePool[i] || (this.texturePool[i] = []);
                    var o = this.texturePool[i].pop();
                    return o || (o = this.createTexture(t, e, r)),
                    o.filterPoolKey = i,
                    o.setResolution(n),
                    o
                }
                ,
                t.prototype.getFilterTexture = function(t, e, n) {
                    var r = this.getOptimalTexture(t.width, t.height, e || t.resolution, n || B.NONE);
                    return r.filterFrame = t.filterFrame,
                    r
                }
                ,
                t.prototype.returnTexture = function(t) {
                    var e = t.filterPoolKey;
                    t.filterFrame = null,
                    this.texturePool[e].push(t)
                }
                ,
                t.prototype.returnFilterTexture = function(t) {
                    this.returnTexture(t)
                }
                ,
                t.prototype.clear = function(t) {
                    if (t = !1 !== t)
                        for (var e in this.texturePool) {
                            var n = this.texturePool[e];
                            if (n)
                                for (var r = 0; r < n.length; r++)
                                    n[r].destroy(!0)
                        }
                    this.texturePool = {}
                }
                ,
                t.prototype.setScreenSize = function(t) {
                    if (t.width !== this._pixelsWidth || t.height !== this._pixelsHeight) {
                        for (var e in this.enableFullScreen = t.width > 0 && t.height > 0,
                        this.texturePool)
                            if (Number(e) < 0) {
                                var n = this.texturePool[e];
                                if (n)
                                    for (var r = 0; r < n.length; r++)
                                        n[r].destroy(!0);
                                this.texturePool[e] = []
                            }
                        this._pixelsWidth = t.width,
                        this._pixelsHeight = t.height
                    }
                }
                ,
                t.SCREEN_KEY = -1,
                t
            }()
              , qe = function() {
                function t(t, e, n, r, i, o, s) {
                    void 0 === e && (e = 0),
                    void 0 === n && (n = !1),
                    void 0 === r && (r = A.FLOAT),
                    this.buffer = t,
                    this.size = e,
                    this.normalized = n,
                    this.type = r,
                    this.stride = i,
                    this.start = o,
                    this.instance = s
                }
                return t.prototype.destroy = function() {
                    this.buffer = null
                }
                ,
                t.from = function(e, n, r, i, o) {
                    return new t(e,n,r,i,o)
                }
                ,
                t
            }()
              , Ke = 0
              , Je = function() {
                function t(t, e, n) {
                    void 0 === e && (e = !0),
                    void 0 === n && (n = !1),
                    this.data = t || new Float32Array(1),
                    this._glBuffers = {},
                    this._updateID = 0,
                    this.index = n,
                    this.static = e,
                    this.id = Ke++,
                    this.disposeRunner = new ve("disposeBuffer")
                }
                return t.prototype.update = function(t) {
                    t instanceof Array && (t = new Float32Array(t)),
                    this.data = t || this.data,
                    this._updateID++
                }
                ,
                t.prototype.dispose = function() {
                    this.disposeRunner.emit(this, !1)
                }
                ,
                t.prototype.destroy = function() {
                    this.dispose(),
                    this.data = null
                }
                ,
                Object.defineProperty(t.prototype, "index", {
                    get: function() {
                        return this.type === L.ELEMENT_ARRAY_BUFFER
                    },
                    set: function(t) {
                        this.type = t ? L.ELEMENT_ARRAY_BUFFER : L.ARRAY_BUFFER
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.from = function(e) {
                    return e instanceof Array && (e = new Float32Array(e)),
                    new t(e)
                }
                ,
                t
            }()
              , Ze = {
                Float32Array,
                Uint32Array,
                Int32Array,
                Uint8Array
            }
              , Qe = {
                5126: 4,
                5123: 2,
                5121: 1
            }
              , tn = 0
              , en = {
                Float32Array,
                Uint32Array,
                Int32Array,
                Uint8Array,
                Uint16Array
            }
              , nn = function() {
                function t(t, e) {
                    void 0 === t && (t = []),
                    void 0 === e && (e = {}),
                    this.buffers = t,
                    this.indexBuffer = null,
                    this.attributes = e,
                    this.glVertexArrayObjects = {},
                    this.id = tn++,
                    this.instanced = !1,
                    this.instanceCount = 1,
                    this.disposeRunner = new ve("disposeGeometry"),
                    this.refCount = 0
                }
                return t.prototype.addAttribute = function(t, e, n, r, i, o, s, a) {
                    if (void 0 === n && (n = 0),
                    void 0 === r && (r = !1),
                    void 0 === a && (a = !1),
                    !e)
                        throw new Error("You must pass a buffer when creating an attribute");
                    e instanceof Je || (e instanceof Array && (e = new Float32Array(e)),
                    e = new Je(e));
                    var u = t.split("|");
                    if (u.length > 1) {
                        for (var h = 0; h < u.length; h++)
                            this.addAttribute(u[h], e, n, r, i);
                        return this
                    }
                    var l = this.buffers.indexOf(e);
                    return -1 === l && (this.buffers.push(e),
                    l = this.buffers.length - 1),
                    this.attributes[t] = new qe(l,n,r,i,o,s,a),
                    this.instanced = this.instanced || a,
                    this
                }
                ,
                t.prototype.getAttribute = function(t) {
                    return this.attributes[t]
                }
                ,
                t.prototype.getBuffer = function(t) {
                    return this.buffers[this.getAttribute(t).buffer]
                }
                ,
                t.prototype.addIndex = function(t) {
                    return t instanceof Je || (t instanceof Array && (t = new Uint16Array(t)),
                    t = new Je(t)),
                    t.type = L.ELEMENT_ARRAY_BUFFER,
                    this.indexBuffer = t,
                    -1 === this.buffers.indexOf(t) && this.buffers.push(t),
                    this
                }
                ,
                t.prototype.getIndex = function() {
                    return this.indexBuffer
                }
                ,
                t.prototype.interleave = function() {
                    if (1 === this.buffers.length || 2 === this.buffers.length && this.indexBuffer)
                        return this;
                    var t, e = [], n = [], r = new Je;
                    for (t in this.attributes) {
                        var i = this.attributes[t]
                          , o = this.buffers[i.buffer];
                        e.push(o.data),
                        n.push(i.size * Qe[i.type] / 4),
                        i.buffer = 0
                    }
                    for (r.data = function(t, e) {
                        for (var n = 0, r = 0, i = {}, o = 0; o < t.length; o++)
                            r += e[o],
                            n += t[o].length;
                        var s = new ArrayBuffer(4 * n)
                          , a = null
                          , u = 0;
                        for (o = 0; o < t.length; o++) {
                            var h = e[o]
                              , l = t[o]
                              , c = xt(l);
                            i[c] || (i[c] = new Ze[c](s)),
                            a = i[c];
                            for (var d = 0; d < l.length; d++)
                                a[(d / h | 0) * r + u + d % h] = l[d];
                            u += h
                        }
                        return new Float32Array(s)
                    }(e, n),
                    t = 0; t < this.buffers.length; t++)
                        this.buffers[t] !== this.indexBuffer && this.buffers[t].destroy();
                    return this.buffers = [r],
                    this.indexBuffer && this.buffers.push(this.indexBuffer),
                    this
                }
                ,
                t.prototype.getSize = function() {
                    for (var t in this.attributes) {
                        var e = this.attributes[t];
                        return this.buffers[e.buffer].data.length / (e.stride / 4 || e.size)
                    }
                    return 0
                }
                ,
                t.prototype.dispose = function() {
                    this.disposeRunner.emit(this, !1)
                }
                ,
                t.prototype.destroy = function() {
                    this.dispose(),
                    this.buffers = null,
                    this.indexBuffer = null,
                    this.attributes = null
                }
                ,
                t.prototype.clone = function() {
                    for (var e = new t, n = 0; n < this.buffers.length; n++)
                        e.buffers[n] = new Je(this.buffers[n].data.slice(0));
                    for (var n in this.attributes) {
                        var r = this.attributes[n];
                        e.attributes[n] = new qe(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)
                    }
                    return this.indexBuffer && (e.indexBuffer = e.buffers[this.buffers.indexOf(this.indexBuffer)],
                    e.indexBuffer.type = L.ELEMENT_ARRAY_BUFFER),
                    e
                }
                ,
                t.merge = function(e) {
                    for (var n, r = new t, i = [], o = [], s = [], a = 0; a < e.length; a++) {
                        n = e[a];
                        for (var u = 0; u < n.buffers.length; u++)
                            o[u] = o[u] || 0,
                            o[u] += n.buffers[u].data.length,
                            s[u] = 0
                    }
                    for (a = 0; a < n.buffers.length; a++)
                        i[a] = new (en[xt(n.buffers[a].data)])(o[a]),
                        r.buffers[a] = new Je(i[a]);
                    for (a = 0; a < e.length; a++)
                        for (n = e[a],
                        u = 0; u < n.buffers.length; u++)
                            i[u].set(n.buffers[u].data, s[u]),
                            s[u] += n.buffers[u].data.length;
                    if (r.attributes = n.attributes,
                    n.indexBuffer) {
                        r.indexBuffer = r.buffers[n.buffers.indexOf(n.indexBuffer)],
                        r.indexBuffer.type = L.ELEMENT_ARRAY_BUFFER;
                        var h = 0
                          , l = 0
                          , c = 0
                          , d = 0;
                        for (a = 0; a < n.buffers.length; a++)
                            if (n.buffers[a] !== n.indexBuffer) {
                                d = a;
                                break
                            }
                        for (var a in n.attributes) {
                            var p = n.attributes[a];
                            (0 | p.buffer) === d && (l += p.size * Qe[p.type] / 4)
                        }
                        for (a = 0; a < e.length; a++) {
                            var f = e[a].indexBuffer.data;
                            for (u = 0; u < f.length; u++)
                                r.indexBuffer.data[u + c] += h;
                            h += e[a].buffers[d].data.length / l,
                            c += f.length
                        }
                    }
                    return r
                }
                ,
                t
            }()
              , rn = function(t) {
                function e() {
                    var e = t.call(this) || this;
                    return e.addAttribute("aVertexPosition", new Float32Array([0, 0, 1, 0, 1, 1, 0, 1])).addIndex([0, 1, 3, 2]),
                    e
                }
                return Ae(e, t),
                e
            }(nn)
              , on = function(t) {
                function e() {
                    var e = t.call(this) || this;
                    return e.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]),
                    e.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
                    e.vertexBuffer = new Je(e.vertices),
                    e.uvBuffer = new Je(e.uvs),
                    e.addAttribute("aVertexPosition", e.vertexBuffer).addAttribute("aTextureCoord", e.uvBuffer).addIndex([0, 1, 2, 0, 2, 3]),
                    e
                }
                return Ae(e, t),
                e.prototype.map = function(t, e) {
                    var n = 0
                      , r = 0;
                    return this.uvs[0] = n,
                    this.uvs[1] = r,
                    this.uvs[2] = n + e.width / t.width,
                    this.uvs[3] = r,
                    this.uvs[4] = n + e.width / t.width,
                    this.uvs[5] = r + e.height / t.height,
                    this.uvs[6] = n,
                    this.uvs[7] = r + e.height / t.height,
                    n = e.x,
                    r = e.y,
                    this.vertices[0] = n,
                    this.vertices[1] = r,
                    this.vertices[2] = n + e.width,
                    this.vertices[3] = r,
                    this.vertices[4] = n + e.width,
                    this.vertices[5] = r + e.height,
                    this.vertices[6] = n,
                    this.vertices[7] = r + e.height,
                    this.invalidate(),
                    this
                }
                ,
                e.prototype.invalidate = function() {
                    return this.vertexBuffer._updateID++,
                    this.uvBuffer._updateID++,
                    this
                }
                ,
                e
            }(nn)
              , sn = 0
              , an = function() {
                function t(t, e, n) {
                    this.group = !0,
                    this.syncUniforms = {},
                    this.dirtyId = 0,
                    this.id = sn++,
                    this.static = !!e,
                    this.ubo = !!n,
                    t instanceof Je ? (this.buffer = t,
                    this.buffer.type = L.UNIFORM_BUFFER,
                    this.autoManage = !1,
                    this.ubo = !0) : (this.uniforms = t,
                    this.ubo && (this.buffer = new Je(new Float32Array(1)),
                    this.buffer.type = L.UNIFORM_BUFFER,
                    this.autoManage = !0))
                }
                return t.prototype.update = function() {
                    this.dirtyId++,
                    !this.autoManage && this.buffer && this.buffer.update()
                }
                ,
                t.prototype.add = function(e, n, r) {
                    if (this.ubo)
                        throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");
                    this.uniforms[e] = new t(n,r)
                }
                ,
                t.from = function(e, n, r) {
                    return new t(e,n,r)
                }
                ,
                t.uboFrom = function(e, n) {
                    return new t(e,null == n || n,!0)
                }
                ,
                t
            }()
              , un = function() {
                function t() {
                    this.renderTexture = null,
                    this.target = null,
                    this.legacy = !1,
                    this.resolution = 1,
                    this.multisample = B.NONE,
                    this.sourceFrame = new jt,
                    this.destinationFrame = new jt,
                    this.bindingSourceFrame = new jt,
                    this.bindingDestinationFrame = new jt,
                    this.filters = [],
                    this.transform = null
                }
                return t.prototype.clear = function() {
                    this.target = null,
                    this.filters = null,
                    this.renderTexture = null
                }
                ,
                t
            }()
              , hn = [new Xt, new Xt, new Xt, new Xt]
              , ln = new qt
              , cn = function() {
                function t(t) {
                    this.renderer = t,
                    this.defaultFilterStack = [{}],
                    this.texturePool = new ze,
                    this.texturePool.setScreenSize(t.view),
                    this.statePool = [],
                    this.quad = new rn,
                    this.quadUv = new on,
                    this.tempRect = new jt,
                    this.activeState = {},
                    this.globalUniforms = new an({
                        outputFrame: new jt,
                        inputSize: new Float32Array(4),
                        inputPixel: new Float32Array(4),
                        inputClamp: new Float32Array(4),
                        resolution: 1,
                        filterArea: new Float32Array(4),
                        filterClamp: new Float32Array(4)
                    },!0),
                    this.forceClear = !1,
                    this.useMaxPadding = !1
                }
                return t.prototype.push = function(t, e) {
                    for (var n, r, i = this.renderer, o = this.defaultFilterStack, s = this.statePool.pop() || new un, a = this.renderer.renderTexture, u = e[0].resolution, h = e[0].multisample, l = e[0].padding, c = e[0].autoFit, d = null === (n = e[0].legacy) || void 0 === n || n, p = 1; p < e.length; p++) {
                        var f = e[p];
                        u = Math.min(u, f.resolution),
                        h = Math.min(h, f.multisample),
                        l = this.useMaxPadding ? Math.max(l, f.padding) : l + f.padding,
                        c = c && f.autoFit,
                        d = d || null === (r = f.legacy) || void 0 === r || r
                    }
                    1 === o.length && (this.defaultFilterStack[0].renderTexture = a.current),
                    o.push(s),
                    s.resolution = u,
                    s.multisample = h,
                    s.legacy = d,
                    s.target = t,
                    s.sourceFrame.copyFrom(t.filterArea || t.getBounds(!0)),
                    s.sourceFrame.pad(l);
                    var m = this.tempRect.copyFrom(a.sourceFrame);
                    i.projection.transform && this.transformAABB(ln.copyFrom(i.projection.transform).invert(), m),
                    c ? (s.sourceFrame.fit(m),
                    (s.sourceFrame.width <= 0 || s.sourceFrame.height <= 0) && (s.sourceFrame.width = 0,
                    s.sourceFrame.height = 0)) : s.sourceFrame.intersects(m) || (s.sourceFrame.width = 0,
                    s.sourceFrame.height = 0),
                    this.roundFrame(s.sourceFrame, a.current ? a.current.resolution : i.resolution, a.sourceFrame, a.destinationFrame, i.projection.transform),
                    s.renderTexture = this.getOptimalFilterTexture(s.sourceFrame.width, s.sourceFrame.height, u, h),
                    s.filters = e,
                    s.destinationFrame.width = s.renderTexture.width,
                    s.destinationFrame.height = s.renderTexture.height;
                    var _ = this.tempRect;
                    _.x = 0,
                    _.y = 0,
                    _.width = s.sourceFrame.width,
                    _.height = s.sourceFrame.height,
                    s.renderTexture.filterFrame = s.sourceFrame,
                    s.bindingSourceFrame.copyFrom(a.sourceFrame),
                    s.bindingDestinationFrame.copyFrom(a.destinationFrame),
                    s.transform = i.projection.transform,
                    i.projection.transform = null,
                    a.bind(s.renderTexture, s.sourceFrame, _),
                    i.framebuffer.clear(0, 0, 0, 0)
                }
                ,
                t.prototype.pop = function() {
                    var t = this.defaultFilterStack
                      , e = t.pop()
                      , n = e.filters;
                    this.activeState = e;
                    var r = this.globalUniforms.uniforms;
                    r.outputFrame = e.sourceFrame,
                    r.resolution = e.resolution;
                    var i = r.inputSize
                      , o = r.inputPixel
                      , s = r.inputClamp;
                    if (i[0] = e.destinationFrame.width,
                    i[1] = e.destinationFrame.height,
                    i[2] = 1 / i[0],
                    i[3] = 1 / i[1],
                    o[0] = Math.round(i[0] * e.resolution),
                    o[1] = Math.round(i[1] * e.resolution),
                    o[2] = 1 / o[0],
                    o[3] = 1 / o[1],
                    s[0] = .5 * o[2],
                    s[1] = .5 * o[3],
                    s[2] = e.sourceFrame.width * i[2] - .5 * o[2],
                    s[3] = e.sourceFrame.height * i[3] - .5 * o[3],
                    e.legacy) {
                        var a = r.filterArea;
                        a[0] = e.destinationFrame.width,
                        a[1] = e.destinationFrame.height,
                        a[2] = e.sourceFrame.x,
                        a[3] = e.sourceFrame.y,
                        r.filterClamp = r.inputClamp
                    }
                    this.globalUniforms.update();
                    var u = t[t.length - 1];
                    if (this.renderer.framebuffer.blit(),
                    1 === n.length)
                        n[0].apply(this, e.renderTexture, u.renderTexture, C.BLEND, e),
                        this.returnFilterTexture(e.renderTexture);
                    else {
                        var h = e.renderTexture
                          , l = this.getOptimalFilterTexture(h.width, h.height, e.resolution);
                        l.filterFrame = h.filterFrame;
                        var c = 0;
                        for (c = 0; c < n.length - 1; ++c) {
                            1 === c && e.multisample > 1 && ((l = this.getOptimalFilterTexture(h.width, h.height, e.resolution)).filterFrame = h.filterFrame),
                            n[c].apply(this, h, l, C.CLEAR, e);
                            var d = h;
                            h = l,
                            l = d
                        }
                        n[c].apply(this, h, u.renderTexture, C.BLEND, e),
                        c > 1 && e.multisample > 1 && this.returnFilterTexture(e.renderTexture),
                        this.returnFilterTexture(h),
                        this.returnFilterTexture(l)
                    }
                    e.clear(),
                    this.statePool.push(e)
                }
                ,
                t.prototype.bindAndClear = function(t, e) {
                    void 0 === e && (e = C.CLEAR);
                    var n = this.renderer
                      , r = n.renderTexture
                      , i = n.state;
                    if (t === this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture ? this.renderer.projection.transform = this.activeState.transform : this.renderer.projection.transform = null,
                    t && t.filterFrame) {
                        var o = this.tempRect;
                        o.x = 0,
                        o.y = 0,
                        o.width = t.filterFrame.width,
                        o.height = t.filterFrame.height,
                        r.bind(t, t.filterFrame, o)
                    } else
                        t !== this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture ? r.bind(t) : this.renderer.renderTexture.bind(t, this.activeState.bindingSourceFrame, this.activeState.bindingDestinationFrame);
                    var s = 1 & i.stateId || this.forceClear;
                    (e === C.CLEAR || e === C.BLIT && s) && this.renderer.framebuffer.clear(0, 0, 0, 0)
                }
                ,
                t.prototype.applyFilter = function(t, e, n, r) {
                    var i = this.renderer;
                    i.state.set(t.state),
                    this.bindAndClear(n, r),
                    t.uniforms.uSampler = e,
                    t.uniforms.filterGlobals = this.globalUniforms,
                    i.shader.bind(t),
                    t.legacy = !!t.program.attributeData.aTextureCoord,
                    t.legacy ? (this.quadUv.map(e._frame, e.filterFrame),
                    i.geometry.bind(this.quadUv),
                    i.geometry.draw(x.TRIANGLES)) : (i.geometry.bind(this.quad),
                    i.geometry.draw(x.TRIANGLE_STRIP))
                }
                ,
                t.prototype.calculateSpriteMatrix = function(t, e) {
                    var n = this.activeState
                      , r = n.sourceFrame
                      , i = n.destinationFrame
                      , o = e._texture.orig
                      , s = t.set(i.width, 0, 0, i.height, r.x, r.y)
                      , a = e.worldTransform.copyTo(qt.TEMP_MATRIX);
                    return a.invert(),
                    s.prepend(a),
                    s.scale(1 / o.width, 1 / o.height),
                    s.translate(e.anchor.x, e.anchor.y),
                    s
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer = null,
                    this.texturePool.clear(!1)
                }
                ,
                t.prototype.getOptimalFilterTexture = function(t, e, n, r) {
                    return void 0 === n && (n = 1),
                    void 0 === r && (r = B.NONE),
                    this.texturePool.getOptimalTexture(t, e, n, r)
                }
                ,
                t.prototype.getFilterTexture = function(t, e, n) {
                    if ("number" == typeof t) {
                        var r = t;
                        t = e,
                        e = r
                    }
                    t = t || this.activeState.renderTexture;
                    var i = this.texturePool.getOptimalTexture(t.width, t.height, e || t.resolution, n || B.NONE);
                    return i.filterFrame = t.filterFrame,
                    i
                }
                ,
                t.prototype.returnFilterTexture = function(t) {
                    this.texturePool.returnTexture(t)
                }
                ,
                t.prototype.emptyPool = function() {
                    this.texturePool.clear(!0)
                }
                ,
                t.prototype.resize = function() {
                    this.texturePool.setScreenSize(this.renderer.view)
                }
                ,
                t.prototype.transformAABB = function(t, e) {
                    var n = hn[0]
                      , r = hn[1]
                      , i = hn[2]
                      , o = hn[3];
                    n.set(e.left, e.top),
                    r.set(e.left, e.bottom),
                    i.set(e.right, e.top),
                    o.set(e.right, e.bottom),
                    t.apply(n, n),
                    t.apply(r, r),
                    t.apply(i, i),
                    t.apply(o, o);
                    var s = Math.min(n.x, r.x, i.x, o.x)
                      , a = Math.min(n.y, r.y, i.y, o.y)
                      , u = Math.max(n.x, r.x, i.x, o.x)
                      , h = Math.max(n.y, r.y, i.y, o.y);
                    e.x = s,
                    e.y = a,
                    e.width = u - s,
                    e.height = h - a
                }
                ,
                t.prototype.roundFrame = function(t, e, n, r, i) {
                    if (!(t.width <= 0 || t.height <= 0 || n.width <= 0 || n.height <= 0)) {
                        if (i) {
                            var o = i.a
                              , s = i.b
                              , a = i.c
                              , u = i.d;
                            if ((Math.abs(s) > 1e-4 || Math.abs(a) > 1e-4) && (Math.abs(o) > 1e-4 || Math.abs(u) > 1e-4))
                                return
                        }
                        (i = i ? ln.copyFrom(i) : ln.identity()).translate(-n.x, -n.y).scale(r.width / n.width, r.height / n.height).translate(r.x, r.y),
                        this.transformAABB(i, t),
                        t.ceil(e),
                        this.transformAABB(i.invert(), t)
                    }
                }
                ,
                t
            }()
              , dn = function() {
                function t(t) {
                    this.renderer = t
                }
                return t.prototype.flush = function() {}
                ,
                t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t.prototype.start = function() {}
                ,
                t.prototype.stop = function() {
                    this.flush()
                }
                ,
                t.prototype.render = function(t) {}
                ,
                t
            }()
              , pn = function() {
                function t(t) {
                    this.renderer = t,
                    this.emptyRenderer = new dn(t),
                    this.currentRenderer = this.emptyRenderer
                }
                return t.prototype.setObjectRenderer = function(t) {
                    this.currentRenderer !== t && (this.currentRenderer.stop(),
                    this.currentRenderer = t,
                    this.currentRenderer.start())
                }
                ,
                t.prototype.flush = function() {
                    this.setObjectRenderer(this.emptyRenderer)
                }
                ,
                t.prototype.reset = function() {
                    this.setObjectRenderer(this.emptyRenderer)
                }
                ,
                t.prototype.copyBoundTextures = function(t, e) {
                    for (var n = this.renderer.texture.boundTextures, r = e - 1; r >= 0; --r)
                        t[r] = n[r] || null,
                        t[r] && (t[r]._batchLocation = r)
                }
                ,
                t.prototype.boundArray = function(t, e, n, r) {
                    for (var i = t.elements, o = t.ids, s = t.count, a = 0, u = 0; u < s; u++) {
                        var h = i[u]
                          , l = h._batchLocation;
                        if (l >= 0 && l < r && e[l] === h)
                            o[u] = l;
                        else
                            for (; a < r; ) {
                                var c = e[a];
                                if (!c || c._batchEnabled !== n || c._batchLocation !== a) {
                                    o[u] = a,
                                    h._batchLocation = a,
                                    e[a] = h;
                                    break
                                }
                                a++
                            }
                    }
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t
            }()
              , fn = 0
              , mn = function() {
                function t(t) {
                    this.renderer = t,
                    this.webGLVersion = 1,
                    this.extensions = {},
                    this.supports = {
                        uint32Indices: !1
                    },
                    this.handleContextLost = this.handleContextLost.bind(this),
                    this.handleContextRestored = this.handleContextRestored.bind(this),
                    t.view.addEventListener("webglcontextlost", this.handleContextLost, !1),
                    t.view.addEventListener("webglcontextrestored", this.handleContextRestored, !1)
                }
                return Object.defineProperty(t.prototype, "isLost", {
                    get: function() {
                        return !this.gl || this.gl.isContextLost()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.contextChange = function(t) {
                    this.gl = t,
                    this.renderer.gl = t,
                    this.renderer.CONTEXT_UID = fn++,
                    t.isContextLost() && t.getExtension("WEBGL_lose_context") && t.getExtension("WEBGL_lose_context").restoreContext()
                }
                ,
                t.prototype.initFromContext = function(t) {
                    this.gl = t,
                    this.validateContext(t),
                    this.renderer.gl = t,
                    this.renderer.CONTEXT_UID = fn++,
                    this.renderer.runners.contextChange.emit(t)
                }
                ,
                t.prototype.initFromOptions = function(t) {
                    var e = this.createContext(this.renderer.view, t);
                    this.initFromContext(e)
                }
                ,
                t.prototype.createContext = function(t, e) {
                    var n;
                    if (st.PREFER_ENV >= v.WEBGL2 && (n = t.getContext("webgl2", e)),
                    n)
                        this.webGLVersion = 2;
                    else if (this.webGLVersion = 1,
                    !(n = t.getContext("webgl", e) || t.getContext("experimental-webgl", e)))
                        throw new Error("This browser does not support WebGL. Try using the canvas renderer");
                    return this.gl = n,
                    this.getExtensions(),
                    this.gl
                }
                ,
                t.prototype.getExtensions = function() {
                    var t = this.gl
                      , e = {
                        anisotropicFiltering: t.getExtension("EXT_texture_filter_anisotropic"),
                        floatTextureLinear: t.getExtension("OES_texture_float_linear"),
                        s3tc: t.getExtension("WEBGL_compressed_texture_s3tc"),
                        s3tc_sRGB: t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
                        etc: t.getExtension("WEBGL_compressed_texture_etc"),
                        etc1: t.getExtension("WEBGL_compressed_texture_etc1"),
                        pvrtc: t.getExtension("WEBGL_compressed_texture_pvrtc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
                        atc: t.getExtension("WEBGL_compressed_texture_atc"),
                        astc: t.getExtension("WEBGL_compressed_texture_astc")
                    };
                    1 === this.webGLVersion ? Object.assign(this.extensions, e, {
                        drawBuffers: t.getExtension("WEBGL_draw_buffers"),
                        depthTexture: t.getExtension("WEBGL_depth_texture"),
                        loseContext: t.getExtension("WEBGL_lose_context"),
                        vertexArrayObject: t.getExtension("OES_vertex_array_object") || t.getExtension("MOZ_OES_vertex_array_object") || t.getExtension("WEBKIT_OES_vertex_array_object"),
                        uint32ElementIndex: t.getExtension("OES_element_index_uint"),
                        floatTexture: t.getExtension("OES_texture_float"),
                        floatTextureLinear: t.getExtension("OES_texture_float_linear"),
                        textureHalfFloat: t.getExtension("OES_texture_half_float"),
                        textureHalfFloatLinear: t.getExtension("OES_texture_half_float_linear")
                    }) : 2 === this.webGLVersion && Object.assign(this.extensions, e, {
                        colorBufferFloat: t.getExtension("EXT_color_buffer_float")
                    })
                }
                ,
                t.prototype.handleContextLost = function(t) {
                    t.preventDefault()
                }
                ,
                t.prototype.handleContextRestored = function() {
                    this.renderer.runners.contextChange.emit(this.gl)
                }
                ,
                t.prototype.destroy = function() {
                    var t = this.renderer.view;
                    this.renderer = null,
                    t.removeEventListener("webglcontextlost", this.handleContextLost),
                    t.removeEventListener("webglcontextrestored", this.handleContextRestored),
                    this.gl.useProgram(null),
                    this.extensions.loseContext && this.extensions.loseContext.loseContext()
                }
                ,
                t.prototype.postrender = function() {
                    this.renderer.renderingToScreen && this.gl.flush()
                }
                ,
                t.prototype.validateContext = function(t) {
                    var e = t.getContextAttributes()
                      , n = "WebGL2RenderingContext"in globalThis && t instanceof globalThis.WebGL2RenderingContext;
                    n && (this.webGLVersion = 2),
                    e && !e.stencil && console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");
                    var r = n || !!t.getExtension("OES_element_index_uint");
                    this.supports.uint32Indices = r,
                    r || console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")
                }
                ,
                t
            }()
              , _n = function(t) {
                this.framebuffer = t,
                this.stencil = null,
                this.dirtyId = -1,
                this.dirtyFormat = -1,
                this.dirtySize = -1,
                this.multisample = B.NONE,
                this.msaaBuffer = null,
                this.blitFramebuffer = null,
                this.mipLevel = 0
            }
              , vn = new jt
              , gn = function() {
                function t(t) {
                    this.renderer = t,
                    this.managedFramebuffers = [],
                    this.unknownFramebuffer = new Xe(10,10),
                    this.msaaSamples = null
                }
                return t.prototype.contextChange = function() {
                    var t = this.gl = this.renderer.gl;
                    if (this.CONTEXT_UID = this.renderer.CONTEXT_UID,
                    this.current = this.unknownFramebuffer,
                    this.viewport = new jt,
                    this.hasMRT = !0,
                    this.writeDepthTexture = !0,
                    this.disposeAll(!0),
                    1 === this.renderer.context.webGLVersion) {
                        var e = this.renderer.context.extensions.drawBuffers
                          , n = this.renderer.context.extensions.depthTexture;
                        st.PREFER_ENV === v.WEBGL_LEGACY && (e = null,
                        n = null),
                        e ? t.drawBuffers = function(t) {
                            return e.drawBuffersWEBGL(t)
                        }
                        : (this.hasMRT = !1,
                        t.drawBuffers = function() {}
                        ),
                        n || (this.writeDepthTexture = !1)
                    } else
                        this.msaaSamples = t.getInternalformatParameter(t.RENDERBUFFER, t.RGBA8, t.SAMPLES)
                }
                ,
                t.prototype.bind = function(t, e, n) {
                    void 0 === n && (n = 0);
                    var r = this.gl;
                    if (t) {
                        var i = t.glFramebuffers[this.CONTEXT_UID] || this.initFramebuffer(t);
                        this.current !== t && (this.current = t,
                        r.bindFramebuffer(r.FRAMEBUFFER, i.framebuffer)),
                        i.mipLevel !== n && (t.dirtyId++,
                        t.dirtyFormat++,
                        i.mipLevel = n),
                        i.dirtyId !== t.dirtyId && (i.dirtyId = t.dirtyId,
                        i.dirtyFormat !== t.dirtyFormat ? (i.dirtyFormat = t.dirtyFormat,
                        i.dirtySize = t.dirtySize,
                        this.updateFramebuffer(t, n)) : i.dirtySize !== t.dirtySize && (i.dirtySize = t.dirtySize,
                        this.resizeFramebuffer(t)));
                        for (var o = 0; o < t.colorTextures.length; o++) {
                            var s = t.colorTextures[o];
                            this.renderer.texture.unbind(s.parentTextureArray || s)
                        }
                        if (t.depthTexture && this.renderer.texture.unbind(t.depthTexture),
                        e) {
                            var a = e.width >> n
                              , u = e.height >> n
                              , h = a / e.width;
                            this.setViewport(e.x * h, e.y * h, a, u)
                        } else
                            a = t.width >> n,
                            u = t.height >> n,
                            this.setViewport(0, 0, a, u)
                    } else
                        this.current && (this.current = null,
                        r.bindFramebuffer(r.FRAMEBUFFER, null)),
                        e ? this.setViewport(e.x, e.y, e.width, e.height) : this.setViewport(0, 0, this.renderer.width, this.renderer.height)
                }
                ,
                t.prototype.setViewport = function(t, e, n, r) {
                    var i = this.viewport;
                    t = Math.round(t),
                    e = Math.round(e),
                    n = Math.round(n),
                    r = Math.round(r),
                    i.width === n && i.height === r && i.x === t && i.y === e || (i.x = t,
                    i.y = e,
                    i.width = n,
                    i.height = r,
                    this.gl.viewport(t, e, n, r))
                }
                ,
                Object.defineProperty(t.prototype, "size", {
                    get: function() {
                        return this.current ? {
                            x: 0,
                            y: 0,
                            width: this.current.width,
                            height: this.current.height
                        } : {
                            x: 0,
                            y: 0,
                            width: this.renderer.width,
                            height: this.renderer.height
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.clear = function(t, e, n, r, i) {
                    void 0 === i && (i = y.COLOR | y.DEPTH);
                    var o = this.gl;
                    o.clearColor(t, e, n, r),
                    o.clear(i)
                }
                ,
                t.prototype.initFramebuffer = function(t) {
                    var e = this.gl
                      , n = new _n(e.createFramebuffer());
                    return n.multisample = this.detectSamples(t.multisample),
                    t.glFramebuffers[this.CONTEXT_UID] = n,
                    this.managedFramebuffers.push(t),
                    t.disposeRunner.add(this),
                    n
                }
                ,
                t.prototype.resizeFramebuffer = function(t) {
                    var e = this.gl
                      , n = t.glFramebuffers[this.CONTEXT_UID];
                    n.msaaBuffer && (e.bindRenderbuffer(e.RENDERBUFFER, n.msaaBuffer),
                    e.renderbufferStorageMultisample(e.RENDERBUFFER, n.multisample, e.RGBA8, t.width, t.height)),
                    n.stencil && (e.bindRenderbuffer(e.RENDERBUFFER, n.stencil),
                    n.msaaBuffer ? e.renderbufferStorageMultisample(e.RENDERBUFFER, n.multisample, e.DEPTH24_STENCIL8, t.width, t.height) : e.renderbufferStorage(e.RENDERBUFFER, e.DEPTH_STENCIL, t.width, t.height));
                    var r = t.colorTextures
                      , i = r.length;
                    e.drawBuffers || (i = Math.min(i, 1));
                    for (var o = 0; o < i; o++) {
                        var s = r[o]
                          , a = s.parentTextureArray || s;
                        this.renderer.texture.bind(a, 0)
                    }
                    t.depthTexture && this.writeDepthTexture && this.renderer.texture.bind(t.depthTexture, 0)
                }
                ,
                t.prototype.updateFramebuffer = function(t, e) {
                    var n = this.gl
                      , r = t.glFramebuffers[this.CONTEXT_UID]
                      , i = t.colorTextures
                      , o = i.length;
                    n.drawBuffers || (o = Math.min(o, 1)),
                    r.multisample > 1 && this.canMultisampleFramebuffer(t) ? (r.msaaBuffer = r.msaaBuffer || n.createRenderbuffer(),
                    n.bindRenderbuffer(n.RENDERBUFFER, r.msaaBuffer),
                    n.renderbufferStorageMultisample(n.RENDERBUFFER, r.multisample, n.RGBA8, t.width, t.height),
                    n.framebufferRenderbuffer(n.FRAMEBUFFER, n.COLOR_ATTACHMENT0, n.RENDERBUFFER, r.msaaBuffer)) : r.msaaBuffer && (n.deleteRenderbuffer(r.msaaBuffer),
                    r.msaaBuffer = null,
                    r.blitFramebuffer && (r.blitFramebuffer.dispose(),
                    r.blitFramebuffer = null));
                    for (var s = [], a = 0; a < o; a++) {
                        var u = i[a]
                          , h = u.parentTextureArray || u;
                        this.renderer.texture.bind(h, 0),
                        0 === a && r.msaaBuffer || (n.framebufferTexture2D(n.FRAMEBUFFER, n.COLOR_ATTACHMENT0 + a, u.target, h._glTextures[this.CONTEXT_UID].texture, e),
                        s.push(n.COLOR_ATTACHMENT0 + a))
                    }
                    if (s.length > 1 && n.drawBuffers(s),
                    t.depthTexture && this.writeDepthTexture) {
                        var l = t.depthTexture;
                        this.renderer.texture.bind(l, 0),
                        n.framebufferTexture2D(n.FRAMEBUFFER, n.DEPTH_ATTACHMENT, n.TEXTURE_2D, l._glTextures[this.CONTEXT_UID].texture, e)
                    }
                    !t.stencil && !t.depth || t.depthTexture && this.writeDepthTexture ? r.stencil && (n.deleteRenderbuffer(r.stencil),
                    r.stencil = null) : (r.stencil = r.stencil || n.createRenderbuffer(),
                    n.bindRenderbuffer(n.RENDERBUFFER, r.stencil),
                    r.msaaBuffer ? n.renderbufferStorageMultisample(n.RENDERBUFFER, r.multisample, n.DEPTH24_STENCIL8, t.width, t.height) : n.renderbufferStorage(n.RENDERBUFFER, n.DEPTH_STENCIL, t.width, t.height),
                    n.framebufferRenderbuffer(n.FRAMEBUFFER, n.DEPTH_STENCIL_ATTACHMENT, n.RENDERBUFFER, r.stencil))
                }
                ,
                t.prototype.canMultisampleFramebuffer = function(t) {
                    return 1 !== this.renderer.context.webGLVersion && t.colorTextures.length <= 1 && !t.depthTexture
                }
                ,
                t.prototype.detectSamples = function(t) {
                    var e = this.msaaSamples
                      , n = B.NONE;
                    if (t <= 1 || null === e)
                        return n;
                    for (var r = 0; r < e.length; r++)
                        if (e[r] <= t) {
                            n = e[r];
                            break
                        }
                    return 1 === n && (n = B.NONE),
                    n
                }
                ,
                t.prototype.blit = function(t, e, n) {
                    var r = this
                      , i = r.current
                      , o = r.renderer
                      , s = r.gl
                      , a = r.CONTEXT_UID;
                    if (2 === o.context.webGLVersion && i) {
                        var u = i.glFramebuffers[a];
                        if (u) {
                            if (!t) {
                                if (!u.msaaBuffer)
                                    return;
                                var h = i.colorTextures[0];
                                if (!h)
                                    return;
                                u.blitFramebuffer || (u.blitFramebuffer = new Xe(i.width,i.height),
                                u.blitFramebuffer.addColorTexture(0, h)),
                                (t = u.blitFramebuffer).colorTextures[0] !== h && (t.colorTextures[0] = h,
                                t.dirtyId++,
                                t.dirtyFormat++),
                                t.width === i.width && t.height === i.height || (t.width = i.width,
                                t.height = i.height,
                                t.dirtyId++,
                                t.dirtySize++)
                            }
                            e || ((e = vn).width = i.width,
                            e.height = i.height),
                            n || (n = e);
                            var l = e.width === n.width && e.height === n.height;
                            this.bind(t),
                            s.bindFramebuffer(s.READ_FRAMEBUFFER, u.framebuffer),
                            s.blitFramebuffer(e.left, e.top, e.right, e.bottom, n.left, n.top, n.right, n.bottom, s.COLOR_BUFFER_BIT, l ? s.NEAREST : s.LINEAR)
                        }
                    }
                }
                ,
                t.prototype.disposeFramebuffer = function(t, e) {
                    var n = t.glFramebuffers[this.CONTEXT_UID]
                      , r = this.gl;
                    if (n) {
                        delete t.glFramebuffers[this.CONTEXT_UID];
                        var i = this.managedFramebuffers.indexOf(t);
                        i >= 0 && this.managedFramebuffers.splice(i, 1),
                        t.disposeRunner.remove(this),
                        e || (r.deleteFramebuffer(n.framebuffer),
                        n.msaaBuffer && r.deleteRenderbuffer(n.msaaBuffer),
                        n.stencil && r.deleteRenderbuffer(n.stencil)),
                        n.blitFramebuffer && n.blitFramebuffer.dispose()
                    }
                }
                ,
                t.prototype.disposeAll = function(t) {
                    var e = this.managedFramebuffers;
                    this.managedFramebuffers = [];
                    for (var n = 0; n < e.length; n++)
                        this.disposeFramebuffer(e[n], t)
                }
                ,
                t.prototype.forceStencil = function() {
                    var t = this.current;
                    if (t) {
                        var e = t.glFramebuffers[this.CONTEXT_UID];
                        if (e && !e.stencil) {
                            t.stencil = !0;
                            var n = t.width
                              , r = t.height
                              , i = this.gl
                              , o = i.createRenderbuffer();
                            i.bindRenderbuffer(i.RENDERBUFFER, o),
                            e.msaaBuffer ? i.renderbufferStorageMultisample(i.RENDERBUFFER, e.multisample, i.DEPTH24_STENCIL8, n, r) : i.renderbufferStorage(i.RENDERBUFFER, i.DEPTH_STENCIL, n, r),
                            e.stencil = o,
                            i.framebufferRenderbuffer(i.FRAMEBUFFER, i.DEPTH_STENCIL_ATTACHMENT, i.RENDERBUFFER, o)
                        }
                    }
                }
                ,
                t.prototype.reset = function() {
                    this.current = this.unknownFramebuffer,
                    this.viewport = new jt
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t
            }()
              , yn = {
                5126: 4,
                5123: 2,
                5121: 1
            }
              , bn = function() {
                function t(t) {
                    this.renderer = t,
                    this._activeGeometry = null,
                    this._activeVao = null,
                    this.hasVao = !0,
                    this.hasInstance = !0,
                    this.canUseUInt32ElementIndex = !1,
                    this.managedGeometries = {}
                }
                return t.prototype.contextChange = function() {
                    this.disposeAll(!0);
                    var t = this.gl = this.renderer.gl
                      , e = this.renderer.context;
                    if (this.CONTEXT_UID = this.renderer.CONTEXT_UID,
                    2 !== e.webGLVersion) {
                        var n = this.renderer.context.extensions.vertexArrayObject;
                        st.PREFER_ENV === v.WEBGL_LEGACY && (n = null),
                        n ? (t.createVertexArray = function() {
                            return n.createVertexArrayOES()
                        }
                        ,
                        t.bindVertexArray = function(t) {
                            return n.bindVertexArrayOES(t)
                        }
                        ,
                        t.deleteVertexArray = function(t) {
                            return n.deleteVertexArrayOES(t)
                        }
                        ) : (this.hasVao = !1,
                        t.createVertexArray = function() {
                            return null
                        }
                        ,
                        t.bindVertexArray = function() {
                            return null
                        }
                        ,
                        t.deleteVertexArray = function() {
                            return null
                        }
                        )
                    }
                    if (2 !== e.webGLVersion) {
                        var r = t.getExtension("ANGLE_instanced_arrays");
                        r ? (t.vertexAttribDivisor = function(t, e) {
                            return r.vertexAttribDivisorANGLE(t, e)
                        }
                        ,
                        t.drawElementsInstanced = function(t, e, n, i, o) {
                            return r.drawElementsInstancedANGLE(t, e, n, i, o)
                        }
                        ,
                        t.drawArraysInstanced = function(t, e, n, i) {
                            return r.drawArraysInstancedANGLE(t, e, n, i)
                        }
                        ) : this.hasInstance = !1
                    }
                    this.canUseUInt32ElementIndex = 2 === e.webGLVersion || !!e.extensions.uint32ElementIndex
                }
                ,
                t.prototype.bind = function(t, e) {
                    e = e || this.renderer.shader.shader;
                    var n = this.gl
                      , r = t.glVertexArrayObjects[this.CONTEXT_UID]
                      , i = !1;
                    r || (this.managedGeometries[t.id] = t,
                    t.disposeRunner.add(this),
                    t.glVertexArrayObjects[this.CONTEXT_UID] = r = {},
                    i = !0);
                    var o = r[e.program.id] || this.initGeometryVao(t, e, i);
                    this._activeGeometry = t,
                    this._activeVao !== o && (this._activeVao = o,
                    this.hasVao ? n.bindVertexArray(o) : this.activateVao(t, e.program)),
                    this.updateBuffers()
                }
                ,
                t.prototype.reset = function() {
                    this.unbind()
                }
                ,
                t.prototype.updateBuffers = function() {
                    for (var t = this._activeGeometry, e = this.renderer.buffer, n = 0; n < t.buffers.length; n++) {
                        var r = t.buffers[n];
                        e.update(r)
                    }
                }
                ,
                t.prototype.checkCompatibility = function(t, e) {
                    var n = t.attributes
                      , r = e.attributeData;
                    for (var i in r)
                        if (!n[i])
                            throw new Error('shader and geometry incompatible, geometry missing the "' + i + '" attribute')
                }
                ,
                t.prototype.getSignature = function(t, e) {
                    var n = t.attributes
                      , r = e.attributeData
                      , i = ["g", t.id];
                    for (var o in n)
                        r[o] && i.push(o, r[o].location);
                    return i.join("-")
                }
                ,
                t.prototype.initGeometryVao = function(t, e, n) {
                    void 0 === n && (n = !0);
                    var r = this.gl
                      , i = this.CONTEXT_UID
                      , o = this.renderer.buffer
                      , s = e.program;
                    s.glPrograms[i] || this.renderer.shader.generateProgram(e),
                    this.checkCompatibility(t, s);
                    var a = this.getSignature(t, s)
                      , u = t.glVertexArrayObjects[this.CONTEXT_UID]
                      , h = u[a];
                    if (h)
                        return u[s.id] = h,
                        h;
                    var l = t.buffers
                      , c = t.attributes
                      , d = {}
                      , p = {};
                    for (var f in l)
                        d[f] = 0,
                        p[f] = 0;
                    for (var f in c)
                        !c[f].size && s.attributeData[f] ? c[f].size = s.attributeData[f].size : c[f].size || console.warn("PIXI Geometry attribute '" + f + "' size cannot be determined (likely the bound shader does not have the attribute)"),
                        d[c[f].buffer] += c[f].size * yn[c[f].type];
                    for (var f in c) {
                        var m = c[f]
                          , _ = m.size;
                        void 0 === m.stride && (d[m.buffer] === _ * yn[m.type] ? m.stride = 0 : m.stride = d[m.buffer]),
                        void 0 === m.start && (m.start = p[m.buffer],
                        p[m.buffer] += _ * yn[m.type])
                    }
                    h = r.createVertexArray(),
                    r.bindVertexArray(h);
                    for (var v = 0; v < l.length; v++) {
                        var g = l[v];
                        o.bind(g),
                        n && g._glBuffers[i].refCount++
                    }
                    return this.activateVao(t, s),
                    this._activeVao = h,
                    u[s.id] = h,
                    u[a] = h,
                    h
                }
                ,
                t.prototype.disposeGeometry = function(t, e) {
                    var n;
                    if (this.managedGeometries[t.id]) {
                        delete this.managedGeometries[t.id];
                        var r = t.glVertexArrayObjects[this.CONTEXT_UID]
                          , i = this.gl
                          , o = t.buffers
                          , s = null === (n = this.renderer) || void 0 === n ? void 0 : n.buffer;
                        if (t.disposeRunner.remove(this),
                        r) {
                            if (s)
                                for (var a = 0; a < o.length; a++) {
                                    var u = o[a]._glBuffers[this.CONTEXT_UID];
                                    u && (u.refCount--,
                                    0 !== u.refCount || e || s.dispose(o[a], e))
                                }
                            if (!e)
                                for (var h in r)
                                    if ("g" === h[0]) {
                                        var l = r[h];
                                        this._activeVao === l && this.unbind(),
                                        i.deleteVertexArray(l)
                                    }
                            delete t.glVertexArrayObjects[this.CONTEXT_UID]
                        }
                    }
                }
                ,
                t.prototype.disposeAll = function(t) {
                    for (var e = Object.keys(this.managedGeometries), n = 0; n < e.length; n++)
                        this.disposeGeometry(this.managedGeometries[e[n]], t)
                }
                ,
                t.prototype.activateVao = function(t, e) {
                    var n = this.gl
                      , r = this.CONTEXT_UID
                      , i = this.renderer.buffer
                      , o = t.buffers
                      , s = t.attributes;
                    t.indexBuffer && i.bind(t.indexBuffer);
                    var a = null;
                    for (var u in s) {
                        var h = s[u]
                          , l = o[h.buffer]
                          , c = l._glBuffers[r];
                        if (e.attributeData[u]) {
                            a !== c && (i.bind(l),
                            a = c);
                            var d = e.attributeData[u].location;
                            if (n.enableVertexAttribArray(d),
                            n.vertexAttribPointer(d, h.size, h.type || n.FLOAT, h.normalized, h.stride, h.start),
                            h.instance) {
                                if (!this.hasInstance)
                                    throw new Error("geometry error, GPU Instancing is not supported on this device");
                                n.vertexAttribDivisor(d, 1)
                            }
                        }
                    }
                }
                ,
                t.prototype.draw = function(t, e, n, r) {
                    var i = this.gl
                      , o = this._activeGeometry;
                    if (o.indexBuffer) {
                        var s = o.indexBuffer.data.BYTES_PER_ELEMENT
                          , a = 2 === s ? i.UNSIGNED_SHORT : i.UNSIGNED_INT;
                        2 === s || 4 === s && this.canUseUInt32ElementIndex ? o.instanced ? i.drawElementsInstanced(t, e || o.indexBuffer.data.length, a, (n || 0) * s, r || 1) : i.drawElements(t, e || o.indexBuffer.data.length, a, (n || 0) * s) : console.warn("unsupported index buffer type: uint32")
                    } else
                        o.instanced ? i.drawArraysInstanced(t, n, e || o.getSize(), r || 1) : i.drawArrays(t, n, e || o.getSize());
                    return this
                }
                ,
                t.prototype.unbind = function() {
                    this.gl.bindVertexArray(null),
                    this._activeVao = null,
                    this._activeGeometry = null
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t
            }()
              , xn = function() {
                function t(t) {
                    void 0 === t && (t = null),
                    this.type = P.NONE,
                    this.autoDetect = !0,
                    this.maskObject = t || null,
                    this.pooled = !1,
                    this.isMaskData = !0,
                    this.resolution = null,
                    this.multisample = st.FILTER_MULTISAMPLE,
                    this.enabled = !0,
                    this.colorMask = 15,
                    this._filters = null,
                    this._stencilCounter = 0,
                    this._scissorCounter = 0,
                    this._scissorRect = null,
                    this._scissorRectLocal = null,
                    this._colorMask = 15,
                    this._target = null
                }
                return Object.defineProperty(t.prototype, "filter", {
                    get: function() {
                        return this._filters ? this._filters[0] : null
                    },
                    set: function(t) {
                        t ? this._filters ? this._filters[0] = t : this._filters = [t] : this._filters = null
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.reset = function() {
                    this.pooled && (this.maskObject = null,
                    this.type = P.NONE,
                    this.autoDetect = !0),
                    this._target = null,
                    this._scissorRectLocal = null
                }
                ,
                t.prototype.copyCountersOrReset = function(t) {
                    t ? (this._stencilCounter = t._stencilCounter,
                    this._scissorCounter = t._scissorCounter,
                    this._scissorRect = t._scissorRect) : (this._stencilCounter = 0,
                    this._scissorCounter = 0,
                    this._scissorRect = null)
                }
                ,
                t
            }();
            function Tn(t, e, n) {
                var r = t.createShader(e);
                return t.shaderSource(r, n),
                t.compileShader(r),
                r
            }
            function En(t, e) {
                var n = t.getShaderSource(e).split("\n").map((function(t, e) {
                    return e + ": " + t
                }
                ))
                  , r = t.getShaderInfoLog(e)
                  , i = r.split("\n")
                  , o = {}
                  , s = i.map((function(t) {
                    return parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/, "$1"))
                }
                )).filter((function(t) {
                    return !(!t || o[t] || (o[t] = !0,
                    0))
                }
                ))
                  , a = [""];
                s.forEach((function(t) {
                    n[t - 1] = "%c" + n[t - 1] + "%c",
                    a.push("background: #FF0000; color:#FFFFFF; font-size: 10px", "font-size: 10px")
                }
                ));
                var u = n.join("\n");
                a[0] = u,
                console.error(r),
                console.groupCollapsed("click to view full shader code"),
                console.warn.apply(console, a),
                console.groupEnd()
            }
            function An(t) {
                for (var e = new Array(t), n = 0; n < e.length; n++)
                    e[n] = !1;
                return e
            }
            function Sn(t, e) {
                switch (t) {
                case "float":
                    return 0;
                case "vec2":
                    return new Float32Array(2 * e);
                case "vec3":
                    return new Float32Array(3 * e);
                case "vec4":
                    return new Float32Array(4 * e);
                case "int":
                case "uint":
                case "sampler2D":
                case "sampler2DArray":
                    return 0;
                case "ivec2":
                    return new Int32Array(2 * e);
                case "ivec3":
                    return new Int32Array(3 * e);
                case "ivec4":
                    return new Int32Array(4 * e);
                case "uvec2":
                    return new Uint32Array(2 * e);
                case "uvec3":
                    return new Uint32Array(3 * e);
                case "uvec4":
                    return new Uint32Array(4 * e);
                case "bool":
                    return !1;
                case "bvec2":
                    return An(2 * e);
                case "bvec3":
                    return An(3 * e);
                case "bvec4":
                    return An(4 * e);
                case "mat2":
                    return new Float32Array([1, 0, 0, 1]);
                case "mat3":
                    return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
                case "mat4":
                    return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
                }
                return null
            }
            var wn, Rn = {}, On = Rn;
            function In(t, e, n) {
                if ("precision" !== t.substring(0, 9)) {
                    var r = e;
                    return e === M.HIGH && n !== M.HIGH && (r = M.MEDIUM),
                    "precision " + r + " float;\n" + t
                }
                return n !== M.HIGH && "precision highp" === t.substring(0, 15) ? t.replace("precision highp", "precision mediump") : t
            }
            var Cn = {
                float: 1,
                vec2: 2,
                vec3: 3,
                vec4: 4,
                int: 1,
                ivec2: 2,
                ivec3: 3,
                ivec4: 4,
                uint: 1,
                uvec2: 2,
                uvec3: 3,
                uvec4: 4,
                bool: 1,
                bvec2: 2,
                bvec3: 3,
                bvec4: 4,
                mat2: 4,
                mat3: 9,
                mat4: 16,
                sampler2D: 1
            };
            function Dn(t) {
                return Cn[t]
            }
            var Mn = null
              , Pn = {
                FLOAT: "float",
                FLOAT_VEC2: "vec2",
                FLOAT_VEC3: "vec3",
                FLOAT_VEC4: "vec4",
                INT: "int",
                INT_VEC2: "ivec2",
                INT_VEC3: "ivec3",
                INT_VEC4: "ivec4",
                UNSIGNED_INT: "uint",
                UNSIGNED_INT_VEC2: "uvec2",
                UNSIGNED_INT_VEC3: "uvec3",
                UNSIGNED_INT_VEC4: "uvec4",
                BOOL: "bool",
                BOOL_VEC2: "bvec2",
                BOOL_VEC3: "bvec3",
                BOOL_VEC4: "bvec4",
                FLOAT_MAT2: "mat2",
                FLOAT_MAT3: "mat3",
                FLOAT_MAT4: "mat4",
                SAMPLER_2D: "sampler2D",
                INT_SAMPLER_2D: "sampler2D",
                UNSIGNED_INT_SAMPLER_2D: "sampler2D",
                SAMPLER_CUBE: "samplerCube",
                INT_SAMPLER_CUBE: "samplerCube",
                UNSIGNED_INT_SAMPLER_CUBE: "samplerCube",
                SAMPLER_2D_ARRAY: "sampler2DArray",
                INT_SAMPLER_2D_ARRAY: "sampler2DArray",
                UNSIGNED_INT_SAMPLER_2D_ARRAY: "sampler2DArray"
            };
            function Nn(t, e) {
                if (!Mn) {
                    var n = Object.keys(Pn);
                    Mn = {};
                    for (var r = 0; r < n.length; ++r) {
                        var i = n[r];
                        Mn[t[i]] = Pn[i]
                    }
                }
                return Mn[e]
            }
            var Bn, Ln = [{
                test: function(t) {
                    return "float" === t.type && 1 === t.size && !t.isArray
                },
                code: function(t) {
                    return '\n            if(uv["' + t + '"] !== ud["' + t + '"].value)\n            {\n                ud["' + t + '"].value = uv["' + t + '"]\n                gl.uniform1f(ud["' + t + '"].location, uv["' + t + '"])\n            }\n            '
                }
            }, {
                test: function(t, e) {
                    return !("sampler2D" !== t.type && "samplerCube" !== t.type && "sampler2DArray" !== t.type || 1 !== t.size || t.isArray || null != e && void 0 === e.castToBaseTexture)
                },
                code: function(t) {
                    return 't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["' + t + '"], t);\n\n            if(ud["' + t + '"].value !== t)\n            {\n                ud["' + t + '"].value = t;\n                gl.uniform1i(ud["' + t + '"].location, t);\n; // eslint-disable-line max-len\n            }'
                }
            }, {
                test: function(t, e) {
                    return "mat3" === t.type && 1 === t.size && !t.isArray && void 0 !== e.a
                },
                code: function(t) {
                    return '\n            gl.uniformMatrix3fv(ud["' + t + '"].location, false, uv["' + t + '"].toArray(true));\n            '
                },
                codeUbo: function(t) {
                    return "\n                var " + t + "_matrix = uv." + t + ".toArray(true);\n\n                data[offset] = " + t + "_matrix[0];\n                data[offset+1] = " + t + "_matrix[1];\n                data[offset+2] = " + t + "_matrix[2];\n        \n                data[offset + 4] = " + t + "_matrix[3];\n                data[offset + 5] = " + t + "_matrix[4];\n                data[offset + 6] = " + t + "_matrix[5];\n        \n                data[offset + 8] = " + t + "_matrix[6];\n                data[offset + 9] = " + t + "_matrix[7];\n                data[offset + 10] = " + t + "_matrix[8];\n            "
                }
            }, {
                test: function(t, e) {
                    return "vec2" === t.type && 1 === t.size && !t.isArray && void 0 !== e.x
                },
                code: function(t) {
                    return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["' + t + '"].location, v.x, v.y);\n                }'
                },
                codeUbo: function(t) {
                    return "\n                v = uv." + t + ";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "
                }
            }, {
                test: function(t) {
                    return "vec2" === t.type && 1 === t.size && !t.isArray
                },
                code: function(t) {
                    return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["' + t + '"].location, v[0], v[1]);\n                }\n            '
                }
            }, {
                test: function(t, e) {
                    return "vec4" === t.type && 1 === t.size && !t.isArray && void 0 !== e.width
                },
                code: function(t) {
                    return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["' + t + '"].location, v.x, v.y, v.width, v.height)\n                }'
                },
                codeUbo: function(t) {
                    return "\n                    v = uv." + t + ";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "
                }
            }, {
                test: function(t) {
                    return "vec4" === t.type && 1 === t.size && !t.isArray
                },
                code: function(t) {
                    return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["' + t + '"].location, v[0], v[1], v[2], v[3])\n                }'
                }
            }], Fn = {
                float: "\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",
                vec2: "\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",
                vec3: "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",
                vec4: "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",
                int: "\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",
                ivec2: "\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",
                ivec3: "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",
                ivec4: "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",
                uint: "\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",
                uvec2: "\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",
                uvec3: "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",
                uvec4: "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",
                bool: "\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",
                bvec2: "\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",
                bvec3: "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",
                bvec4: "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",
                mat2: "gl.uniformMatrix2fv(location, false, v)",
                mat3: "gl.uniformMatrix3fv(location, false, v)",
                mat4: "gl.uniformMatrix4fv(location, false, v)",
                sampler2D: "\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",
                samplerCube: "\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",
                sampler2DArray: "\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"
            }, Gn = {
                float: "gl.uniform1fv(location, v)",
                vec2: "gl.uniform2fv(location, v)",
                vec3: "gl.uniform3fv(location, v)",
                vec4: "gl.uniform4fv(location, v)",
                mat4: "gl.uniformMatrix4fv(location, false, v)",
                mat3: "gl.uniformMatrix3fv(location, false, v)",
                mat2: "gl.uniformMatrix2fv(location, false, v)",
                int: "gl.uniform1iv(location, v)",
                ivec2: "gl.uniform2iv(location, v)",
                ivec3: "gl.uniform3iv(location, v)",
                ivec4: "gl.uniform4iv(location, v)",
                uint: "gl.uniform1uiv(location, v)",
                uvec2: "gl.uniform2uiv(location, v)",
                uvec3: "gl.uniform3uiv(location, v)",
                uvec4: "gl.uniform4uiv(location, v)",
                bool: "gl.uniform1iv(location, v)",
                bvec2: "gl.uniform2iv(location, v)",
                bvec3: "gl.uniform3iv(location, v)",
                bvec4: "gl.uniform4iv(location, v)",
                sampler2D: "gl.uniform1iv(location, v)",
                samplerCube: "gl.uniform1iv(location, v)",
                sampler2DArray: "gl.uniform1iv(location, v)"
            }, kn = ["precision mediump float;", "void main(void){", "float test = 0.1;", "%forloop%", "gl_FragColor = vec4(0.0);", "}"].join("\n");
            function Un(t) {
                for (var e = "", n = 0; n < t; ++n)
                    n > 0 && (e += "\nelse "),
                    n < t - 1 && (e += "if(test == " + n + ".0){}");
                return e
            }
            var Xn = 0
              , Hn = {}
              , jn = function() {
                function t(e, n, r) {
                    void 0 === r && (r = "pixi-shader"),
                    this.id = Xn++,
                    this.vertexSrc = e || t.defaultVertexSrc,
                    this.fragmentSrc = n || t.defaultFragmentSrc,
                    this.vertexSrc = this.vertexSrc.trim(),
                    this.fragmentSrc = this.fragmentSrc.trim(),
                    "#version" !== this.vertexSrc.substring(0, 8) && (r = r.replace(/\s+/g, "-"),
                    Hn[r] ? (Hn[r]++,
                    r += "-" + Hn[r]) : Hn[r] = 1,
                    this.vertexSrc = "#define SHADER_NAME " + r + "\n" + this.vertexSrc,
                    this.fragmentSrc = "#define SHADER_NAME " + r + "\n" + this.fragmentSrc,
                    this.vertexSrc = In(this.vertexSrc, st.PRECISION_VERTEX, M.HIGH),
                    this.fragmentSrc = In(this.fragmentSrc, st.PRECISION_FRAGMENT, function() {
                        if (!wn) {
                            wn = M.MEDIUM;
                            var t = function() {
                                if (On === Rn || On && On.isContextLost()) {
                                    var t = st.ADAPTER.createCanvas()
                                      , e = void 0;
                                    st.PREFER_ENV >= v.WEBGL2 && (e = t.getContext("webgl2", {})),
                                    e || ((e = t.getContext("webgl", {}) || t.getContext("experimental-webgl", {})) ? e.getExtension("WEBGL_draw_buffers") : e = null),
                                    On = e
                                }
                                return On
                            }();
                            if (t && t.getShaderPrecisionFormat) {
                                var e = t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.HIGH_FLOAT);
                                wn = e.precision ? M.HIGH : M.MEDIUM
                            }
                        }
                        return wn
                    }())),
                    this.glPrograms = {},
                    this.syncUniforms = null
                }
                return Object.defineProperty(t, "defaultVertexSrc", {
                    get: function() {
                        return "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t, "defaultFragmentSrc", {
                    get: function() {
                        return "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.from = function(e, n, r) {
                    var i = e + n
                      , o = Mt[i];
                    return o || (Mt[i] = o = new t(e,n,r)),
                    o
                }
                ,
                t
            }()
              , $n = function() {
                function t(t, e) {
                    this.uniformBindCount = 0,
                    this.program = t,
                    this.uniformGroup = e ? e instanceof an ? e : new an(e) : new an({}),
                    this.disposeRunner = new ve("disposeShader")
                }
                return t.prototype.checkUniformExists = function(t, e) {
                    if (e.uniforms[t])
                        return !0;
                    for (var n in e.uniforms) {
                        var r = e.uniforms[n];
                        if (r.group && this.checkUniformExists(t, r))
                            return !0
                    }
                    return !1
                }
                ,
                t.prototype.destroy = function() {
                    this.uniformGroup = null,
                    this.disposeRunner.emit(this),
                    this.disposeRunner.destroy()
                }
                ,
                Object.defineProperty(t.prototype, "uniforms", {
                    get: function() {
                        return this.uniformGroup.uniforms
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.from = function(e, n, r) {
                    return new t(jn.from(e, n),r)
                }
                ,
                t
            }()
              , Wn = function() {
                function t() {
                    this.data = 0,
                    this.blendMode = b.NORMAL,
                    this.polygonOffset = 0,
                    this.blend = !0,
                    this.depthMask = !0
                }
                return Object.defineProperty(t.prototype, "blend", {
                    get: function() {
                        return !!(1 & this.data)
                    },
                    set: function(t) {
                        !!(1 & this.data) !== t && (this.data ^= 1)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "offsets", {
                    get: function() {
                        return !!(2 & this.data)
                    },
                    set: function(t) {
                        !!(2 & this.data) !== t && (this.data ^= 2)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "culling", {
                    get: function() {
                        return !!(4 & this.data)
                    },
                    set: function(t) {
                        !!(4 & this.data) !== t && (this.data ^= 4)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "depthTest", {
                    get: function() {
                        return !!(8 & this.data)
                    },
                    set: function(t) {
                        !!(8 & this.data) !== t && (this.data ^= 8)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "depthMask", {
                    get: function() {
                        return !!(32 & this.data)
                    },
                    set: function(t) {
                        !!(32 & this.data) !== t && (this.data ^= 32)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "clockwiseFrontFace", {
                    get: function() {
                        return !!(16 & this.data)
                    },
                    set: function(t) {
                        !!(16 & this.data) !== t && (this.data ^= 16)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "blendMode", {
                    get: function() {
                        return this._blendMode
                    },
                    set: function(t) {
                        this.blend = t !== b.NONE,
                        this._blendMode = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "polygonOffset", {
                    get: function() {
                        return this._polygonOffset
                    },
                    set: function(t) {
                        this.offsets = !!t,
                        this._polygonOffset = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.toString = function() {
                    return "[@pixi/core:State blendMode=" + this.blendMode + " clockwiseFrontFace=" + this.clockwiseFrontFace + " culling=" + this.culling + " depthMask=" + this.depthMask + " polygonOffset=" + this.polygonOffset + "]"
                }
                ,
                t.for2d = function() {
                    var e = new t;
                    return e.depthTest = !1,
                    e.blend = !0,
                    e
                }
                ,
                t
            }()
              , Vn = function(t) {
                function e(n, r, i) {
                    var o = this
                      , s = jn.from(n || e.defaultVertexSrc, r || e.defaultFragmentSrc);
                    return (o = t.call(this, s, i) || this).padding = 0,
                    o.resolution = st.FILTER_RESOLUTION,
                    o.multisample = st.FILTER_MULTISAMPLE,
                    o.enabled = !0,
                    o.autoFit = !0,
                    o.state = new Wn,
                    o
                }
                return Ae(e, t),
                e.prototype.apply = function(t, e, n, r, i) {
                    t.applyFilter(this, e, n, r)
                }
                ,
                Object.defineProperty(e.prototype, "blendMode", {
                    get: function() {
                        return this.state.blendMode
                    },
                    set: function(t) {
                        this.state.blendMode = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "resolution", {
                    get: function() {
                        return this._resolution
                    },
                    set: function(t) {
                        this._resolution = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e, "defaultVertexSrc", {
                    get: function() {
                        return "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e, "defaultFragmentSrc", {
                    get: function() {
                        return "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e
            }($n)
              , Yn = new qt
              , zn = function() {
                function t(t, e) {
                    this._texture = t,
                    this.mapCoord = new qt,
                    this.uClampFrame = new Float32Array(4),
                    this.uClampOffset = new Float32Array(2),
                    this._textureID = -1,
                    this._updateID = 0,
                    this.clampOffset = 0,
                    this.clampMargin = void 0 === e ? .5 : e,
                    this.isSimple = !1
                }
                return Object.defineProperty(t.prototype, "texture", {
                    get: function() {
                        return this._texture
                    },
                    set: function(t) {
                        this._texture = t,
                        this._textureID = -1
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.multiplyUvs = function(t, e) {
                    void 0 === e && (e = t);
                    for (var n = this.mapCoord, r = 0; r < t.length; r += 2) {
                        var i = t[r]
                          , o = t[r + 1];
                        e[r] = i * n.a + o * n.c + n.tx,
                        e[r + 1] = i * n.b + o * n.d + n.ty
                    }
                    return e
                }
                ,
                t.prototype.update = function(t) {
                    var e = this._texture;
                    if (!e || !e.valid)
                        return !1;
                    if (!t && this._textureID === e._updateID)
                        return !1;
                    this._textureID = e._updateID,
                    this._updateID++;
                    var n = e._uvs;
                    this.mapCoord.set(n.x1 - n.x0, n.y1 - n.y0, n.x3 - n.x0, n.y3 - n.y0, n.x0, n.y0);
                    var r = e.orig
                      , i = e.trim;
                    i && (Yn.set(r.width / i.width, 0, 0, r.height / i.height, -i.x / i.width, -i.y / i.height),
                    this.mapCoord.append(Yn));
                    var o = e.baseTexture
                      , s = this.uClampFrame
                      , a = this.clampMargin / o.resolution
                      , u = this.clampOffset;
                    return s[0] = (e._frame.x + a + u) / o.width,
                    s[1] = (e._frame.y + a + u) / o.height,
                    s[2] = (e._frame.x + e._frame.width - a + u) / o.width,
                    s[3] = (e._frame.y + e._frame.height - a + u) / o.height,
                    this.uClampOffset[0] = u / o.realWidth,
                    this.uClampOffset[1] = u / o.realHeight,
                    this.isSimple = e._frame.width === o.width && e._frame.height === o.height && 0 === e.rotate,
                    !0
                }
                ,
                t
            }()
              , qn = function(t) {
                function e(e, n, r) {
                    var i = this
                      , o = null;
                    return "string" != typeof e && void 0 === n && void 0 === r && (o = e,
                    e = void 0,
                    n = void 0,
                    r = void 0),
                    (i = t.call(this, e || "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n", n || "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n", r) || this).maskSprite = o,
                    i.maskMatrix = new qt,
                    i
                }
                return Ae(e, t),
                Object.defineProperty(e.prototype, "maskSprite", {
                    get: function() {
                        return this._maskSprite
                    },
                    set: function(t) {
                        this._maskSprite = t,
                        this._maskSprite && (this._maskSprite.renderable = !1)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.apply = function(t, e, n, r) {
                    var i = this._maskSprite
                      , o = i._texture;
                    o.valid && (o.uvMatrix || (o.uvMatrix = new zn(o,0)),
                    o.uvMatrix.update(),
                    this.uniforms.npmAlpha = o.baseTexture.alphaMode ? 0 : 1,
                    this.uniforms.mask = o,
                    this.uniforms.otherMatrix = t.calculateSpriteMatrix(this.maskMatrix, i).prepend(o.uvMatrix.mapCoord),
                    this.uniforms.alpha = i.worldAlpha,
                    this.uniforms.maskClamp = o.uvMatrix.uClampFrame,
                    t.applyFilter(this, e, n, r))
                }
                ,
                e
            }(Vn)
              , Kn = function() {
                function t(t) {
                    this.renderer = t,
                    this.enableScissor = !0,
                    this.alphaMaskPool = [],
                    this.maskDataPool = [],
                    this.maskStack = [],
                    this.alphaMaskIndex = 0
                }
                return t.prototype.setMaskStack = function(t) {
                    this.maskStack = t,
                    this.renderer.scissor.setMaskStack(t),
                    this.renderer.stencil.setMaskStack(t)
                }
                ,
                t.prototype.push = function(t, e) {
                    var n = e;
                    if (!n.isMaskData) {
                        var r = this.maskDataPool.pop() || new xn;
                        r.pooled = !0,
                        r.maskObject = e,
                        n = r
                    }
                    var i = 0 !== this.maskStack.length ? this.maskStack[this.maskStack.length - 1] : null;
                    if (n.copyCountersOrReset(i),
                    n._colorMask = i ? i._colorMask : 15,
                    n.autoDetect && this.detect(n),
                    n._target = t,
                    n.type !== P.SPRITE && this.maskStack.push(n),
                    n.enabled)
                        switch (n.type) {
                        case P.SCISSOR:
                            this.renderer.scissor.push(n);
                            break;
                        case P.STENCIL:
                            this.renderer.stencil.push(n);
                            break;
                        case P.SPRITE:
                            n.copyCountersOrReset(null),
                            this.pushSpriteMask(n);
                            break;
                        case P.COLOR:
                            this.pushColorMask(n)
                        }
                    n.type === P.SPRITE && this.maskStack.push(n)
                }
                ,
                t.prototype.pop = function(t) {
                    var e = this.maskStack.pop();
                    if (e && e._target === t) {
                        if (e.enabled)
                            switch (e.type) {
                            case P.SCISSOR:
                                this.renderer.scissor.pop(e);
                                break;
                            case P.STENCIL:
                                this.renderer.stencil.pop(e.maskObject);
                                break;
                            case P.SPRITE:
                                this.popSpriteMask(e);
                                break;
                            case P.COLOR:
                                this.popColorMask(e)
                            }
                        if (e.reset(),
                        e.pooled && this.maskDataPool.push(e),
                        0 !== this.maskStack.length) {
                            var n = this.maskStack[this.maskStack.length - 1];
                            n.type === P.SPRITE && n._filters && (n._filters[0].maskSprite = n.maskObject)
                        }
                    }
                }
                ,
                t.prototype.detect = function(t) {
                    var e = t.maskObject;
                    e ? e.isSprite ? t.type = P.SPRITE : this.enableScissor && this.renderer.scissor.testScissor(t) ? t.type = P.SCISSOR : t.type = P.STENCIL : t.type = P.COLOR
                }
                ,
                t.prototype.pushSpriteMask = function(t) {
                    var e, n, r = t.maskObject, i = t._target, o = t._filters;
                    o || (o = this.alphaMaskPool[this.alphaMaskIndex]) || (o = this.alphaMaskPool[this.alphaMaskIndex] = [new qn]);
                    var s, a, u = this.renderer, h = u.renderTexture;
                    if (h.current) {
                        var l = h.current;
                        s = t.resolution || l.resolution,
                        a = null !== (e = t.multisample) && void 0 !== e ? e : l.multisample
                    } else
                        s = t.resolution || u.resolution,
                        a = null !== (n = t.multisample) && void 0 !== n ? n : u.multisample;
                    o[0].resolution = s,
                    o[0].multisample = a,
                    o[0].maskSprite = r;
                    var c = i.filterArea;
                    i.filterArea = r.getBounds(!0),
                    u.filter.push(i, o),
                    i.filterArea = c,
                    t._filters || this.alphaMaskIndex++
                }
                ,
                t.prototype.popSpriteMask = function(t) {
                    this.renderer.filter.pop(),
                    t._filters ? t._filters[0].maskSprite = null : (this.alphaMaskIndex--,
                    this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite = null)
                }
                ,
                t.prototype.pushColorMask = function(t) {
                    var e = t._colorMask
                      , n = t._colorMask = e & t.colorMask;
                    n !== e && this.renderer.gl.colorMask(0 != (1 & n), 0 != (2 & n), 0 != (4 & n), 0 != (8 & n))
                }
                ,
                t.prototype.popColorMask = function(t) {
                    var e = t._colorMask
                      , n = this.maskStack.length > 0 ? this.maskStack[this.maskStack.length - 1]._colorMask : 15;
                    n !== e && this.renderer.gl.colorMask(0 != (1 & n), 0 != (2 & n), 0 != (4 & n), 0 != (8 & n))
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t
            }()
              , Jn = function() {
                function t(t) {
                    this.renderer = t,
                    this.maskStack = [],
                    this.glConst = 0
                }
                return t.prototype.getStackLength = function() {
                    return this.maskStack.length
                }
                ,
                t.prototype.setMaskStack = function(t) {
                    var e = this.renderer.gl
                      , n = this.getStackLength();
                    this.maskStack = t;
                    var r = this.getStackLength();
                    r !== n && (0 === r ? e.disable(this.glConst) : (e.enable(this.glConst),
                    this._useCurrent()))
                }
                ,
                t.prototype._useCurrent = function() {}
                ,
                t.prototype.destroy = function() {
                    this.renderer = null,
                    this.maskStack = null
                }
                ,
                t
            }()
              , Zn = new qt
              , Qn = []
              , tr = function(t) {
                function e(e) {
                    var n = t.call(this, e) || this;
                    return n.glConst = st.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,
                    n
                }
                return Ae(e, t),
                e.prototype.getStackLength = function() {
                    var t = this.maskStack[this.maskStack.length - 1];
                    return t ? t._scissorCounter : 0
                }
                ,
                e.prototype.calcScissorRect = function(t) {
                    var e;
                    if (!t._scissorRectLocal) {
                        var n = t._scissorRect
                          , r = t.maskObject
                          , i = this.renderer
                          , o = i.renderTexture
                          , s = r.getBounds(!0, null !== (e = Qn.pop()) && void 0 !== e ? e : new jt);
                        this.roundFrameToPixels(s, o.current ? o.current.resolution : i.resolution, o.sourceFrame, o.destinationFrame, i.projection.transform),
                        n && s.fit(n),
                        t._scissorRectLocal = s
                    }
                }
                ,
                e.isMatrixRotated = function(t) {
                    if (!t)
                        return !1;
                    var e = t.a
                      , n = t.b
                      , r = t.c
                      , i = t.d;
                    return (Math.abs(n) > 1e-4 || Math.abs(r) > 1e-4) && (Math.abs(e) > 1e-4 || Math.abs(i) > 1e-4)
                }
                ,
                e.prototype.testScissor = function(t) {
                    var n = t.maskObject;
                    if (!n.isFastRect || !n.isFastRect())
                        return !1;
                    if (e.isMatrixRotated(n.worldTransform))
                        return !1;
                    if (e.isMatrixRotated(this.renderer.projection.transform))
                        return !1;
                    this.calcScissorRect(t);
                    var r = t._scissorRectLocal;
                    return r.width > 0 && r.height > 0
                }
                ,
                e.prototype.roundFrameToPixels = function(t, n, r, i, o) {
                    e.isMatrixRotated(o) || ((o = o ? Zn.copyFrom(o) : Zn.identity()).translate(-r.x, -r.y).scale(i.width / r.width, i.height / r.height).translate(i.x, i.y),
                    this.renderer.filter.transformAABB(o, t),
                    t.fit(i),
                    t.x = Math.round(t.x * n),
                    t.y = Math.round(t.y * n),
                    t.width = Math.round(t.width * n),
                    t.height = Math.round(t.height * n))
                }
                ,
                e.prototype.push = function(t) {
                    t._scissorRectLocal || this.calcScissorRect(t);
                    var e = this.renderer.gl;
                    t._scissorRect || e.enable(e.SCISSOR_TEST),
                    t._scissorCounter++,
                    t._scissorRect = t._scissorRectLocal,
                    this._useCurrent()
                }
                ,
                e.prototype.pop = function(t) {
                    var e = this.renderer.gl;
                    t && Qn.push(t._scissorRectLocal),
                    this.getStackLength() > 0 ? this._useCurrent() : e.disable(e.SCISSOR_TEST)
                }
                ,
                e.prototype._useCurrent = function() {
                    var t, e = this.maskStack[this.maskStack.length - 1]._scissorRect;
                    t = this.renderer.renderTexture.current ? e.y : this.renderer.height - e.height - e.y,
                    this.renderer.gl.scissor(e.x, t, e.width, e.height)
                }
                ,
                e
            }(Jn)
              , er = function(t) {
                function e(e) {
                    var n = t.call(this, e) || this;
                    return n.glConst = st.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,
                    n
                }
                return Ae(e, t),
                e.prototype.getStackLength = function() {
                    var t = this.maskStack[this.maskStack.length - 1];
                    return t ? t._stencilCounter : 0
                }
                ,
                e.prototype.push = function(t) {
                    var e = t.maskObject
                      , n = this.renderer.gl
                      , r = t._stencilCounter;
                    0 === r && (this.renderer.framebuffer.forceStencil(),
                    n.clearStencil(0),
                    n.clear(n.STENCIL_BUFFER_BIT),
                    n.enable(n.STENCIL_TEST)),
                    t._stencilCounter++;
                    var i = t._colorMask;
                    0 !== i && (t._colorMask = 0,
                    n.colorMask(!1, !1, !1, !1)),
                    n.stencilFunc(n.EQUAL, r, 4294967295),
                    n.stencilOp(n.KEEP, n.KEEP, n.INCR),
                    e.renderable = !0,
                    e.render(this.renderer),
                    this.renderer.batch.flush(),
                    e.renderable = !1,
                    0 !== i && (t._colorMask = i,
                    n.colorMask(0 != (1 & i), 0 != (2 & i), 0 != (4 & i), 0 != (8 & i))),
                    this._useCurrent()
                }
                ,
                e.prototype.pop = function(t) {
                    var e = this.renderer.gl;
                    if (0 === this.getStackLength())
                        e.disable(e.STENCIL_TEST);
                    else {
                        var n = 0 !== this.maskStack.length ? this.maskStack[this.maskStack.length - 1] : null
                          , r = n ? n._colorMask : 15;
                        0 !== r && (n._colorMask = 0,
                        e.colorMask(!1, !1, !1, !1)),
                        e.stencilOp(e.KEEP, e.KEEP, e.DECR),
                        t.renderable = !0,
                        t.render(this.renderer),
                        this.renderer.batch.flush(),
                        t.renderable = !1,
                        0 !== r && (n._colorMask = r,
                        e.colorMask(0 != (1 & r), 0 != (2 & r), 0 != (4 & r), 0 != (8 & r))),
                        this._useCurrent()
                    }
                }
                ,
                e.prototype._useCurrent = function() {
                    var t = this.renderer.gl;
                    t.stencilFunc(t.EQUAL, this.getStackLength(), 4294967295),
                    t.stencilOp(t.KEEP, t.KEEP, t.KEEP)
                }
                ,
                e
            }(Jn)
              , nr = function() {
                function t(t) {
                    this.renderer = t,
                    this.destinationFrame = null,
                    this.sourceFrame = null,
                    this.defaultFrame = null,
                    this.projectionMatrix = new qt,
                    this.transform = null
                }
                return t.prototype.update = function(t, e, n, r) {
                    this.destinationFrame = t || this.destinationFrame || this.defaultFrame,
                    this.sourceFrame = e || this.sourceFrame || t,
                    this.calculateProjection(this.destinationFrame, this.sourceFrame, n, r),
                    this.transform && this.projectionMatrix.append(this.transform);
                    var i = this.renderer;
                    i.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix,
                    i.globalUniforms.update(),
                    i.shader.shader && i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)
                }
                ,
                t.prototype.calculateProjection = function(t, e, n, r) {
                    var i = this.projectionMatrix
                      , o = r ? -1 : 1;
                    i.identity(),
                    i.a = 1 / e.width * 2,
                    i.d = o * (1 / e.height * 2),
                    i.tx = -1 - e.x * i.a,
                    i.ty = -o - e.y * i.d
                }
                ,
                t.prototype.setTransform = function(t) {}
                ,
                t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t
            }()
              , rr = new jt
              , ir = new jt
              , or = function() {
                function t(t) {
                    this.renderer = t,
                    this.clearColor = t._backgroundColorRgba,
                    this.defaultMaskStack = [],
                    this.current = null,
                    this.sourceFrame = new jt,
                    this.destinationFrame = new jt,
                    this.viewportFrame = new jt
                }
                return t.prototype.bind = function(t, e, n) {
                    void 0 === t && (t = null);
                    var r, i, o, s = this.renderer;
                    this.current = t,
                    t ? (o = (r = t.baseTexture).resolution,
                    e || (rr.width = t.frame.width,
                    rr.height = t.frame.height,
                    e = rr),
                    n || (ir.x = t.frame.x,
                    ir.y = t.frame.y,
                    ir.width = e.width,
                    ir.height = e.height,
                    n = ir),
                    i = r.framebuffer) : (o = s.resolution,
                    e || (rr.width = s.screen.width,
                    rr.height = s.screen.height,
                    e = rr),
                    n || ((n = rr).width = e.width,
                    n.height = e.height));
                    var a = this.viewportFrame;
                    a.x = n.x * o,
                    a.y = n.y * o,
                    a.width = n.width * o,
                    a.height = n.height * o,
                    t || (a.y = s.view.height - (a.y + a.height)),
                    a.ceil(),
                    this.renderer.framebuffer.bind(i, a),
                    this.renderer.projection.update(n, e, o, !i),
                    t ? this.renderer.mask.setMaskStack(r.maskStack) : this.renderer.mask.setMaskStack(this.defaultMaskStack),
                    this.sourceFrame.copyFrom(e),
                    this.destinationFrame.copyFrom(n)
                }
                ,
                t.prototype.clear = function(t, e) {
                    t = this.current ? t || this.current.baseTexture.clearColor : t || this.clearColor;
                    var n = this.destinationFrame
                      , r = this.current ? this.current.baseTexture : this.renderer.screen
                      , i = n.width !== r.width || n.height !== r.height;
                    if (i) {
                        var o = this.viewportFrame
                          , s = o.x
                          , a = o.y
                          , u = o.width
                          , h = o.height;
                        s = Math.round(s),
                        a = Math.round(a),
                        u = Math.round(u),
                        h = Math.round(h),
                        this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),
                        this.renderer.gl.scissor(s, a, u, h)
                    }
                    this.renderer.framebuffer.clear(t[0], t[1], t[2], t[3], e),
                    i && this.renderer.scissor.pop()
                }
                ,
                t.prototype.resize = function() {
                    this.bind(null)
                }
                ,
                t.prototype.reset = function() {
                    this.bind(null)
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t
            }();
            function sr(t, e, n, r, i) {
                n.buffer.update(i)
            }
            var ar = {
                float: "\n        data[offset] = v;\n    ",
                vec2: "\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",
                vec3: "\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",
                vec4: "\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",
                mat2: "\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",
                mat3: "\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",
                mat4: "\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "
            }
              , ur = {
                float: 4,
                vec2: 8,
                vec3: 12,
                vec4: 16,
                int: 4,
                ivec2: 8,
                ivec3: 12,
                ivec4: 16,
                uint: 4,
                uvec2: 8,
                uvec3: 12,
                uvec4: 16,
                bool: 4,
                bvec2: 8,
                bvec3: 12,
                bvec4: 16,
                mat2: 32,
                mat3: 48,
                mat4: 64
            };
            var hr = function() {
                function t(t, e) {
                    this.program = t,
                    this.uniformData = e,
                    this.uniformGroups = {},
                    this.uniformDirtyGroups = {},
                    this.uniformBufferBindings = {}
                }
                return t.prototype.destroy = function() {
                    this.uniformData = null,
                    this.uniformGroups = null,
                    this.uniformDirtyGroups = null,
                    this.uniformBufferBindings = null,
                    this.program = null
                }
                ,
                t
            }();
            var lr = 0
              , cr = {
                textureCount: 0,
                uboCount: 0
            }
              , dr = function() {
                function t(t) {
                    this.destroyed = !1,
                    this.renderer = t,
                    this.systemCheck(),
                    this.gl = null,
                    this.shader = null,
                    this.program = null,
                    this.cache = {},
                    this._uboCache = {},
                    this.id = lr++
                }
                return t.prototype.systemCheck = function() {
                    if (!function() {
                        if ("boolean" == typeof Bn)
                            return Bn;
                        try {
                            var t = new Function("param1","param2","param3","return param1[param2] === param3;");
                            Bn = !0 === t({
                                a: "b"
                            }, "a", "b")
                        } catch (t) {
                            Bn = !1
                        }
                        return Bn
                    }())
                        throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")
                }
                ,
                t.prototype.contextChange = function(t) {
                    this.gl = t,
                    this.reset()
                }
                ,
                t.prototype.bind = function(t, e) {
                    t.disposeRunner.add(this),
                    t.uniforms.globals = this.renderer.globalUniforms;
                    var n = t.program
                      , r = n.glPrograms[this.renderer.CONTEXT_UID] || this.generateProgram(t);
                    return this.shader = t,
                    this.program !== n && (this.program = n,
                    this.gl.useProgram(r.program)),
                    e || (cr.textureCount = 0,
                    cr.uboCount = 0,
                    this.syncUniformGroup(t.uniformGroup, cr)),
                    r
                }
                ,
                t.prototype.setUniforms = function(t) {
                    var e = this.shader.program
                      , n = e.glPrograms[this.renderer.CONTEXT_UID];
                    e.syncUniforms(n.uniformData, t, this.renderer)
                }
                ,
                t.prototype.syncUniformGroup = function(t, e) {
                    var n = this.getGlProgram();
                    t.static && t.dirtyId === n.uniformDirtyGroups[t.id] || (n.uniformDirtyGroups[t.id] = t.dirtyId,
                    this.syncUniforms(t, n, e))
                }
                ,
                t.prototype.syncUniforms = function(t, e, n) {
                    (t.syncUniforms[this.shader.program.id] || this.createSyncGroups(t))(e.uniformData, t.uniforms, this.renderer, n)
                }
                ,
                t.prototype.createSyncGroups = function(t) {
                    var e = this.getSignature(t, this.shader.program.uniformData, "u");
                    return this.cache[e] || (this.cache[e] = function(t, e) {
                        var n, r = ["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];
                        for (var i in t.uniforms) {
                            var o = e[i];
                            if (o) {
                                for (var s = t.uniforms[i], a = !1, u = 0; u < Ln.length; u++)
                                    if (Ln[u].test(o, s)) {
                                        r.push(Ln[u].code(i, s)),
                                        a = !0;
                                        break
                                    }
                                if (!a) {
                                    var h = (1 !== o.size || o.isArray ? Gn : Fn)[o.type].replace("location", 'ud["' + i + '"].location');
                                    r.push('\n            cu = ud["' + i + '"];\n            cv = cu.value;\n            v = uv["' + i + '"];\n            ' + h + ";")
                                }
                            } else
                                (null === (n = t.uniforms[i]) || void 0 === n ? void 0 : n.group) && (t.uniforms[i].ubo ? r.push("\n                        renderer.shader.syncUniformBufferGroup(uv." + i + ", '" + i + "');\n                    ") : r.push("\n                        renderer.shader.syncUniformGroup(uv." + i + ", syncData);\n                    "))
                        }
                        return new Function("ud","uv","renderer","syncData",r.join("\n"))
                    }(t, this.shader.program.uniformData)),
                    t.syncUniforms[this.shader.program.id] = this.cache[e],
                    t.syncUniforms[this.shader.program.id]
                }
                ,
                t.prototype.syncUniformBufferGroup = function(t, e) {
                    var n = this.getGlProgram();
                    if (!t.static || 0 !== t.dirtyId || !n.uniformGroups[t.id]) {
                        t.dirtyId = 0;
                        var r = n.uniformGroups[t.id] || this.createSyncBufferGroup(t, n, e);
                        t.buffer.update(),
                        r(n.uniformData, t.uniforms, this.renderer, cr, t.buffer)
                    }
                    this.renderer.buffer.bindBufferBase(t.buffer, n.uniformBufferBindings[e])
                }
                ,
                t.prototype.createSyncBufferGroup = function(t, e, n) {
                    var r = this.renderer.gl;
                    this.renderer.buffer.bind(t.buffer);
                    var i = this.gl.getUniformBlockIndex(e.program, n);
                    e.uniformBufferBindings[n] = this.shader.uniformBindCount,
                    r.uniformBlockBinding(e.program, i, this.shader.uniformBindCount),
                    this.shader.uniformBindCount++;
                    var o = this.getSignature(t, this.shader.program.uniformData, "ubo")
                      , s = this._uboCache[o];
                    if (s || (s = this._uboCache[o] = function(t, e) {
                        if (!t.autoManage)
                            return {
                                size: 0,
                                syncFunc: sr
                            };
                        for (var n = function(t) {
                            for (var e = t.map((function(t) {
                                return {
                                    data: t,
                                    offset: 0,
                                    dataLen: 0,
                                    dirty: 0
                                }
                            }
                            )), n = 0, r = 0, i = 0, o = 0; o < e.length; o++) {
                                var s = e[o];
                                if (n = ur[s.data.type],
                                s.data.size > 1 && (n = Math.max(n, 16) * s.data.size),
                                s.dataLen = n,
                                r % n != 0 && r < 16) {
                                    var a = r % n % 16;
                                    r += a,
                                    i += a
                                }
                                r + n > 16 ? (i = 16 * Math.ceil(i / 16),
                                s.offset = i,
                                i += n,
                                r = n) : (s.offset = i,
                                r += n,
                                i += n)
                            }
                            return {
                                uboElements: e,
                                size: i = 16 * Math.ceil(i / 16)
                            }
                        }(function(t, e) {
                            var n = [];
                            for (var r in t)
                                e[r] && n.push(e[r]);
                            return n.sort((function(t, e) {
                                return t.index - e.index
                            }
                            )),
                            n
                        }(t.uniforms, e)), r = n.uboElements, i = n.size, o = ["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "], s = 0; s < r.length; s++) {
                            for (var a = r[s], u = t.uniforms[a.data.name], h = a.data.name, l = !1, c = 0; c < Ln.length; c++) {
                                var d = Ln[c];
                                if (d.codeUbo && d.test(a.data, u)) {
                                    o.push("offset = " + a.offset / 4 + ";", Ln[c].codeUbo(a.data.name, u)),
                                    l = !0;
                                    break
                                }
                            }
                            if (!l)
                                if (a.data.size > 1) {
                                    var p = Dn(a.data.type)
                                      , f = Math.max(ur[a.data.type] / 16, 1)
                                      , m = p / f
                                      , _ = (4 - m % 4) % 4;
                                    o.push("\n                cv = ud." + h + ".value;\n                v = uv." + h + ";\n                offset = " + a.offset / 4 + ";\n\n                t = 0;\n\n                for(var i=0; i < " + a.data.size * f + "; i++)\n                {\n                    for(var j = 0; j < " + m + "; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += " + _ + ";\n                }\n\n                ")
                                } else {
                                    var v = ar[a.data.type];
                                    o.push("\n                cv = ud." + h + ".value;\n                v = uv." + h + ";\n                offset = " + a.offset / 4 + ";\n                " + v + ";\n                ")
                                }
                        }
                        return o.push("\n       renderer.buffer.update(buffer);\n    "),
                        {
                            size: i,
                            syncFunc: new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))
                        }
                    }(t, this.shader.program.uniformData)),
                    t.autoManage) {
                        var a = new Float32Array(s.size / 4);
                        t.buffer.update(a)
                    }
                    return e.uniformGroups[t.id] = s.syncFunc,
                    e.uniformGroups[t.id]
                }
                ,
                t.prototype.getSignature = function(t, e, n) {
                    var r = t.uniforms
                      , i = [n + "-"];
                    for (var o in r)
                        i.push(o),
                        e[o] && i.push(e[o].type);
                    return i.join("-")
                }
                ,
                t.prototype.getGlProgram = function() {
                    return this.shader ? this.shader.program.glPrograms[this.renderer.CONTEXT_UID] : null
                }
                ,
                t.prototype.generateProgram = function(t) {
                    var e = this.gl
                      , n = t.program
                      , r = function(t, e) {
                        var n = Tn(t, t.VERTEX_SHADER, e.vertexSrc)
                          , r = Tn(t, t.FRAGMENT_SHADER, e.fragmentSrc)
                          , i = t.createProgram();
                        if (t.attachShader(i, n),
                        t.attachShader(i, r),
                        t.linkProgram(i),
                        t.getProgramParameter(i, t.LINK_STATUS) || function(t, e, n, r) {
                            t.getProgramParameter(e, t.LINK_STATUS) || (t.getShaderParameter(n, t.COMPILE_STATUS) || En(t, n),
                            t.getShaderParameter(r, t.COMPILE_STATUS) || En(t, r),
                            console.error("PixiJS Error: Could not initialize shader."),
                            "" !== t.getProgramInfoLog(e) && console.warn("PixiJS Warning: gl.getProgramInfoLog()", t.getProgramInfoLog(e)))
                        }(t, i, n, r),
                        e.attributeData = function(t, e) {
                            for (var n = {}, r = e.getProgramParameter(t, e.ACTIVE_ATTRIBUTES), i = 0; i < r; i++) {
                                var o = e.getActiveAttrib(t, i);
                                if (0 !== o.name.indexOf("gl_")) {
                                    var s = Nn(e, o.type)
                                      , a = {
                                        type: s,
                                        name: o.name,
                                        size: Dn(s),
                                        location: e.getAttribLocation(t, o.name)
                                    };
                                    n[o.name] = a
                                }
                            }
                            return n
                        }(i, t),
                        e.uniformData = function(t, e) {
                            for (var n = {}, r = e.getProgramParameter(t, e.ACTIVE_UNIFORMS), i = 0; i < r; i++) {
                                var o = e.getActiveUniform(t, i)
                                  , s = o.name.replace(/\[.*?\]$/, "")
                                  , a = !!o.name.match(/\[.*?\]$/)
                                  , u = Nn(e, o.type);
                                n[s] = {
                                    name: s,
                                    index: i,
                                    type: u,
                                    size: o.size,
                                    isArray: a,
                                    value: Sn(u, o.size)
                                }
                            }
                            return n
                        }(i, t),
                        !/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)) {
                            var o = Object.keys(e.attributeData);
                            o.sort((function(t, e) {
                                return t > e ? 1 : -1
                            }
                            ));
                            for (var s = 0; s < o.length; s++)
                                e.attributeData[o[s]].location = s,
                                t.bindAttribLocation(i, s, o[s]);
                            t.linkProgram(i)
                        }
                        t.deleteShader(n),
                        t.deleteShader(r);
                        var a = {};
                        for (var s in e.uniformData) {
                            var u = e.uniformData[s];
                            a[s] = {
                                location: t.getUniformLocation(i, s),
                                value: Sn(u.type, u.size)
                            }
                        }
                        return new hr(i,a)
                    }(e, n);
                    return n.glPrograms[this.renderer.CONTEXT_UID] = r,
                    r
                }
                ,
                t.prototype.reset = function() {
                    this.program = null,
                    this.shader = null
                }
                ,
                t.prototype.disposeShader = function(t) {
                    this.shader === t && (this.shader = null)
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer = null,
                    this.destroyed = !0
                }
                ,
                t
            }()
              , pr = function() {
                function t() {
                    this.gl = null,
                    this.stateId = 0,
                    this.polygonOffset = 0,
                    this.blendMode = b.NONE,
                    this._blendEq = !1,
                    this.map = [],
                    this.map[0] = this.setBlend,
                    this.map[1] = this.setOffset,
                    this.map[2] = this.setCullFace,
                    this.map[3] = this.setDepthTest,
                    this.map[4] = this.setFrontFace,
                    this.map[5] = this.setDepthMask,
                    this.checks = [],
                    this.defaultState = new Wn,
                    this.defaultState.blend = !0
                }
                return t.prototype.contextChange = function(t) {
                    this.gl = t,
                    this.blendModes = function(t, e) {
                        return void 0 === e && (e = []),
                        e[b.NORMAL] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.ADD] = [t.ONE, t.ONE],
                        e[b.MULTIPLY] = [t.DST_COLOR, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.SCREEN] = [t.ONE, t.ONE_MINUS_SRC_COLOR, t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.OVERLAY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.DARKEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.LIGHTEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.COLOR_DODGE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.COLOR_BURN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.HARD_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.SOFT_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.DIFFERENCE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.EXCLUSION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.HUE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.SATURATION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.COLOR] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.LUMINOSITY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.NONE] = [0, 0],
                        e[b.NORMAL_NPM] = [t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.ADD_NPM] = [t.SRC_ALPHA, t.ONE, t.ONE, t.ONE],
                        e[b.SCREEN_NPM] = [t.SRC_ALPHA, t.ONE_MINUS_SRC_COLOR, t.ONE, t.ONE_MINUS_SRC_ALPHA],
                        e[b.SRC_IN] = [t.DST_ALPHA, t.ZERO],
                        e[b.SRC_OUT] = [t.ONE_MINUS_DST_ALPHA, t.ZERO],
                        e[b.SRC_ATOP] = [t.DST_ALPHA, t.ONE_MINUS_SRC_ALPHA],
                        e[b.DST_OVER] = [t.ONE_MINUS_DST_ALPHA, t.ONE],
                        e[b.DST_IN] = [t.ZERO, t.SRC_ALPHA],
                        e[b.DST_OUT] = [t.ZERO, t.ONE_MINUS_SRC_ALPHA],
                        e[b.DST_ATOP] = [t.ONE_MINUS_DST_ALPHA, t.SRC_ALPHA],
                        e[b.XOR] = [t.ONE_MINUS_DST_ALPHA, t.ONE_MINUS_SRC_ALPHA],
                        e[b.SUBTRACT] = [t.ONE, t.ONE, t.ONE, t.ONE, t.FUNC_REVERSE_SUBTRACT, t.FUNC_ADD],
                        e
                    }(t),
                    this.set(this.defaultState),
                    this.reset()
                }
                ,
                t.prototype.set = function(t) {
                    if (t = t || this.defaultState,
                    this.stateId !== t.data) {
                        for (var e = this.stateId ^ t.data, n = 0; e; )
                            1 & e && this.map[n].call(this, !!(t.data & 1 << n)),
                            e >>= 1,
                            n++;
                        this.stateId = t.data
                    }
                    for (n = 0; n < this.checks.length; n++)
                        this.checks[n](this, t)
                }
                ,
                t.prototype.forceState = function(t) {
                    t = t || this.defaultState;
                    for (var e = 0; e < this.map.length; e++)
                        this.map[e].call(this, !!(t.data & 1 << e));
                    for (e = 0; e < this.checks.length; e++)
                        this.checks[e](this, t);
                    this.stateId = t.data
                }
                ,
                t.prototype.setBlend = function(e) {
                    this.updateCheck(t.checkBlendMode, e),
                    this.gl[e ? "enable" : "disable"](this.gl.BLEND)
                }
                ,
                t.prototype.setOffset = function(e) {
                    this.updateCheck(t.checkPolygonOffset, e),
                    this.gl[e ? "enable" : "disable"](this.gl.POLYGON_OFFSET_FILL)
                }
                ,
                t.prototype.setDepthTest = function(t) {
                    this.gl[t ? "enable" : "disable"](this.gl.DEPTH_TEST)
                }
                ,
                t.prototype.setDepthMask = function(t) {
                    this.gl.depthMask(t)
                }
                ,
                t.prototype.setCullFace = function(t) {
                    this.gl[t ? "enable" : "disable"](this.gl.CULL_FACE)
                }
                ,
                t.prototype.setFrontFace = function(t) {
                    this.gl.frontFace(this.gl[t ? "CW" : "CCW"])
                }
                ,
                t.prototype.setBlendMode = function(t) {
                    if (t !== this.blendMode) {
                        this.blendMode = t;
                        var e = this.blendModes[t]
                          , n = this.gl;
                        2 === e.length ? n.blendFunc(e[0], e[1]) : n.blendFuncSeparate(e[0], e[1], e[2], e[3]),
                        6 === e.length ? (this._blendEq = !0,
                        n.blendEquationSeparate(e[4], e[5])) : this._blendEq && (this._blendEq = !1,
                        n.blendEquationSeparate(n.FUNC_ADD, n.FUNC_ADD))
                    }
                }
                ,
                t.prototype.setPolygonOffset = function(t, e) {
                    this.gl.polygonOffset(t, e)
                }
                ,
                t.prototype.reset = function() {
                    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1),
                    this.forceState(this.defaultState),
                    this._blendEq = !0,
                    this.blendMode = -1,
                    this.setBlendMode(0)
                }
                ,
                t.prototype.updateCheck = function(t, e) {
                    var n = this.checks.indexOf(t);
                    e && -1 === n ? this.checks.push(t) : e || -1 === n || this.checks.splice(n, 1)
                }
                ,
                t.checkBlendMode = function(t, e) {
                    t.setBlendMode(e.blendMode)
                }
                ,
                t.checkPolygonOffset = function(t, e) {
                    t.setPolygonOffset(1, e.polygonOffset)
                }
                ,
                t.prototype.destroy = function() {
                    this.gl = null
                }
                ,
                t
            }()
              , fr = function() {
                function t(t) {
                    this.renderer = t,
                    this.count = 0,
                    this.checkCount = 0,
                    this.maxIdle = st.GC_MAX_IDLE,
                    this.checkCountMax = st.GC_MAX_CHECK_COUNT,
                    this.mode = st.GC_MODE
                }
                return t.prototype.postrender = function() {
                    this.renderer.renderingToScreen && (this.count++,
                    this.mode !== D.MANUAL && (this.checkCount++,
                    this.checkCount > this.checkCountMax && (this.checkCount = 0,
                    this.run())))
                }
                ,
                t.prototype.run = function() {
                    for (var t = this.renderer.texture, e = t.managedTextures, n = !1, r = 0; r < e.length; r++) {
                        var i = e[r];
                        !i.framebuffer && this.count - i.touched > this.maxIdle && (t.destroyTexture(i, !0),
                        e[r] = null,
                        n = !0)
                    }
                    if (n) {
                        var o = 0;
                        for (r = 0; r < e.length; r++)
                            null !== e[r] && (e[o++] = e[r]);
                        e.length = o
                    }
                }
                ,
                t.prototype.unload = function(t) {
                    var e = this.renderer.texture
                      , n = t._texture;
                    n && !n.framebuffer && e.destroyTexture(n);
                    for (var r = t.children.length - 1; r >= 0; r--)
                        this.unload(t.children[r])
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t
            }()
              , mr = function(t) {
                this.texture = t,
                this.width = -1,
                this.height = -1,
                this.dirtyId = -1,
                this.dirtyStyleId = -1,
                this.mipmap = !1,
                this.wrapMode = 33071,
                this.type = A.UNSIGNED_BYTE,
                this.internalFormat = T.RGBA,
                this.samplerType = 0
            }
              , _r = function() {
                function t(t) {
                    this.renderer = t,
                    this.boundTextures = [],
                    this.currentLocation = -1,
                    this.managedTextures = [],
                    this._unknownBoundTextures = !1,
                    this.unknownTexture = new Ie,
                    this.hasIntegerTextures = !1
                }
                return t.prototype.contextChange = function() {
                    var t = this.gl = this.renderer.gl;
                    this.CONTEXT_UID = this.renderer.CONTEXT_UID,
                    this.webGLVersion = this.renderer.context.webGLVersion,
                    this.internalFormats = function(t) {
                        var e, n, r, i, o, s, a, u, h, l, c, d, p, f, m, _, v, g, y, b, x, E, S;
                        return "WebGL2RenderingContext"in globalThis && t instanceof globalThis.WebGL2RenderingContext ? ((e = {})[A.UNSIGNED_BYTE] = ((n = {})[T.RGBA] = t.RGBA8,
                        n[T.RGB] = t.RGB8,
                        n[T.RG] = t.RG8,
                        n[T.RED] = t.R8,
                        n[T.RGBA_INTEGER] = t.RGBA8UI,
                        n[T.RGB_INTEGER] = t.RGB8UI,
                        n[T.RG_INTEGER] = t.RG8UI,
                        n[T.RED_INTEGER] = t.R8UI,
                        n[T.ALPHA] = t.ALPHA,
                        n[T.LUMINANCE] = t.LUMINANCE,
                        n[T.LUMINANCE_ALPHA] = t.LUMINANCE_ALPHA,
                        n),
                        e[A.BYTE] = ((r = {})[T.RGBA] = t.RGBA8_SNORM,
                        r[T.RGB] = t.RGB8_SNORM,
                        r[T.RG] = t.RG8_SNORM,
                        r[T.RED] = t.R8_SNORM,
                        r[T.RGBA_INTEGER] = t.RGBA8I,
                        r[T.RGB_INTEGER] = t.RGB8I,
                        r[T.RG_INTEGER] = t.RG8I,
                        r[T.RED_INTEGER] = t.R8I,
                        r),
                        e[A.UNSIGNED_SHORT] = ((i = {})[T.RGBA_INTEGER] = t.RGBA16UI,
                        i[T.RGB_INTEGER] = t.RGB16UI,
                        i[T.RG_INTEGER] = t.RG16UI,
                        i[T.RED_INTEGER] = t.R16UI,
                        i[T.DEPTH_COMPONENT] = t.DEPTH_COMPONENT16,
                        i),
                        e[A.SHORT] = ((o = {})[T.RGBA_INTEGER] = t.RGBA16I,
                        o[T.RGB_INTEGER] = t.RGB16I,
                        o[T.RG_INTEGER] = t.RG16I,
                        o[T.RED_INTEGER] = t.R16I,
                        o),
                        e[A.UNSIGNED_INT] = ((s = {})[T.RGBA_INTEGER] = t.RGBA32UI,
                        s[T.RGB_INTEGER] = t.RGB32UI,
                        s[T.RG_INTEGER] = t.RG32UI,
                        s[T.RED_INTEGER] = t.R32UI,
                        s[T.DEPTH_COMPONENT] = t.DEPTH_COMPONENT24,
                        s),
                        e[A.INT] = ((a = {})[T.RGBA_INTEGER] = t.RGBA32I,
                        a[T.RGB_INTEGER] = t.RGB32I,
                        a[T.RG_INTEGER] = t.RG32I,
                        a[T.RED_INTEGER] = t.R32I,
                        a),
                        e[A.FLOAT] = ((u = {})[T.RGBA] = t.RGBA32F,
                        u[T.RGB] = t.RGB32F,
                        u[T.RG] = t.RG32F,
                        u[T.RED] = t.R32F,
                        u[T.DEPTH_COMPONENT] = t.DEPTH_COMPONENT32F,
                        u),
                        e[A.HALF_FLOAT] = ((h = {})[T.RGBA] = t.RGBA16F,
                        h[T.RGB] = t.RGB16F,
                        h[T.RG] = t.RG16F,
                        h[T.RED] = t.R16F,
                        h),
                        e[A.UNSIGNED_SHORT_5_6_5] = ((l = {})[T.RGB] = t.RGB565,
                        l),
                        e[A.UNSIGNED_SHORT_4_4_4_4] = ((c = {})[T.RGBA] = t.RGBA4,
                        c),
                        e[A.UNSIGNED_SHORT_5_5_5_1] = ((d = {})[T.RGBA] = t.RGB5_A1,
                        d),
                        e[A.UNSIGNED_INT_2_10_10_10_REV] = ((p = {})[T.RGBA] = t.RGB10_A2,
                        p[T.RGBA_INTEGER] = t.RGB10_A2UI,
                        p),
                        e[A.UNSIGNED_INT_10F_11F_11F_REV] = ((f = {})[T.RGB] = t.R11F_G11F_B10F,
                        f),
                        e[A.UNSIGNED_INT_5_9_9_9_REV] = ((m = {})[T.RGB] = t.RGB9_E5,
                        m),
                        e[A.UNSIGNED_INT_24_8] = ((_ = {})[T.DEPTH_STENCIL] = t.DEPTH24_STENCIL8,
                        _),
                        e[A.FLOAT_32_UNSIGNED_INT_24_8_REV] = ((v = {})[T.DEPTH_STENCIL] = t.DEPTH32F_STENCIL8,
                        v),
                        S = e) : ((g = {})[A.UNSIGNED_BYTE] = ((y = {})[T.RGBA] = t.RGBA,
                        y[T.RGB] = t.RGB,
                        y[T.ALPHA] = t.ALPHA,
                        y[T.LUMINANCE] = t.LUMINANCE,
                        y[T.LUMINANCE_ALPHA] = t.LUMINANCE_ALPHA,
                        y),
                        g[A.UNSIGNED_SHORT_5_6_5] = ((b = {})[T.RGB] = t.RGB,
                        b),
                        g[A.UNSIGNED_SHORT_4_4_4_4] = ((x = {})[T.RGBA] = t.RGBA,
                        x),
                        g[A.UNSIGNED_SHORT_5_5_5_1] = ((E = {})[T.RGBA] = t.RGBA,
                        E),
                        S = g),
                        S
                    }(t);
                    var e = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);
                    this.boundTextures.length = e;
                    for (var n = 0; n < e; n++)
                        this.boundTextures[n] = null;
                    this.emptyTextures = {};
                    var r = new mr(t.createTexture());
                    for (t.bindTexture(t.TEXTURE_2D, r.texture),
                    t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, 1, 1, 0, t.RGBA, t.UNSIGNED_BYTE, new Uint8Array(4)),
                    this.emptyTextures[t.TEXTURE_2D] = r,
                    this.emptyTextures[t.TEXTURE_CUBE_MAP] = new mr(t.createTexture()),
                    t.bindTexture(t.TEXTURE_CUBE_MAP, this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),
                    n = 0; n < 6; n++)
                        t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + n, 0, t.RGBA, 1, 1, 0, t.RGBA, t.UNSIGNED_BYTE, null);
                    for (t.texParameteri(t.TEXTURE_CUBE_MAP, t.TEXTURE_MAG_FILTER, t.LINEAR),
                    t.texParameteri(t.TEXTURE_CUBE_MAP, t.TEXTURE_MIN_FILTER, t.LINEAR),
                    n = 0; n < this.boundTextures.length; n++)
                        this.bind(null, n)
                }
                ,
                t.prototype.bind = function(t, e) {
                    void 0 === e && (e = 0);
                    var n = this.gl;
                    if ((t = null == t ? void 0 : t.castToBaseTexture()) && t.valid && !t.parentTextureArray) {
                        t.touched = this.renderer.textureGC.count;
                        var r = t._glTextures[this.CONTEXT_UID] || this.initTexture(t);
                        this.boundTextures[e] !== t && (this.currentLocation !== e && (this.currentLocation = e,
                        n.activeTexture(n.TEXTURE0 + e)),
                        n.bindTexture(t.target, r.texture)),
                        r.dirtyId !== t.dirtyId ? (this.currentLocation !== e && (this.currentLocation = e,
                        n.activeTexture(n.TEXTURE0 + e)),
                        this.updateTexture(t)) : r.dirtyStyleId !== t.dirtyStyleId && this.updateTextureStyle(t),
                        this.boundTextures[e] = t
                    } else
                        this.currentLocation !== e && (this.currentLocation = e,
                        n.activeTexture(n.TEXTURE0 + e)),
                        n.bindTexture(n.TEXTURE_2D, this.emptyTextures[n.TEXTURE_2D].texture),
                        this.boundTextures[e] = null
                }
                ,
                t.prototype.reset = function() {
                    this._unknownBoundTextures = !0,
                    this.hasIntegerTextures = !1,
                    this.currentLocation = -1;
                    for (var t = 0; t < this.boundTextures.length; t++)
                        this.boundTextures[t] = this.unknownTexture
                }
                ,
                t.prototype.unbind = function(t) {
                    var e = this.gl
                      , n = this.boundTextures;
                    if (this._unknownBoundTextures) {
                        this._unknownBoundTextures = !1;
                        for (var r = 0; r < n.length; r++)
                            n[r] === this.unknownTexture && this.bind(null, r)
                    }
                    for (r = 0; r < n.length; r++)
                        n[r] === t && (this.currentLocation !== r && (e.activeTexture(e.TEXTURE0 + r),
                        this.currentLocation = r),
                        e.bindTexture(t.target, this.emptyTextures[t.target].texture),
                        n[r] = null)
                }
                ,
                t.prototype.ensureSamplerType = function(t) {
                    var e = this
                      , n = e.boundTextures
                      , r = e.hasIntegerTextures
                      , i = e.CONTEXT_UID;
                    if (r)
                        for (var o = t - 1; o >= 0; --o) {
                            var s = n[o];
                            s && s._glTextures[i].samplerType !== S.FLOAT && this.renderer.texture.unbind(s)
                        }
                }
                ,
                t.prototype.initTexture = function(t) {
                    var e = new mr(this.gl.createTexture());
                    return e.dirtyId = -1,
                    t._glTextures[this.CONTEXT_UID] = e,
                    this.managedTextures.push(t),
                    t.on("dispose", this.destroyTexture, this),
                    e
                }
                ,
                t.prototype.initTextureType = function(t, e) {
                    var n, r;
                    e.internalFormat = null !== (r = null === (n = this.internalFormats[t.type]) || void 0 === n ? void 0 : n[t.format]) && void 0 !== r ? r : t.format,
                    2 === this.webGLVersion && t.type === A.HALF_FLOAT ? e.type = this.gl.HALF_FLOAT : e.type = t.type
                }
                ,
                t.prototype.updateTexture = function(t) {
                    var e = t._glTextures[this.CONTEXT_UID];
                    if (e) {
                        var n = this.renderer;
                        if (this.initTextureType(t, e),
                        t.resource && t.resource.upload(n, t, e))
                            e.samplerType !== S.FLOAT && (this.hasIntegerTextures = !0);
                        else {
                            var r = t.realWidth
                              , i = t.realHeight
                              , o = n.gl;
                            (e.width !== r || e.height !== i || e.dirtyId < 0) && (e.width = r,
                            e.height = i,
                            o.texImage2D(t.target, 0, e.internalFormat, r, i, 0, t.format, e.type, null))
                        }
                        t.dirtyStyleId !== e.dirtyStyleId && this.updateTextureStyle(t),
                        e.dirtyId = t.dirtyId
                    }
                }
                ,
                t.prototype.destroyTexture = function(t, e) {
                    var n = this.gl;
                    if ((t = t.castToBaseTexture())._glTextures[this.CONTEXT_UID] && (this.unbind(t),
                    n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),
                    t.off("dispose", this.destroyTexture, this),
                    delete t._glTextures[this.CONTEXT_UID],
                    !e)) {
                        var r = this.managedTextures.indexOf(t);
                        -1 !== r && St(this.managedTextures, r, 1)
                    }
                }
                ,
                t.prototype.updateTextureStyle = function(t) {
                    var e = t._glTextures[this.CONTEXT_UID];
                    e && (t.mipmap !== O.POW2 && 2 === this.webGLVersion || t.isPowerOfTwo ? e.mipmap = t.mipmap >= 1 : e.mipmap = !1,
                    2 === this.webGLVersion || t.isPowerOfTwo ? e.wrapMode = t.wrapMode : e.wrapMode = R.CLAMP,
                    t.resource && t.resource.style(this.renderer, t, e) || this.setStyle(t, e),
                    e.dirtyStyleId = t.dirtyStyleId)
                }
                ,
                t.prototype.setStyle = function(t, e) {
                    var n = this.gl;
                    if (e.mipmap && t.mipmap !== O.ON_MANUAL && n.generateMipmap(t.target),
                    n.texParameteri(t.target, n.TEXTURE_WRAP_S, e.wrapMode),
                    n.texParameteri(t.target, n.TEXTURE_WRAP_T, e.wrapMode),
                    e.mipmap) {
                        n.texParameteri(t.target, n.TEXTURE_MIN_FILTER, t.scaleMode === w.LINEAR ? n.LINEAR_MIPMAP_LINEAR : n.NEAREST_MIPMAP_NEAREST);
                        var r = this.renderer.context.extensions.anisotropicFiltering;
                        if (r && t.anisotropicLevel > 0 && t.scaleMode === w.LINEAR) {
                            var i = Math.min(t.anisotropicLevel, n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));
                            n.texParameterf(t.target, r.TEXTURE_MAX_ANISOTROPY_EXT, i)
                        }
                    } else
                        n.texParameteri(t.target, n.TEXTURE_MIN_FILTER, t.scaleMode === w.LINEAR ? n.LINEAR : n.NEAREST);
                    n.texParameteri(t.target, n.TEXTURE_MAG_FILTER, t.scaleMode === w.LINEAR ? n.LINEAR : n.NEAREST)
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t
            }()
              , vr = {
                __proto__: null,
                FilterSystem: cn,
                BatchSystem: pn,
                ContextSystem: mn,
                FramebufferSystem: gn,
                GeometrySystem: bn,
                MaskSystem: Kn,
                ScissorSystem: tr,
                StencilSystem: er,
                ProjectionSystem: nr,
                RenderTextureSystem: or,
                ShaderSystem: dr,
                StateSystem: pr,
                TextureGCSystem: fr,
                TextureSystem: _r
            }
              , gr = new qt
              , yr = function(t) {
                function e(e, n) {
                    void 0 === e && (e = g.UNKNOWN);
                    var r = t.call(this) || this;
                    return n = Object.assign({}, st.RENDER_OPTIONS, n),
                    r.options = n,
                    r.type = e,
                    r.screen = new jt(0,0,n.width,n.height),
                    r.view = n.view || st.ADAPTER.createCanvas(),
                    r.resolution = n.resolution || st.RESOLUTION,
                    r.useContextAlpha = n.useContextAlpha,
                    r.autoDensity = !!n.autoDensity,
                    r.preserveDrawingBuffer = n.preserveDrawingBuffer,
                    r.clearBeforeRender = n.clearBeforeRender,
                    r._backgroundColor = 0,
                    r._backgroundColorRgba = [0, 0, 0, 1],
                    r._backgroundColorString = "#000000",
                    r.backgroundColor = n.backgroundColor || r._backgroundColor,
                    r.backgroundAlpha = n.backgroundAlpha,
                    void 0 !== n.transparent && (Ct("6.0.0", "Option transparent is deprecated, please use backgroundAlpha instead."),
                    r.useContextAlpha = n.transparent,
                    r.backgroundAlpha = n.transparent ? 0 : 1),
                    r._lastObjectRendered = null,
                    r.plugins = {},
                    r
                }
                return Ae(e, t),
                e.prototype.initPlugins = function(t) {
                    for (var e in t)
                        this.plugins[e] = new t[e](this)
                }
                ,
                Object.defineProperty(e.prototype, "width", {
                    get: function() {
                        return this.view.width
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "height", {
                    get: function() {
                        return this.view.height
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.resize = function(t, e) {
                    this.view.width = Math.round(t * this.resolution),
                    this.view.height = Math.round(e * this.resolution);
                    var n = this.view.width / this.resolution
                      , r = this.view.height / this.resolution;
                    this.screen.width = n,
                    this.screen.height = r,
                    this.autoDensity && (this.view.style.width = n + "px",
                    this.view.style.height = r + "px"),
                    this.emit("resize", n, r)
                }
                ,
                e.prototype.generateTexture = function(t, e, n, r) {
                    void 0 === e && (e = {}),
                    "number" == typeof e && (Ct("6.1.0", "generateTexture options (scaleMode, resolution, region) are now object options."),
                    e = {
                        scaleMode: e,
                        resolution: n,
                        region: r
                    });
                    var i = e.region
                      , o = function(t, e) {
                        var n = {};
                        for (var r in t)
                            Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
                        if (null != t && "function" == typeof Object.getOwnPropertySymbols) {
                            var i = 0;
                            for (r = Object.getOwnPropertySymbols(t); i < r.length; i++)
                                e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]])
                        }
                        return n
                    }(e, ["region"]);
                    0 === (r = i || t.getLocalBounds(null, !0)).width && (r.width = 1),
                    0 === r.height && (r.height = 1);
                    var s = Ye.create(Se({
                        width: r.width,
                        height: r.height
                    }, o));
                    return gr.tx = -r.x,
                    gr.ty = -r.y,
                    this.render(t, {
                        renderTexture: s,
                        clear: !1,
                        transform: gr,
                        skipUpdateTransform: !!t.parent
                    }),
                    s
                }
                ,
                e.prototype.destroy = function(t) {
                    for (var e in this.plugins)
                        this.plugins[e].destroy(),
                        this.plugins[e] = null;
                    t && this.view.parentNode && this.view.parentNode.removeChild(this.view);
                    var n = this;
                    n.plugins = null,
                    n.type = g.UNKNOWN,
                    n.view = null,
                    n.screen = null,
                    n._tempDisplayObjectParent = null,
                    n.options = null,
                    this._backgroundColorRgba = null,
                    this._backgroundColorString = null,
                    this._lastObjectRendered = null
                }
                ,
                Object.defineProperty(e.prototype, "backgroundColor", {
                    get: function() {
                        return this._backgroundColor
                    },
                    set: function(t) {
                        this._backgroundColor = t,
                        this._backgroundColorString = mt(t),
                        ft(t, this._backgroundColorRgba)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "backgroundAlpha", {
                    get: function() {
                        return this._backgroundColorRgba[3]
                    },
                    set: function(t) {
                        this._backgroundColorRgba[3] = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e
            }(at)
              , br = function(t) {
                this.buffer = t || null,
                this.updateID = -1,
                this.byteLength = -1,
                this.refCount = 0
            }
              , xr = function() {
                function t(t) {
                    this.renderer = t,
                    this.managedBuffers = {},
                    this.boundBufferBases = {}
                }
                return t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t.prototype.contextChange = function() {
                    this.disposeAll(!0),
                    this.gl = this.renderer.gl,
                    this.CONTEXT_UID = this.renderer.CONTEXT_UID
                }
                ,
                t.prototype.bind = function(t) {
                    var e = this.gl
                      , n = this.CONTEXT_UID
                      , r = t._glBuffers[n] || this.createGLBuffer(t);
                    e.bindBuffer(t.type, r.buffer)
                }
                ,
                t.prototype.bindBufferBase = function(t, e) {
                    var n = this.gl
                      , r = this.CONTEXT_UID;
                    if (this.boundBufferBases[e] !== t) {
                        var i = t._glBuffers[r] || this.createGLBuffer(t);
                        this.boundBufferBases[e] = t,
                        n.bindBufferBase(n.UNIFORM_BUFFER, e, i.buffer)
                    }
                }
                ,
                t.prototype.bindBufferRange = function(t, e, n) {
                    var r = this.gl
                      , i = this.CONTEXT_UID;
                    n = n || 0;
                    var o = t._glBuffers[i] || this.createGLBuffer(t);
                    r.bindBufferRange(r.UNIFORM_BUFFER, e || 0, o.buffer, 256 * n, 256)
                }
                ,
                t.prototype.update = function(t) {
                    var e = this.gl
                      , n = this.CONTEXT_UID
                      , r = t._glBuffers[n];
                    if (t._updateID !== r.updateID)
                        if (r.updateID = t._updateID,
                        e.bindBuffer(t.type, r.buffer),
                        r.byteLength >= t.data.byteLength)
                            e.bufferSubData(t.type, 0, t.data);
                        else {
                            var i = t.static ? e.STATIC_DRAW : e.DYNAMIC_DRAW;
                            r.byteLength = t.data.byteLength,
                            e.bufferData(t.type, t.data, i)
                        }
                }
                ,
                t.prototype.dispose = function(t, e) {
                    if (this.managedBuffers[t.id]) {
                        delete this.managedBuffers[t.id];
                        var n = t._glBuffers[this.CONTEXT_UID]
                          , r = this.gl;
                        t.disposeRunner.remove(this),
                        n && (e || r.deleteBuffer(n.buffer),
                        delete t._glBuffers[this.CONTEXT_UID])
                    }
                }
                ,
                t.prototype.disposeAll = function(t) {
                    for (var e = Object.keys(this.managedBuffers), n = 0; n < e.length; n++)
                        this.dispose(this.managedBuffers[e[n]], t)
                }
                ,
                t.prototype.createGLBuffer = function(t) {
                    var e = this.CONTEXT_UID
                      , n = this.gl;
                    return t._glBuffers[e] = new br(n.createBuffer()),
                    this.managedBuffers[t.id] = t,
                    t.disposeRunner.add(this),
                    t._glBuffers[e]
                }
                ,
                t
            }()
              , Tr = function(t) {
                function e(n) {
                    var r = t.call(this, g.WEBGL, n) || this;
                    return n = r.options,
                    r.gl = null,
                    r.CONTEXT_UID = 0,
                    r.runners = {
                        destroy: new ve("destroy"),
                        contextChange: new ve("contextChange"),
                        reset: new ve("reset"),
                        update: new ve("update"),
                        postrender: new ve("postrender"),
                        prerender: new ve("prerender"),
                        resize: new ve("resize")
                    },
                    r.runners.contextChange.add(r),
                    r.globalUniforms = new an({
                        projectionMatrix: new qt
                    },!0),
                    r.addSystem(Kn, "mask").addSystem(mn, "context").addSystem(pr, "state").addSystem(dr, "shader").addSystem(_r, "texture").addSystem(xr, "buffer").addSystem(bn, "geometry").addSystem(gn, "framebuffer").addSystem(tr, "scissor").addSystem(er, "stencil").addSystem(nr, "projection").addSystem(fr, "textureGC").addSystem(cn, "filter").addSystem(or, "renderTexture").addSystem(pn, "batch"),
                    r.initPlugins(e.__plugins),
                    r.multisample = void 0,
                    n.context ? r.context.initFromContext(n.context) : r.context.initFromOptions({
                        alpha: !!r.useContextAlpha,
                        antialias: n.antialias,
                        premultipliedAlpha: r.useContextAlpha && "notMultiplied" !== r.useContextAlpha,
                        stencil: !0,
                        preserveDrawingBuffer: n.preserveDrawingBuffer,
                        powerPreference: r.options.powerPreference
                    }),
                    r.renderingToScreen = !0,
                    function(t) {
                        var e;
                        if (!dt) {
                            if (st.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome") > -1) {
                                var n = ["\n %c %c %c PixiJS 6.5.8 - ✰ " + t + " ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"];
                                (e = globalThis.console).log.apply(e, n)
                            } else
                                globalThis.console && globalThis.console.log("PixiJS 6.5.8 - " + t + " - http://www.pixijs.com/");
                            dt = !0
                        }
                    }(2 === r.context.webGLVersion ? "WebGL 2" : "WebGL 1"),
                    r.resize(r.options.width, r.options.height),
                    r
                }
                return Ae(e, t),
                e.create = function(t) {
                    if (void 0 === ct && (ct = function() {
                        var t = {
                            stencil: !0,
                            failIfMajorPerformanceCaveat: st.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT
                        };
                        try {
                            if (!st.ADAPTER.getWebGLRenderingContext())
                                return !1;
                            var e = st.ADAPTER.createCanvas()
                              , n = e.getContext("webgl", t) || e.getContext("experimental-webgl", t)
                              , r = !(!n || !n.getContextAttributes().stencil);
                            if (n) {
                                var i = n.getExtension("WEBGL_lose_context");
                                i && i.loseContext()
                            }
                            return n = null,
                            r
                        } catch (t) {
                            return !1
                        }
                    }()),
                    ct)
                        return new e(t);
                    throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')
                }
                ,
                e.prototype.contextChange = function() {
                    var t, e = this.gl;
                    if (1 === this.context.webGLVersion) {
                        var n = e.getParameter(e.FRAMEBUFFER_BINDING);
                        e.bindFramebuffer(e.FRAMEBUFFER, null),
                        t = e.getParameter(e.SAMPLES),
                        e.bindFramebuffer(e.FRAMEBUFFER, n)
                    } else
                        n = e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),
                        e.bindFramebuffer(e.DRAW_FRAMEBUFFER, null),
                        t = e.getParameter(e.SAMPLES),
                        e.bindFramebuffer(e.DRAW_FRAMEBUFFER, n);
                    t >= B.HIGH ? this.multisample = B.HIGH : t >= B.MEDIUM ? this.multisample = B.MEDIUM : t >= B.LOW ? this.multisample = B.LOW : this.multisample = B.NONE
                }
                ,
                e.prototype.addSystem = function(t, e) {
                    var n = new t(this);
                    if (this[e])
                        throw new Error('Whoops! The name "' + e + '" is already in use');
                    for (var r in this[e] = n,
                    this.runners)
                        this.runners[r].add(n);
                    return this
                }
                ,
                e.prototype.render = function(t, e) {
                    var n, r, i, o;
                    if (e && (e instanceof Ye ? (Ct("6.0.0", "Renderer#render arguments changed, use options instead."),
                    n = e,
                    r = arguments[2],
                    i = arguments[3],
                    o = arguments[4]) : (n = e.renderTexture,
                    r = e.clear,
                    i = e.transform,
                    o = e.skipUpdateTransform)),
                    this.renderingToScreen = !n,
                    this.runners.prerender.emit(),
                    this.emit("prerender"),
                    this.projection.transform = i,
                    !this.context.isLost) {
                        if (n || (this._lastObjectRendered = t),
                        !o) {
                            var s = t.enableTempParent();
                            t.updateTransform(),
                            t.disableTempParent(s)
                        }
                        this.renderTexture.bind(n),
                        this.batch.currentRenderer.start(),
                        (void 0 !== r ? r : this.clearBeforeRender) && this.renderTexture.clear(),
                        t.render(this),
                        this.batch.currentRenderer.flush(),
                        n && n.baseTexture.update(),
                        this.runners.postrender.emit(),
                        this.projection.transform = null,
                        this.emit("postrender")
                    }
                }
                ,
                e.prototype.generateTexture = function(e, n, r, i) {
                    void 0 === n && (n = {});
                    var o = t.prototype.generateTexture.call(this, e, n, r, i);
                    return this.framebuffer.blit(),
                    o
                }
                ,
                e.prototype.resize = function(e, n) {
                    t.prototype.resize.call(this, e, n),
                    this.runners.resize.emit(this.screen.height, this.screen.width)
                }
                ,
                e.prototype.reset = function() {
                    return this.runners.reset.emit(),
                    this
                }
                ,
                e.prototype.clear = function() {
                    this.renderTexture.bind(),
                    this.renderTexture.clear()
                }
                ,
                e.prototype.destroy = function(e) {
                    for (var n in this.runners.destroy.emit(),
                    this.runners)
                        this.runners[n].destroy();
                    t.prototype.destroy.call(this, e),
                    this.gl = null
                }
                ,
                Object.defineProperty(e.prototype, "extract", {
                    get: function() {
                        return Ct("6.0.0", "Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),
                        this.plugins.extract
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.registerPlugin = function(t, e) {
                    Ct("6.5.0", "Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),
                    _e.add({
                        name: t,
                        type: de.RendererPlugin,
                        ref: e
                    })
                }
                ,
                e.__plugins = {},
                e
            }(yr);
            _e.handleByMap(de.RendererPlugin, Tr.__plugins);
            var Er = "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"
              , Ar = function() {
                this.texArray = null,
                this.blend = 0,
                this.type = x.TRIANGLES,
                this.start = 0,
                this.size = 0,
                this.data = null
            }
              , Sr = function() {
                function t() {
                    this.elements = [],
                    this.ids = [],
                    this.count = 0
                }
                return t.prototype.clear = function() {
                    for (var t = 0; t < this.count; t++)
                        this.elements[t] = null;
                    this.count = 0
                }
                ,
                t
            }()
              , wr = function() {
                function t(t) {
                    "number" == typeof t ? this.rawBinaryData = new ArrayBuffer(t) : t instanceof Uint8Array ? this.rawBinaryData = t.buffer : this.rawBinaryData = t,
                    this.uint32View = new Uint32Array(this.rawBinaryData),
                    this.float32View = new Float32Array(this.rawBinaryData)
                }
                return Object.defineProperty(t.prototype, "int8View", {
                    get: function() {
                        return this._int8View || (this._int8View = new Int8Array(this.rawBinaryData)),
                        this._int8View
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "uint8View", {
                    get: function() {
                        return this._uint8View || (this._uint8View = new Uint8Array(this.rawBinaryData)),
                        this._uint8View
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "int16View", {
                    get: function() {
                        return this._int16View || (this._int16View = new Int16Array(this.rawBinaryData)),
                        this._int16View
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "uint16View", {
                    get: function() {
                        return this._uint16View || (this._uint16View = new Uint16Array(this.rawBinaryData)),
                        this._uint16View
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "int32View", {
                    get: function() {
                        return this._int32View || (this._int32View = new Int32Array(this.rawBinaryData)),
                        this._int32View
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.view = function(t) {
                    return this[t + "View"]
                }
                ,
                t.prototype.destroy = function() {
                    this.rawBinaryData = null,
                    this._int8View = null,
                    this._uint8View = null,
                    this._int16View = null,
                    this._uint16View = null,
                    this._int32View = null,
                    this.uint32View = null,
                    this.float32View = null
                }
                ,
                t.sizeOf = function(t) {
                    switch (t) {
                    case "int8":
                    case "uint8":
                        return 1;
                    case "int16":
                    case "uint16":
                        return 2;
                    case "int32":
                    case "uint32":
                    case "float32":
                        return 4;
                    default:
                        throw new Error(t + " isn't a valid view type")
                    }
                }
                ,
                t
            }()
              , Rr = function(t) {
                function e(e) {
                    var n = t.call(this, e) || this;
                    return n.shaderGenerator = null,
                    n.geometryClass = null,
                    n.vertexSize = null,
                    n.state = Wn.for2d(),
                    n.size = 4 * st.SPRITE_BATCH_SIZE,
                    n._vertexCount = 0,
                    n._indexCount = 0,
                    n._bufferedElements = [],
                    n._bufferedTextures = [],
                    n._bufferSize = 0,
                    n._shader = null,
                    n._packedGeometries = [],
                    n._packedGeometryPoolSize = 2,
                    n._flushId = 0,
                    n._aBuffers = {},
                    n._iBuffers = {},
                    n.MAX_TEXTURES = 1,
                    n.renderer.on("prerender", n.onPrerender, n),
                    e.runners.contextChange.add(n),
                    n._dcIndex = 0,
                    n._aIndex = 0,
                    n._iIndex = 0,
                    n._attributeBuffer = null,
                    n._indexBuffer = null,
                    n._tempBoundTextures = [],
                    n
                }
                return Ae(e, t),
                e.prototype.contextChange = function() {
                    var t = this.renderer.gl;
                    st.PREFER_ENV === v.WEBGL_LEGACY ? this.MAX_TEXTURES = 1 : (this.MAX_TEXTURES = Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), st.SPRITE_MAX_TEXTURES),
                    this.MAX_TEXTURES = function(t, e) {
                        if (0 === t)
                            throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");
                        for (var n = e.createShader(e.FRAGMENT_SHADER); ; ) {
                            var r = kn.replace(/%forloop%/gi, Un(t));
                            if (e.shaderSource(n, r),
                            e.compileShader(n),
                            e.getShaderParameter(n, e.COMPILE_STATUS))
                                break;
                            t = t / 2 | 0
                        }
                        return t
                    }(this.MAX_TEXTURES, t)),
                    this._shader = this.shaderGenerator.generateShader(this.MAX_TEXTURES);
                    for (var e = 0; e < this._packedGeometryPoolSize; e++)
                        this._packedGeometries[e] = new this.geometryClass;
                    this.initFlushBuffers()
                }
                ,
                e.prototype.initFlushBuffers = function() {
                    for (var t = e._drawCallPool, n = e._textureArrayPool, r = this.size / 4, i = Math.floor(r / this.MAX_TEXTURES) + 1; t.length < r; )
                        t.push(new Ar);
                    for (; n.length < i; )
                        n.push(new Sr);
                    for (var o = 0; o < this.MAX_TEXTURES; o++)
                        this._tempBoundTextures[o] = null
                }
                ,
                e.prototype.onPrerender = function() {
                    this._flushId = 0
                }
                ,
                e.prototype.render = function(t) {
                    t._texture.valid && (this._vertexCount + t.vertexData.length / 2 > this.size && this.flush(),
                    this._vertexCount += t.vertexData.length / 2,
                    this._indexCount += t.indices.length,
                    this._bufferedTextures[this._bufferSize] = t._texture.baseTexture,
                    this._bufferedElements[this._bufferSize++] = t)
                }
                ,
                e.prototype.buildTexturesAndDrawCalls = function() {
                    var t = this._bufferedTextures
                      , n = this.MAX_TEXTURES
                      , r = e._textureArrayPool
                      , i = this.renderer.batch
                      , o = this._tempBoundTextures
                      , s = this.renderer.textureGC.count
                      , a = ++Ie._globalBatch
                      , u = 0
                      , h = r[0]
                      , l = 0;
                    i.copyBoundTextures(o, n);
                    for (var c = 0; c < this._bufferSize; ++c) {
                        var d = t[c];
                        t[c] = null,
                        d._batchEnabled !== a && (h.count >= n && (i.boundArray(h, o, a, n),
                        this.buildDrawCalls(h, l, c),
                        l = c,
                        h = r[++u],
                        ++a),
                        d._batchEnabled = a,
                        d.touched = s,
                        h.elements[h.count++] = d)
                    }
                    for (h.count > 0 && (i.boundArray(h, o, a, n),
                    this.buildDrawCalls(h, l, this._bufferSize),
                    ++u,
                    ++a),
                    c = 0; c < o.length; c++)
                        o[c] = null;
                    Ie._globalBatch = a
                }
                ,
                e.prototype.buildDrawCalls = function(t, n, r) {
                    var i = this
                      , o = i._bufferedElements
                      , s = i._attributeBuffer
                      , a = i._indexBuffer
                      , u = i.vertexSize
                      , h = e._drawCallPool
                      , l = this._dcIndex
                      , c = this._aIndex
                      , d = this._iIndex
                      , p = h[l];
                    p.start = this._iIndex,
                    p.texArray = t;
                    for (var f = n; f < r; ++f) {
                        var m = o[f]
                          , _ = m._texture.baseTexture
                          , v = vt[_.alphaMode ? 1 : 0][m.blendMode];
                        o[f] = null,
                        n < f && p.blend !== v && (p.size = d - p.start,
                        n = f,
                        (p = h[++l]).texArray = t,
                        p.start = d),
                        this.packInterleavedGeometry(m, s, a, c, d),
                        c += m.vertexData.length / 2 * u,
                        d += m.indices.length,
                        p.blend = v
                    }
                    n < r && (p.size = d - p.start,
                    ++l),
                    this._dcIndex = l,
                    this._aIndex = c,
                    this._iIndex = d
                }
                ,
                e.prototype.bindAndClearTexArray = function(t) {
                    for (var e = this.renderer.texture, n = 0; n < t.count; n++)
                        e.bind(t.elements[n], t.ids[n]),
                        t.elements[n] = null;
                    t.count = 0
                }
                ,
                e.prototype.updateGeometry = function() {
                    var t = this
                      , e = t._packedGeometries
                      , n = t._attributeBuffer
                      , r = t._indexBuffer;
                    st.CAN_UPLOAD_SAME_BUFFER ? (e[this._flushId]._buffer.update(n.rawBinaryData),
                    e[this._flushId]._indexBuffer.update(r),
                    this.renderer.geometry.updateBuffers()) : (this._packedGeometryPoolSize <= this._flushId && (this._packedGeometryPoolSize++,
                    e[this._flushId] = new this.geometryClass),
                    e[this._flushId]._buffer.update(n.rawBinaryData),
                    e[this._flushId]._indexBuffer.update(r),
                    this.renderer.geometry.bind(e[this._flushId]),
                    this.renderer.geometry.updateBuffers(),
                    this._flushId++)
                }
                ,
                e.prototype.drawBatches = function() {
                    for (var t = this._dcIndex, n = this.renderer, r = n.gl, i = n.state, o = e._drawCallPool, s = null, a = 0; a < t; a++) {
                        var u = o[a]
                          , h = u.texArray
                          , l = u.type
                          , c = u.size
                          , d = u.start
                          , p = u.blend;
                        s !== h && (s = h,
                        this.bindAndClearTexArray(h)),
                        this.state.blendMode = p,
                        i.set(this.state),
                        r.drawElements(l, c, r.UNSIGNED_SHORT, 2 * d)
                    }
                }
                ,
                e.prototype.flush = function() {
                    0 !== this._vertexCount && (this._attributeBuffer = this.getAttributeBuffer(this._vertexCount),
                    this._indexBuffer = this.getIndexBuffer(this._indexCount),
                    this._aIndex = 0,
                    this._iIndex = 0,
                    this._dcIndex = 0,
                    this.buildTexturesAndDrawCalls(),
                    this.updateGeometry(),
                    this.drawBatches(),
                    this._bufferSize = 0,
                    this._vertexCount = 0,
                    this._indexCount = 0)
                }
                ,
                e.prototype.start = function() {
                    this.renderer.state.set(this.state),
                    this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),
                    this.renderer.shader.bind(this._shader),
                    st.CAN_UPLOAD_SAME_BUFFER && this.renderer.geometry.bind(this._packedGeometries[this._flushId])
                }
                ,
                e.prototype.stop = function() {
                    this.flush()
                }
                ,
                e.prototype.destroy = function() {
                    for (var e = 0; e < this._packedGeometryPoolSize; e++)
                        this._packedGeometries[e] && this._packedGeometries[e].destroy();
                    this.renderer.off("prerender", this.onPrerender, this),
                    this._aBuffers = null,
                    this._iBuffers = null,
                    this._packedGeometries = null,
                    this._attributeBuffer = null,
                    this._indexBuffer = null,
                    this._shader && (this._shader.destroy(),
                    this._shader = null),
                    t.prototype.destroy.call(this)
                }
                ,
                e.prototype.getAttributeBuffer = function(t) {
                    var e = Tt(Math.ceil(t / 8))
                      , n = At(e)
                      , r = 8 * e;
                    this._aBuffers.length <= n && (this._iBuffers.length = n + 1);
                    var i = this._aBuffers[r];
                    return i || (this._aBuffers[r] = i = new wr(r * this.vertexSize * 4)),
                    i
                }
                ,
                e.prototype.getIndexBuffer = function(t) {
                    var e = Tt(Math.ceil(t / 12))
                      , n = At(e)
                      , r = 12 * e;
                    this._iBuffers.length <= n && (this._iBuffers.length = n + 1);
                    var i = this._iBuffers[n];
                    return i || (this._iBuffers[n] = i = new Uint16Array(r)),
                    i
                }
                ,
                e.prototype.packInterleavedGeometry = function(t, e, n, r, i) {
                    for (var o = e.uint32View, s = e.float32View, a = r / this.vertexSize, u = t.uvs, h = t.indices, l = t.vertexData, c = t._texture.baseTexture._batchLocation, d = Math.min(t.worldAlpha, 1), p = d < 1 && t._texture.baseTexture.alphaMode ? yt(t._tintRGB, d) : t._tintRGB + (255 * d << 24), f = 0; f < l.length; f += 2)
                        s[r++] = l[f],
                        s[r++] = l[f + 1],
                        s[r++] = u[f],
                        s[r++] = u[f + 1],
                        o[r++] = p,
                        s[r++] = c;
                    for (f = 0; f < h.length; f++)
                        n[i++] = a + h[f]
                }
                ,
                e._drawCallPool = [],
                e._textureArrayPool = [],
                e
            }(dn)
              , Or = function() {
                function t(t, e) {
                    if (this.vertexSrc = t,
                    this.fragTemplate = e,
                    this.programCache = {},
                    this.defaultGroupCache = {},
                    e.indexOf("%count%") < 0)
                        throw new Error('Fragment template must contain "%count%".');
                    if (e.indexOf("%forloop%") < 0)
                        throw new Error('Fragment template must contain "%forloop%".')
                }
                return t.prototype.generateShader = function(t) {
                    if (!this.programCache[t]) {
                        for (var e = new Int32Array(t), n = 0; n < t; n++)
                            e[n] = n;
                        this.defaultGroupCache[t] = an.from({
                            uSamplers: e
                        }, !0);
                        var r = this.fragTemplate;
                        r = (r = r.replace(/%count%/gi, "" + t)).replace(/%forloop%/gi, this.generateSampleSrc(t)),
                        this.programCache[t] = new jn(this.vertexSrc,r)
                    }
                    var i = {
                        tint: new Float32Array([1, 1, 1, 1]),
                        translationMatrix: new qt,
                        default: this.defaultGroupCache[t]
                    };
                    return new $n(this.programCache[t],i)
                }
                ,
                t.prototype.generateSampleSrc = function(t) {
                    var e = "";
                    e += "\n",
                    e += "\n";
                    for (var n = 0; n < t; n++)
                        n > 0 && (e += "\nelse "),
                        n < t - 1 && (e += "if(vTextureId < " + n + ".5)"),
                        e += "\n{",
                        e += "\n\tcolor = texture2D(uSamplers[" + n + "], vTextureCoord);",
                        e += "\n}";
                    return (e += "\n") + "\n"
                }
                ,
                t
            }()
              , Ir = function(t) {
                function e(e) {
                    void 0 === e && (e = !1);
                    var n = t.call(this) || this;
                    return n._buffer = new Je(null,e,!1),
                    n._indexBuffer = new Je(null,e,!0),
                    n.addAttribute("aVertexPosition", n._buffer, 2, !1, A.FLOAT).addAttribute("aTextureCoord", n._buffer, 2, !1, A.FLOAT).addAttribute("aColor", n._buffer, 4, !0, A.UNSIGNED_BYTE).addAttribute("aTextureId", n._buffer, 1, !0, A.FLOAT).addIndex(n._indexBuffer),
                    n
                }
                return Ae(e, t),
                e
            }(nn)
              , Cr = "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"
              , Dr = "varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"
              , Mr = function() {
                function t() {}
                return t.create = function(t) {
                    var e = Object.assign({
                        vertex: Cr,
                        fragment: Dr,
                        geometryClass: Ir,
                        vertexSize: 6
                    }, t)
                      , n = e.vertex
                      , r = e.fragment
                      , i = e.vertexSize
                      , o = e.geometryClass;
                    return function(t) {
                        function e(e) {
                            var s = t.call(this, e) || this;
                            return s.shaderGenerator = new Or(n,r),
                            s.geometryClass = o,
                            s.vertexSize = i,
                            s
                        }
                        return Ae(e, t),
                        e
                    }(Rr)
                }
                ,
                Object.defineProperty(t, "defaultVertexSrc", {
                    get: function() {
                        return Cr
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t, "defaultFragmentTemplate", {
                    get: function() {
                        return Dr
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t
            }().create();
            Object.assign(Mr, {
                extension: {
                    name: "batch",
                    type: de.RendererPlugin
                }
            });
            var Pr = {}
              , Nr = function(t) {
                Object.defineProperty(Pr, t, {
                    get: function() {
                        return Ct("6.0.0", "PIXI.systems." + t + " has moved to PIXI." + t),
                        ke[t]
                    }
                })
            };
            for (var Br in ke)
                Nr(Br);
            var Lr = {}
              , Fr = function(t) {
                Object.defineProperty(Lr, t, {
                    get: function() {
                        return Ct("6.0.0", "PIXI.resources." + t + " has moved to PIXI." + t),
                        vr[t]
                    }
                })
            };
            for (var Br in vr)
                Fr(Br);
            ue.mixin({
                accessible: !1,
                accessibleTitle: null,
                accessibleHint: null,
                tabIndex: 0,
                _accessibleActive: !1,
                _accessibleDiv: null,
                accessibleType: "button",
                accessiblePointerEvents: "auto",
                accessibleChildren: !0,
                renderId: -1
            });
            var Gr = function() {
                function t(t) {
                    this.debug = !1,
                    this._isActive = !1,
                    this._isMobileAccessibility = !1,
                    this.pool = [],
                    this.renderId = 0,
                    this.children = [],
                    this.androidUpdateCount = 0,
                    this.androidUpdateFrequency = 500,
                    this._hookDiv = null,
                    (ot.tablet || ot.phone) && this.createTouchHook();
                    var e = document.createElement("div");
                    e.style.width = "100px",
                    e.style.height = "100px",
                    e.style.position = "absolute",
                    e.style.top = "0px",
                    e.style.left = "0px",
                    e.style.zIndex = 2..toString(),
                    this.div = e,
                    this.renderer = t,
                    this._onKeyDown = this._onKeyDown.bind(this),
                    this._onMouseMove = this._onMouseMove.bind(this),
                    globalThis.addEventListener("keydown", this._onKeyDown, !1)
                }
                return Object.defineProperty(t.prototype, "isActive", {
                    get: function() {
                        return this._isActive
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "isMobileAccessibility", {
                    get: function() {
                        return this._isMobileAccessibility
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.createTouchHook = function() {
                    var t = this
                      , e = document.createElement("button");
                    e.style.width = "1px",
                    e.style.height = "1px",
                    e.style.position = "absolute",
                    e.style.top = "-1000px",
                    e.style.left = "-1000px",
                    e.style.zIndex = 2..toString(),
                    e.style.backgroundColor = "#FF0000",
                    e.title = "select to enable accessibility for this content",
                    e.addEventListener("focus", (function() {
                        t._isMobileAccessibility = !0,
                        t.activate(),
                        t.destroyTouchHook()
                    }
                    )),
                    document.body.appendChild(e),
                    this._hookDiv = e
                }
                ,
                t.prototype.destroyTouchHook = function() {
                    this._hookDiv && (document.body.removeChild(this._hookDiv),
                    this._hookDiv = null)
                }
                ,
                t.prototype.activate = function() {
                    var t;
                    this._isActive || (this._isActive = !0,
                    globalThis.document.addEventListener("mousemove", this._onMouseMove, !0),
                    globalThis.removeEventListener("keydown", this._onKeyDown, !1),
                    this.renderer.on("postrender", this.update, this),
                    null === (t = this.renderer.view.parentNode) || void 0 === t || t.appendChild(this.div))
                }
                ,
                t.prototype.deactivate = function() {
                    var t;
                    this._isActive && !this._isMobileAccessibility && (this._isActive = !1,
                    globalThis.document.removeEventListener("mousemove", this._onMouseMove, !0),
                    globalThis.addEventListener("keydown", this._onKeyDown, !1),
                    this.renderer.off("postrender", this.update),
                    null === (t = this.div.parentNode) || void 0 === t || t.removeChild(this.div))
                }
                ,
                t.prototype.updateAccessibleObjects = function(t) {
                    if (t.visible && t.accessibleChildren) {
                        t.accessible && t.interactive && (t._accessibleActive || this.addChild(t),
                        t.renderId = this.renderId);
                        var e = t.children;
                        if (e)
                            for (var n = 0; n < e.length; n++)
                                this.updateAccessibleObjects(e[n])
                    }
                }
                ,
                t.prototype.update = function() {
                    var t = performance.now();
                    if (!(ot.android.device && t < this.androidUpdateCount) && (this.androidUpdateCount = t + this.androidUpdateFrequency,
                    this.renderer.renderingToScreen)) {
                        this.renderer._lastObjectRendered && this.updateAccessibleObjects(this.renderer._lastObjectRendered);
                        var e = this.renderer.view.getBoundingClientRect()
                          , n = e.left
                          , r = e.top
                          , i = e.width
                          , o = e.height
                          , s = this.renderer
                          , a = s.width
                          , u = s.height
                          , h = s.resolution
                          , l = i / a * h
                          , c = o / u * h
                          , d = this.div;
                        d.style.left = n + "px",
                        d.style.top = r + "px",
                        d.style.width = a + "px",
                        d.style.height = u + "px";
                        for (var p = 0; p < this.children.length; p++) {
                            var f = this.children[p];
                            if (f.renderId !== this.renderId)
                                f._accessibleActive = !1,
                                St(this.children, p, 1),
                                this.div.removeChild(f._accessibleDiv),
                                this.pool.push(f._accessibleDiv),
                                f._accessibleDiv = null,
                                p--;
                            else {
                                d = f._accessibleDiv;
                                var m = f.hitArea
                                  , _ = f.worldTransform;
                                f.hitArea ? (d.style.left = (_.tx + m.x * _.a) * l + "px",
                                d.style.top = (_.ty + m.y * _.d) * c + "px",
                                d.style.width = m.width * _.a * l + "px",
                                d.style.height = m.height * _.d * c + "px") : (m = f.getBounds(),
                                this.capHitArea(m),
                                d.style.left = m.x * l + "px",
                                d.style.top = m.y * c + "px",
                                d.style.width = m.width * l + "px",
                                d.style.height = m.height * c + "px",
                                d.title !== f.accessibleTitle && null !== f.accessibleTitle && (d.title = f.accessibleTitle),
                                d.getAttribute("aria-label") !== f.accessibleHint && null !== f.accessibleHint && d.setAttribute("aria-label", f.accessibleHint)),
                                f.accessibleTitle === d.title && f.tabIndex === d.tabIndex || (d.title = f.accessibleTitle,
                                d.tabIndex = f.tabIndex,
                                this.debug && this.updateDebugHTML(d))
                            }
                        }
                        this.renderId++
                    }
                }
                ,
                t.prototype.updateDebugHTML = function(t) {
                    t.innerHTML = "type: " + t.type + "</br> title : " + t.title + "</br> tabIndex: " + t.tabIndex
                }
                ,
                t.prototype.capHitArea = function(t) {
                    t.x < 0 && (t.width += t.x,
                    t.x = 0),
                    t.y < 0 && (t.height += t.y,
                    t.y = 0);
                    var e = this.renderer
                      , n = e.width
                      , r = e.height;
                    t.x + t.width > n && (t.width = n - t.x),
                    t.y + t.height > r && (t.height = r - t.y)
                }
                ,
                t.prototype.addChild = function(t) {
                    var e = this.pool.pop();
                    e || ((e = document.createElement("button")).style.width = "100px",
                    e.style.height = "100px",
                    e.style.backgroundColor = this.debug ? "rgba(255,255,255,0.5)" : "transparent",
                    e.style.position = "absolute",
                    e.style.zIndex = 2..toString(),
                    e.style.borderStyle = "none",
                    navigator.userAgent.toLowerCase().indexOf("chrome") > -1 ? e.setAttribute("aria-live", "off") : e.setAttribute("aria-live", "polite"),
                    navigator.userAgent.match(/rv:.*Gecko\//) ? e.setAttribute("aria-relevant", "additions") : e.setAttribute("aria-relevant", "text"),
                    e.addEventListener("click", this._onClick.bind(this)),
                    e.addEventListener("focus", this._onFocus.bind(this)),
                    e.addEventListener("focusout", this._onFocusOut.bind(this))),
                    e.style.pointerEvents = t.accessiblePointerEvents,
                    e.type = t.accessibleType,
                    t.accessibleTitle && null !== t.accessibleTitle ? e.title = t.accessibleTitle : t.accessibleHint && null !== t.accessibleHint || (e.title = "displayObject " + t.tabIndex),
                    t.accessibleHint && null !== t.accessibleHint && e.setAttribute("aria-label", t.accessibleHint),
                    this.debug && this.updateDebugHTML(e),
                    t._accessibleActive = !0,
                    t._accessibleDiv = e,
                    e.displayObject = t,
                    this.children.push(t),
                    this.div.appendChild(t._accessibleDiv),
                    t._accessibleDiv.tabIndex = t.tabIndex
                }
                ,
                t.prototype._onClick = function(t) {
                    var e = this.renderer.plugins.interaction
                      , n = t.target.displayObject
                      , r = e.eventData;
                    e.dispatchEvent(n, "click", r),
                    e.dispatchEvent(n, "pointertap", r),
                    e.dispatchEvent(n, "tap", r)
                }
                ,
                t.prototype._onFocus = function(t) {
                    t.target.getAttribute("aria-live") || t.target.setAttribute("aria-live", "assertive");
                    var e = this.renderer.plugins.interaction
                      , n = t.target.displayObject
                      , r = e.eventData;
                    e.dispatchEvent(n, "mouseover", r)
                }
                ,
                t.prototype._onFocusOut = function(t) {
                    t.target.getAttribute("aria-live") || t.target.setAttribute("aria-live", "polite");
                    var e = this.renderer.plugins.interaction
                      , n = t.target.displayObject
                      , r = e.eventData;
                    e.dispatchEvent(n, "mouseout", r)
                }
                ,
                t.prototype._onKeyDown = function(t) {
                    9 === t.keyCode && this.activate()
                }
                ,
                t.prototype._onMouseMove = function(t) {
                    0 === t.movementX && 0 === t.movementY || this.deactivate()
                }
                ,
                t.prototype.destroy = function() {
                    this.destroyTouchHook(),
                    this.div = null,
                    globalThis.document.removeEventListener("mousemove", this._onMouseMove, !0),
                    globalThis.removeEventListener("keydown", this._onKeyDown),
                    this.pool = null,
                    this.children = null,
                    this.renderer = null
                }
                ,
                t.extension = {
                    name: "accessibility",
                    type: [de.RendererPlugin, de.CanvasRendererPlugin]
                },
                t
            }()
              , kr = function() {
                function t() {
                    this.pressure = 0,
                    this.rotationAngle = 0,
                    this.twist = 0,
                    this.tangentialPressure = 0,
                    this.global = new Xt,
                    this.target = null,
                    this.originalEvent = null,
                    this.identifier = null,
                    this.isPrimary = !1,
                    this.button = 0,
                    this.buttons = 0,
                    this.width = 0,
                    this.height = 0,
                    this.tiltX = 0,
                    this.tiltY = 0,
                    this.pointerType = null,
                    this.pressure = 0,
                    this.rotationAngle = 0,
                    this.twist = 0,
                    this.tangentialPressure = 0
                }
                return Object.defineProperty(t.prototype, "pointerId", {
                    get: function() {
                        return this.identifier
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.getLocalPosition = function(t, e, n) {
                    return t.worldTransform.applyInverse(n || this.global, e)
                }
                ,
                t.prototype.copyEvent = function(t) {
                    "isPrimary"in t && t.isPrimary && (this.isPrimary = !0),
                    this.button = "button"in t && t.button;
                    var e = "buttons"in t && t.buttons;
                    this.buttons = Number.isInteger(e) ? e : "which"in t && t.which,
                    this.width = "width"in t && t.width,
                    this.height = "height"in t && t.height,
                    this.tiltX = "tiltX"in t && t.tiltX,
                    this.tiltY = "tiltY"in t && t.tiltY,
                    this.pointerType = "pointerType"in t && t.pointerType,
                    this.pressure = "pressure"in t && t.pressure,
                    this.rotationAngle = "rotationAngle"in t && t.rotationAngle,
                    this.twist = "twist"in t && t.twist || 0,
                    this.tangentialPressure = "tangentialPressure"in t && t.tangentialPressure || 0
                }
                ,
                t.prototype.reset = function() {
                    this.isPrimary = !1
                }
                ,
                t
            }()
              , Ur = function(t, e) {
                return (Ur = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            }
              , Xr = function() {
                function t() {
                    this.stopped = !1,
                    this.stopsPropagatingAt = null,
                    this.stopPropagationHint = !1,
                    this.target = null,
                    this.currentTarget = null,
                    this.type = null,
                    this.data = null
                }
                return t.prototype.stopPropagation = function() {
                    this.stopped = !0,
                    this.stopPropagationHint = !0,
                    this.stopsPropagatingAt = this.currentTarget
                }
                ,
                t.prototype.reset = function() {
                    this.stopped = !1,
                    this.stopsPropagatingAt = null,
                    this.stopPropagationHint = !1,
                    this.currentTarget = null,
                    this.target = null
                }
                ,
                t
            }()
              , Hr = function() {
                function t(e) {
                    this._pointerId = e,
                    this._flags = t.FLAGS.NONE
                }
                return t.prototype._doSet = function(t, e) {
                    this._flags = e ? this._flags | t : this._flags & ~t
                }
                ,
                Object.defineProperty(t.prototype, "pointerId", {
                    get: function() {
                        return this._pointerId
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "flags", {
                    get: function() {
                        return this._flags
                    },
                    set: function(t) {
                        this._flags = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "none", {
                    get: function() {
                        return this._flags === t.FLAGS.NONE
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "over", {
                    get: function() {
                        return 0 != (this._flags & t.FLAGS.OVER)
                    },
                    set: function(e) {
                        this._doSet(t.FLAGS.OVER, e)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "rightDown", {
                    get: function() {
                        return 0 != (this._flags & t.FLAGS.RIGHT_DOWN)
                    },
                    set: function(e) {
                        this._doSet(t.FLAGS.RIGHT_DOWN, e)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "leftDown", {
                    get: function() {
                        return 0 != (this._flags & t.FLAGS.LEFT_DOWN)
                    },
                    set: function(e) {
                        this._doSet(t.FLAGS.LEFT_DOWN, e)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.FLAGS = Object.freeze({
                    NONE: 0,
                    OVER: 1,
                    LEFT_DOWN: 2,
                    RIGHT_DOWN: 4
                }),
                t
            }()
              , jr = function() {
                function t() {
                    this._tempPoint = new Xt
                }
                return t.prototype.recursiveFindHit = function(t, e, n, r, i) {
                    var o;
                    if (!e || !e.visible)
                        return !1;
                    var s = t.data.global
                      , a = !1
                      , u = i = e.interactive || i
                      , h = !0;
                    if (e.hitArea)
                        r && (e.worldTransform.applyInverse(s, this._tempPoint),
                        e.hitArea.contains(this._tempPoint.x, this._tempPoint.y) ? a = !0 : (r = !1,
                        h = !1)),
                        u = !1;
                    else if (e._mask && r) {
                        var l = e._mask.isMaskData ? e._mask.maskObject : e._mask;
                        l && !(null === (o = l.containsPoint) || void 0 === o ? void 0 : o.call(l, s)) && (r = !1)
                    }
                    if (h && e.interactiveChildren && e.children)
                        for (var c = e.children, d = c.length - 1; d >= 0; d--) {
                            var p = c[d]
                              , f = this.recursiveFindHit(t, p, n, r, u);
                            if (f) {
                                if (!p.parent)
                                    continue;
                                u = !1,
                                f && (t.target && (r = !1),
                                a = !0)
                            }
                        }
                    return i && (r && !t.target && !e.hitArea && e.containsPoint && e.containsPoint(s) && (a = !0),
                    e.interactive && (a && !t.target && (t.target = e),
                    n && n(t, e, !!a))),
                    a
                }
                ,
                t.prototype.findHit = function(t, e, n, r) {
                    this.recursiveFindHit(t, e, n, r, !1)
                }
                ,
                t
            }()
              , $r = {
                interactive: !1,
                interactiveChildren: !0,
                hitArea: null,
                get buttonMode() {
                    return "pointer" === this.cursor
                },
                set buttonMode(t) {
                    t ? this.cursor = "pointer" : "pointer" === this.cursor && (this.cursor = null)
                },
                cursor: null,
                get trackedPointers() {
                    return void 0 === this._trackedPointers && (this._trackedPointers = {}),
                    this._trackedPointers
                },
                _trackedPointers: void 0
            };
            ue.mixin($r);
            var Wr = {
                target: null,
                data: {
                    global: null
                }
            }
              , Vr = function(t) {
                function e(e, n) {
                    var r = t.call(this) || this;
                    return n = n || {},
                    r.renderer = e,
                    r.autoPreventDefault = void 0 === n.autoPreventDefault || n.autoPreventDefault,
                    r.interactionFrequency = n.interactionFrequency || 10,
                    r.mouse = new kr,
                    r.mouse.identifier = 1,
                    r.mouse.global.set(-999999),
                    r.activeInteractionData = {},
                    r.activeInteractionData[1] = r.mouse,
                    r.interactionDataPool = [],
                    r.eventData = new Xr,
                    r.interactionDOMElement = null,
                    r.moveWhenInside = !1,
                    r.eventsAdded = !1,
                    r.tickerAdded = !1,
                    r.mouseOverRenderer = !("PointerEvent"in globalThis),
                    r.supportsTouchEvents = "ontouchstart"in globalThis,
                    r.supportsPointerEvents = !!globalThis.PointerEvent,
                    r.onPointerUp = r.onPointerUp.bind(r),
                    r.processPointerUp = r.processPointerUp.bind(r),
                    r.onPointerCancel = r.onPointerCancel.bind(r),
                    r.processPointerCancel = r.processPointerCancel.bind(r),
                    r.onPointerDown = r.onPointerDown.bind(r),
                    r.processPointerDown = r.processPointerDown.bind(r),
                    r.onPointerMove = r.onPointerMove.bind(r),
                    r.processPointerMove = r.processPointerMove.bind(r),
                    r.onPointerOut = r.onPointerOut.bind(r),
                    r.processPointerOverOut = r.processPointerOverOut.bind(r),
                    r.onPointerOver = r.onPointerOver.bind(r),
                    r.cursorStyles = {
                        default: "inherit",
                        pointer: "pointer"
                    },
                    r.currentCursorMode = null,
                    r.cursor = null,
                    r.resolution = 1,
                    r.delayedEvents = [],
                    r.search = new jr,
                    r._tempDisplayObject = new he,
                    r._eventListenerOptions = {
                        capture: !0,
                        passive: !1
                    },
                    r._useSystemTicker = void 0 === n.useSystemTicker || n.useSystemTicker,
                    r.setTargetElement(r.renderer.view, r.renderer.resolution),
                    r
                }
                return function(t, e) {
                    function n() {
                        this.constructor = t
                    }
                    Ur(t, e),
                    t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                    new n)
                }(e, t),
                Object.defineProperty(e.prototype, "useSystemTicker", {
                    get: function() {
                        return this._useSystemTicker
                    },
                    set: function(t) {
                        this._useSystemTicker = t,
                        t ? this.addTickerListener() : this.removeTickerListener()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "lastObjectRendered", {
                    get: function() {
                        return this.renderer._lastObjectRendered || this._tempDisplayObject
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.hitTest = function(t, e) {
                    return Wr.target = null,
                    Wr.data.global = t,
                    e || (e = this.lastObjectRendered),
                    this.processInteractive(Wr, e, null, !0),
                    Wr.target
                }
                ,
                e.prototype.setTargetElement = function(t, e) {
                    void 0 === e && (e = 1),
                    this.removeTickerListener(),
                    this.removeEvents(),
                    this.interactionDOMElement = t,
                    this.resolution = e,
                    this.addEvents(),
                    this.addTickerListener()
                }
                ,
                e.prototype.addTickerListener = function() {
                    !this.tickerAdded && this.interactionDOMElement && this._useSystemTicker && (ye.system.add(this.tickerUpdate, this, fe.INTERACTION),
                    this.tickerAdded = !0)
                }
                ,
                e.prototype.removeTickerListener = function() {
                    this.tickerAdded && (ye.system.remove(this.tickerUpdate, this),
                    this.tickerAdded = !1)
                }
                ,
                e.prototype.addEvents = function() {
                    if (!this.eventsAdded && this.interactionDOMElement) {
                        var t = this.interactionDOMElement.style;
                        globalThis.navigator.msPointerEnabled ? (t.msContentZooming = "none",
                        t.msTouchAction = "none") : this.supportsPointerEvents && (t.touchAction = "none"),
                        this.supportsPointerEvents ? (globalThis.document.addEventListener("pointermove", this.onPointerMove, this._eventListenerOptions),
                        this.interactionDOMElement.addEventListener("pointerdown", this.onPointerDown, this._eventListenerOptions),
                        this.interactionDOMElement.addEventListener("pointerleave", this.onPointerOut, this._eventListenerOptions),
                        this.interactionDOMElement.addEventListener("pointerover", this.onPointerOver, this._eventListenerOptions),
                        globalThis.addEventListener("pointercancel", this.onPointerCancel, this._eventListenerOptions),
                        globalThis.addEventListener("pointerup", this.onPointerUp, this._eventListenerOptions)) : (globalThis.document.addEventListener("mousemove", this.onPointerMove, this._eventListenerOptions),
                        this.interactionDOMElement.addEventListener("mousedown", this.onPointerDown, this._eventListenerOptions),
                        this.interactionDOMElement.addEventListener("mouseout", this.onPointerOut, this._eventListenerOptions),
                        this.interactionDOMElement.addEventListener("mouseover", this.onPointerOver, this._eventListenerOptions),
                        globalThis.addEventListener("mouseup", this.onPointerUp, this._eventListenerOptions)),
                        this.supportsTouchEvents && (this.interactionDOMElement.addEventListener("touchstart", this.onPointerDown, this._eventListenerOptions),
                        this.interactionDOMElement.addEventListener("touchcancel", this.onPointerCancel, this._eventListenerOptions),
                        this.interactionDOMElement.addEventListener("touchend", this.onPointerUp, this._eventListenerOptions),
                        this.interactionDOMElement.addEventListener("touchmove", this.onPointerMove, this._eventListenerOptions)),
                        this.eventsAdded = !0
                    }
                }
                ,
                e.prototype.removeEvents = function() {
                    if (this.eventsAdded && this.interactionDOMElement) {
                        var t = this.interactionDOMElement.style;
                        globalThis.navigator.msPointerEnabled ? (t.msContentZooming = "",
                        t.msTouchAction = "") : this.supportsPointerEvents && (t.touchAction = ""),
                        this.supportsPointerEvents ? (globalThis.document.removeEventListener("pointermove", this.onPointerMove, this._eventListenerOptions),
                        this.interactionDOMElement.removeEventListener("pointerdown", this.onPointerDown, this._eventListenerOptions),
                        this.interactionDOMElement.removeEventListener("pointerleave", this.onPointerOut, this._eventListenerOptions),
                        this.interactionDOMElement.removeEventListener("pointerover", this.onPointerOver, this._eventListenerOptions),
                        globalThis.removeEventListener("pointercancel", this.onPointerCancel, this._eventListenerOptions),
                        globalThis.removeEventListener("pointerup", this.onPointerUp, this._eventListenerOptions)) : (globalThis.document.removeEventListener("mousemove", this.onPointerMove, this._eventListenerOptions),
                        this.interactionDOMElement.removeEventListener("mousedown", this.onPointerDown, this._eventListenerOptions),
                        this.interactionDOMElement.removeEventListener("mouseout", this.onPointerOut, this._eventListenerOptions),
                        this.interactionDOMElement.removeEventListener("mouseover", this.onPointerOver, this._eventListenerOptions),
                        globalThis.removeEventListener("mouseup", this.onPointerUp, this._eventListenerOptions)),
                        this.supportsTouchEvents && (this.interactionDOMElement.removeEventListener("touchstart", this.onPointerDown, this._eventListenerOptions),
                        this.interactionDOMElement.removeEventListener("touchcancel", this.onPointerCancel, this._eventListenerOptions),
                        this.interactionDOMElement.removeEventListener("touchend", this.onPointerUp, this._eventListenerOptions),
                        this.interactionDOMElement.removeEventListener("touchmove", this.onPointerMove, this._eventListenerOptions)),
                        this.interactionDOMElement = null,
                        this.eventsAdded = !1
                    }
                }
                ,
                e.prototype.tickerUpdate = function(t) {
                    this._deltaTime += t,
                    this._deltaTime < this.interactionFrequency || (this._deltaTime = 0,
                    this.update())
                }
                ,
                e.prototype.update = function() {
                    if (this.interactionDOMElement)
                        if (this._didMove)
                            this._didMove = !1;
                        else {
                            for (var t in this.cursor = null,
                            this.activeInteractionData)
                                if (this.activeInteractionData.hasOwnProperty(t)) {
                                    var e = this.activeInteractionData[t];
                                    if (e.originalEvent && "touch" !== e.pointerType) {
                                        var n = this.configureInteractionEventForDOMEvent(this.eventData, e.originalEvent, e);
                                        this.processInteractive(n, this.lastObjectRendered, this.processPointerOverOut, !0)
                                    }
                                }
                            this.setCursorMode(this.cursor)
                        }
                }
                ,
                e.prototype.setCursorMode = function(t) {
                    t = t || "default";
                    var e = !0;
                    if (globalThis.OffscreenCanvas && this.interactionDOMElement instanceof OffscreenCanvas && (e = !1),
                    this.currentCursorMode !== t) {
                        this.currentCursorMode = t;
                        var n = this.cursorStyles[t];
                        if (n)
                            switch (typeof n) {
                            case "string":
                                e && (this.interactionDOMElement.style.cursor = n);
                                break;
                            case "function":
                                n(t);
                                break;
                            case "object":
                                e && Object.assign(this.interactionDOMElement.style, n)
                            }
                        else
                            e && "string" == typeof t && !Object.prototype.hasOwnProperty.call(this.cursorStyles, t) && (this.interactionDOMElement.style.cursor = t)
                    }
                }
                ,
                e.prototype.dispatchEvent = function(t, e, n) {
                    n.stopPropagationHint && t !== n.stopsPropagatingAt || (n.currentTarget = t,
                    n.type = e,
                    t.emit(e, n),
                    t[e] && t[e](n))
                }
                ,
                e.prototype.delayDispatchEvent = function(t, e, n) {
                    this.delayedEvents.push({
                        displayObject: t,
                        eventString: e,
                        eventData: n
                    })
                }
                ,
                e.prototype.mapPositionToPoint = function(t, e, n) {
                    var r;
                    r = this.interactionDOMElement.parentElement ? this.interactionDOMElement.getBoundingClientRect() : {
                        x: 0,
                        y: 0,
                        width: this.interactionDOMElement.width,
                        height: this.interactionDOMElement.height,
                        left: 0,
                        top: 0
                    };
                    var i = 1 / this.resolution;
                    t.x = (e - r.left) * (this.interactionDOMElement.width / r.width) * i,
                    t.y = (n - r.top) * (this.interactionDOMElement.height / r.height) * i
                }
                ,
                e.prototype.processInteractive = function(t, e, n, r) {
                    var i = this.search.findHit(t, e, n, r)
                      , o = this.delayedEvents;
                    if (!o.length)
                        return i;
                    t.stopPropagationHint = !1;
                    var s = o.length;
                    this.delayedEvents = [];
                    for (var a = 0; a < s; a++) {
                        var u = o[a]
                          , h = u.displayObject
                          , l = u.eventString
                          , c = u.eventData;
                        c.stopsPropagatingAt === h && (c.stopPropagationHint = !0),
                        this.dispatchEvent(h, l, c)
                    }
                    return i
                }
                ,
                e.prototype.onPointerDown = function(t) {
                    if (!this.supportsTouchEvents || "touch" !== t.pointerType) {
                        var e = this.normalizeToPointerData(t);
                        this.autoPreventDefault && e[0].isNormalized && (t.cancelable || !("cancelable"in t)) && t.preventDefault();
                        for (var n = e.length, r = 0; r < n; r++) {
                            var i = e[r]
                              , o = this.getInteractionDataForPointerId(i)
                              , s = this.configureInteractionEventForDOMEvent(this.eventData, i, o);
                            if (s.data.originalEvent = t,
                            this.processInteractive(s, this.lastObjectRendered, this.processPointerDown, !0),
                            this.emit("pointerdown", s),
                            "touch" === i.pointerType)
                                this.emit("touchstart", s);
                            else if ("mouse" === i.pointerType || "pen" === i.pointerType) {
                                var a = 2 === i.button;
                                this.emit(a ? "rightdown" : "mousedown", this.eventData)
                            }
                        }
                    }
                }
                ,
                e.prototype.processPointerDown = function(t, e, n) {
                    var r = t.data
                      , i = t.data.identifier;
                    if (n)
                        if (e.trackedPointers[i] || (e.trackedPointers[i] = new Hr(i)),
                        this.dispatchEvent(e, "pointerdown", t),
                        "touch" === r.pointerType)
                            this.dispatchEvent(e, "touchstart", t);
                        else if ("mouse" === r.pointerType || "pen" === r.pointerType) {
                            var o = 2 === r.button;
                            o ? e.trackedPointers[i].rightDown = !0 : e.trackedPointers[i].leftDown = !0,
                            this.dispatchEvent(e, o ? "rightdown" : "mousedown", t)
                        }
                }
                ,
                e.prototype.onPointerComplete = function(t, e, n) {
                    var r = this.normalizeToPointerData(t)
                      , i = r.length
                      , o = t.target;
                    t.composedPath && t.composedPath().length > 0 && (o = t.composedPath()[0]);
                    for (var s = o !== this.interactionDOMElement ? "outside" : "", a = 0; a < i; a++) {
                        var u = r[a]
                          , h = this.getInteractionDataForPointerId(u)
                          , l = this.configureInteractionEventForDOMEvent(this.eventData, u, h);
                        if (l.data.originalEvent = t,
                        this.processInteractive(l, this.lastObjectRendered, n, e || !s),
                        this.emit(e ? "pointercancel" : "pointerup" + s, l),
                        "mouse" === u.pointerType || "pen" === u.pointerType) {
                            var c = 2 === u.button;
                            this.emit(c ? "rightup" + s : "mouseup" + s, l)
                        } else
                            "touch" === u.pointerType && (this.emit(e ? "touchcancel" : "touchend" + s, l),
                            this.releaseInteractionDataForPointerId(u.pointerId))
                    }
                }
                ,
                e.prototype.onPointerCancel = function(t) {
                    this.supportsTouchEvents && "touch" === t.pointerType || this.onPointerComplete(t, !0, this.processPointerCancel)
                }
                ,
                e.prototype.processPointerCancel = function(t, e) {
                    var n = t.data
                      , r = t.data.identifier;
                    void 0 !== e.trackedPointers[r] && (delete e.trackedPointers[r],
                    this.dispatchEvent(e, "pointercancel", t),
                    "touch" === n.pointerType && this.dispatchEvent(e, "touchcancel", t))
                }
                ,
                e.prototype.onPointerUp = function(t) {
                    this.supportsTouchEvents && "touch" === t.pointerType || this.onPointerComplete(t, !1, this.processPointerUp)
                }
                ,
                e.prototype.processPointerUp = function(t, e, n) {
                    var r = t.data
                      , i = t.data.identifier
                      , o = e.trackedPointers[i]
                      , s = "touch" === r.pointerType
                      , a = "mouse" === r.pointerType || "pen" === r.pointerType
                      , u = !1;
                    if (a) {
                        var h = 2 === r.button
                          , l = Hr.FLAGS
                          , c = h ? l.RIGHT_DOWN : l.LEFT_DOWN
                          , d = void 0 !== o && o.flags & c;
                        n ? (this.dispatchEvent(e, h ? "rightup" : "mouseup", t),
                        d && (this.dispatchEvent(e, h ? "rightclick" : "click", t),
                        u = !0)) : d && this.dispatchEvent(e, h ? "rightupoutside" : "mouseupoutside", t),
                        o && (h ? o.rightDown = !1 : o.leftDown = !1)
                    }
                    n ? (this.dispatchEvent(e, "pointerup", t),
                    s && this.dispatchEvent(e, "touchend", t),
                    o && (a && !u || this.dispatchEvent(e, "pointertap", t),
                    s && (this.dispatchEvent(e, "tap", t),
                    o.over = !1))) : o && (this.dispatchEvent(e, "pointerupoutside", t),
                    s && this.dispatchEvent(e, "touchendoutside", t)),
                    o && o.none && delete e.trackedPointers[i]
                }
                ,
                e.prototype.onPointerMove = function(t) {
                    if (!this.supportsTouchEvents || "touch" !== t.pointerType) {
                        var e = this.normalizeToPointerData(t);
                        "mouse" !== e[0].pointerType && "pen" !== e[0].pointerType || (this._didMove = !0,
                        this.cursor = null);
                        for (var n = e.length, r = 0; r < n; r++) {
                            var i = e[r]
                              , o = this.getInteractionDataForPointerId(i)
                              , s = this.configureInteractionEventForDOMEvent(this.eventData, i, o);
                            s.data.originalEvent = t,
                            this.processInteractive(s, this.lastObjectRendered, this.processPointerMove, !0),
                            this.emit("pointermove", s),
                            "touch" === i.pointerType && this.emit("touchmove", s),
                            "mouse" !== i.pointerType && "pen" !== i.pointerType || this.emit("mousemove", s)
                        }
                        "mouse" === e[0].pointerType && this.setCursorMode(this.cursor)
                    }
                }
                ,
                e.prototype.processPointerMove = function(t, e, n) {
                    var r = t.data
                      , i = "touch" === r.pointerType
                      , o = "mouse" === r.pointerType || "pen" === r.pointerType;
                    o && this.processPointerOverOut(t, e, n),
                    this.moveWhenInside && !n || (this.dispatchEvent(e, "pointermove", t),
                    i && this.dispatchEvent(e, "touchmove", t),
                    o && this.dispatchEvent(e, "mousemove", t))
                }
                ,
                e.prototype.onPointerOut = function(t) {
                    if (!this.supportsTouchEvents || "touch" !== t.pointerType) {
                        var e = this.normalizeToPointerData(t)[0];
                        "mouse" === e.pointerType && (this.mouseOverRenderer = !1,
                        this.setCursorMode(null));
                        var n = this.getInteractionDataForPointerId(e)
                          , r = this.configureInteractionEventForDOMEvent(this.eventData, e, n);
                        r.data.originalEvent = e,
                        this.processInteractive(r, this.lastObjectRendered, this.processPointerOverOut, !1),
                        this.emit("pointerout", r),
                        "mouse" === e.pointerType || "pen" === e.pointerType ? this.emit("mouseout", r) : this.releaseInteractionDataForPointerId(n.identifier)
                    }
                }
                ,
                e.prototype.processPointerOverOut = function(t, e, n) {
                    var r = t.data
                      , i = t.data.identifier
                      , o = "mouse" === r.pointerType || "pen" === r.pointerType
                      , s = e.trackedPointers[i];
                    n && !s && (s = e.trackedPointers[i] = new Hr(i)),
                    void 0 !== s && (n && this.mouseOverRenderer ? (s.over || (s.over = !0,
                    this.delayDispatchEvent(e, "pointerover", t),
                    o && this.delayDispatchEvent(e, "mouseover", t)),
                    o && null === this.cursor && (this.cursor = e.cursor)) : s.over && (s.over = !1,
                    this.dispatchEvent(e, "pointerout", this.eventData),
                    o && this.dispatchEvent(e, "mouseout", t),
                    s.none && delete e.trackedPointers[i]))
                }
                ,
                e.prototype.onPointerOver = function(t) {
                    if (!this.supportsTouchEvents || "touch" !== t.pointerType) {
                        var e = this.normalizeToPointerData(t)[0]
                          , n = this.getInteractionDataForPointerId(e)
                          , r = this.configureInteractionEventForDOMEvent(this.eventData, e, n);
                        r.data.originalEvent = e,
                        "mouse" === e.pointerType && (this.mouseOverRenderer = !0),
                        this.emit("pointerover", r),
                        "mouse" !== e.pointerType && "pen" !== e.pointerType || this.emit("mouseover", r)
                    }
                }
                ,
                e.prototype.getInteractionDataForPointerId = function(t) {
                    var e, n = t.pointerId;
                    return 1 === n || "mouse" === t.pointerType ? e = this.mouse : this.activeInteractionData[n] ? e = this.activeInteractionData[n] : ((e = this.interactionDataPool.pop() || new kr).identifier = n,
                    this.activeInteractionData[n] = e),
                    e.copyEvent(t),
                    e
                }
                ,
                e.prototype.releaseInteractionDataForPointerId = function(t) {
                    var e = this.activeInteractionData[t];
                    e && (delete this.activeInteractionData[t],
                    e.reset(),
                    this.interactionDataPool.push(e))
                }
                ,
                e.prototype.configureInteractionEventForDOMEvent = function(t, e, n) {
                    return t.data = n,
                    this.mapPositionToPoint(n.global, e.clientX, e.clientY),
                    "touch" === e.pointerType && (e.globalX = n.global.x,
                    e.globalY = n.global.y),
                    n.originalEvent = e,
                    t.reset(),
                    t
                }
                ,
                e.prototype.normalizeToPointerData = function(t) {
                    var e = [];
                    if (this.supportsTouchEvents && t instanceof TouchEvent)
                        for (var n = 0, r = t.changedTouches.length; n < r; n++) {
                            var i = t.changedTouches[n];
                            void 0 === i.button && (i.button = t.touches.length ? 1 : 0),
                            void 0 === i.buttons && (i.buttons = t.touches.length ? 1 : 0),
                            void 0 === i.isPrimary && (i.isPrimary = 1 === t.touches.length && "touchstart" === t.type),
                            void 0 === i.width && (i.width = i.radiusX || 1),
                            void 0 === i.height && (i.height = i.radiusY || 1),
                            void 0 === i.tiltX && (i.tiltX = 0),
                            void 0 === i.tiltY && (i.tiltY = 0),
                            void 0 === i.pointerType && (i.pointerType = "touch"),
                            void 0 === i.pointerId && (i.pointerId = i.identifier || 0),
                            void 0 === i.pressure && (i.pressure = i.force || .5),
                            void 0 === i.twist && (i.twist = 0),
                            void 0 === i.tangentialPressure && (i.tangentialPressure = 0),
                            void 0 === i.layerX && (i.layerX = i.offsetX = i.clientX),
                            void 0 === i.layerY && (i.layerY = i.offsetY = i.clientY),
                            i.isNormalized = !0,
                            e.push(i)
                        }
                    else if (!globalThis.MouseEvent || t instanceof MouseEvent && !(this.supportsPointerEvents && t instanceof globalThis.PointerEvent)) {
                        var o = t;
                        void 0 === o.isPrimary && (o.isPrimary = !0),
                        void 0 === o.width && (o.width = 1),
                        void 0 === o.height && (o.height = 1),
                        void 0 === o.tiltX && (o.tiltX = 0),
                        void 0 === o.tiltY && (o.tiltY = 0),
                        void 0 === o.pointerType && (o.pointerType = "mouse"),
                        void 0 === o.pointerId && (o.pointerId = 1),
                        void 0 === o.pressure && (o.pressure = .5),
                        void 0 === o.twist && (o.twist = 0),
                        void 0 === o.tangentialPressure && (o.tangentialPressure = 0),
                        o.isNormalized = !0,
                        e.push(o)
                    } else
                        e.push(t);
                    return e
                }
                ,
                e.prototype.destroy = function() {
                    this.removeEvents(),
                    this.removeTickerListener(),
                    this.removeAllListeners(),
                    this.renderer = null,
                    this.mouse = null,
                    this.eventData = null,
                    this.interactionDOMElement = null,
                    this.onPointerDown = null,
                    this.processPointerDown = null,
                    this.onPointerUp = null,
                    this.processPointerUp = null,
                    this.onPointerCancel = null,
                    this.processPointerCancel = null,
                    this.onPointerMove = null,
                    this.processPointerMove = null,
                    this.onPointerOut = null,
                    this.processPointerOverOut = null,
                    this.onPointerOver = null,
                    this.search = null
                }
                ,
                e.extension = {
                    name: "interaction",
                    type: [de.RendererPlugin, de.CanvasRendererPlugin]
                },
                e
            }(at)
              , Yr = new jt
              , zr = function() {
                function t(t) {
                    this.renderer = t
                }
                return t.prototype.image = function(t, e, n) {
                    var r = new Image;
                    return r.src = this.base64(t, e, n),
                    r
                }
                ,
                t.prototype.base64 = function(t, e, n) {
                    return this.canvas(t).toDataURL(e, n)
                }
                ,
                t.prototype.canvas = function(e, n) {
                    var r, i, o = this.renderer, s = !1, a = !1;
                    e && (e instanceof Ye ? i = e : (i = this.renderer.generateTexture(e),
                    a = !0)),
                    i ? (r = i.baseTexture.resolution,
                    n = null != n ? n : i.frame,
                    s = !1,
                    o.renderTexture.bind(i)) : (r = o.resolution,
                    n || ((n = Yr).width = o.width,
                    n.height = o.height),
                    s = !0,
                    o.renderTexture.bind(null));
                    var u = Math.round(n.width * r)
                      , h = Math.round(n.height * r)
                      , l = new Bt(u,h,1)
                      , c = new Uint8Array(4 * u * h)
                      , d = o.gl;
                    d.readPixels(Math.round(n.x * r), Math.round(n.y * r), u, h, d.RGBA, d.UNSIGNED_BYTE, c);
                    var p = l.context.getImageData(0, 0, u, h);
                    if (t.arrayPostDivide(c, p.data),
                    l.context.putImageData(p, 0, 0),
                    s) {
                        var f = new Bt(l.width,l.height,1);
                        f.context.scale(1, -1),
                        f.context.drawImage(l.canvas, 0, -h),
                        l.destroy(),
                        l = f
                    }
                    return a && i.destroy(!0),
                    l.canvas
                }
                ,
                t.prototype.pixels = function(e, n) {
                    var r, i, o = this.renderer, s = !1;
                    e && (e instanceof Ye ? i = e : (i = this.renderer.generateTexture(e),
                    s = !0)),
                    i ? (r = i.baseTexture.resolution,
                    n = null != n ? n : i.frame,
                    o.renderTexture.bind(i)) : (r = o.resolution,
                    n || ((n = Yr).width = o.width,
                    n.height = o.height),
                    o.renderTexture.bind(null));
                    var a = Math.round(n.width * r)
                      , u = Math.round(n.height * r)
                      , h = new Uint8Array(4 * a * u)
                      , l = o.gl;
                    return l.readPixels(Math.round(n.x * r), Math.round(n.y * r), a, u, l.RGBA, l.UNSIGNED_BYTE, h),
                    s && i.destroy(!0),
                    t.arrayPostDivide(h, h),
                    h
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t.arrayPostDivide = function(t, e) {
                    for (var n = 0; n < t.length; n += 4) {
                        var r = e[n + 3] = t[n + 3];
                        0 !== r ? (e[n] = Math.round(Math.min(255 * t[n] / r, 255)),
                        e[n + 1] = Math.round(Math.min(255 * t[n + 1] / r, 255)),
                        e[n + 2] = Math.round(Math.min(255 * t[n + 2] / r, 255))) : (e[n] = t[n],
                        e[n + 1] = t[n + 1],
                        e[n + 2] = t[n + 2])
                    }
                }
                ,
                t.extension = {
                    name: "extract",
                    type: de.RendererPlugin
                },
                t
            }()
              , qr = function() {
                function t(t, e, n) {
                    void 0 === e && (e = !1),
                    this._fn = t,
                    this._once = e,
                    this._thisArg = n,
                    this._next = this._prev = this._owner = null
                }
                return t.prototype.detach = function() {
                    return null !== this._owner && (this._owner.detach(this),
                    !0)
                }
                ,
                t
            }();
            function Kr(t, e) {
                return t._head ? (t._tail._next = e,
                e._prev = t._tail,
                t._tail = e) : (t._head = e,
                t._tail = e),
                e._owner = t,
                e
            }
            var Jr, Zr = function() {
                function t() {
                    this._head = this._tail = void 0
                }
                return t.prototype.handlers = function(t) {
                    void 0 === t && (t = !1);
                    var e = this._head;
                    if (t)
                        return !!e;
                    for (var n = []; e; )
                        n.push(e),
                        e = e._next;
                    return n
                }
                ,
                t.prototype.has = function(t) {
                    if (!(t instanceof qr))
                        throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");
                    return t._owner === this
                }
                ,
                t.prototype.dispatch = function() {
                    for (var t = arguments, e = [], n = 0; n < arguments.length; n++)
                        e[n] = t[n];
                    var r = this._head;
                    if (!r)
                        return !1;
                    for (; r; )
                        r._once && this.detach(r),
                        r._fn.apply(r._thisArg, e),
                        r = r._next;
                    return !0
                }
                ,
                t.prototype.add = function(t, e) {
                    if (void 0 === e && (e = null),
                    "function" != typeof t)
                        throw new Error("MiniSignal#add(): First arg must be a Function.");
                    return Kr(this, new qr(t,!1,e))
                }
                ,
                t.prototype.once = function(t, e) {
                    if (void 0 === e && (e = null),
                    "function" != typeof t)
                        throw new Error("MiniSignal#once(): First arg must be a Function.");
                    return Kr(this, new qr(t,!0,e))
                }
                ,
                t.prototype.detach = function(t) {
                    if (!(t instanceof qr))
                        throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");
                    return t._owner !== this || (t._prev && (t._prev._next = t._next),
                    t._next && (t._next._prev = t._prev),
                    t === this._head ? (this._head = t._next,
                    null === t._next && (this._tail = null)) : t === this._tail && (this._tail = t._prev,
                    this._tail._next = null),
                    t._owner = null),
                    this
                }
                ,
                t.prototype.detachAll = function() {
                    var t = this._head;
                    if (!t)
                        return this;
                    for (this._head = this._tail = null; t; )
                        t._owner = null,
                        t = t._next;
                    return this
                }
                ,
                t
            }();
            function Qr(t, e) {
                e = e || {};
                for (var n = {
                    key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"],
                    q: {
                        name: "queryKey",
                        parser: /(?:^|&)([^&=]*)=?([^&]*)/g
                    },
                    parser: {
                        strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
                        loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
                    }
                }, r = n.parser[e.strictMode ? "strict" : "loose"].exec(t), i = {}, o = 14; o--; )
                    i[n.key[o]] = r[o] || "";
                return i[n.q.name] = {},
                i[n.key[12]].replace(n.q.parser, (function(t, e, r) {
                    e && (i[n.q.name][e] = r)
                }
                )),
                i
            }
            var ti = null;
            function ei() {}
            function ni(t, e, n) {
                e && 0 === e.indexOf(".") && (e = e.substring(1)),
                e && (t[e] = n)
            }
            function ri(t) {
                return t.toString().replace("object ", "")
            }
            var ii = function() {
                function t(e, n, r) {
                    if (this._dequeue = ei,
                    this._onLoadBinding = null,
                    this._elementTimer = 0,
                    this._boundComplete = null,
                    this._boundOnError = null,
                    this._boundOnProgress = null,
                    this._boundOnTimeout = null,
                    this._boundXhrOnError = null,
                    this._boundXhrOnTimeout = null,
                    this._boundXhrOnAbort = null,
                    this._boundXhrOnLoad = null,
                    "string" != typeof e || "string" != typeof n)
                        throw new Error("Both name and url are required for constructing a resource.");
                    r = r || {},
                    this._flags = 0,
                    this._setFlag(t.STATUS_FLAGS.DATA_URL, 0 === n.indexOf("data:")),
                    this.name = e,
                    this.url = n,
                    this.extension = this._getExtension(),
                    this.data = null,
                    this.crossOrigin = !0 === r.crossOrigin ? "anonymous" : r.crossOrigin,
                    this.timeout = r.timeout || 0,
                    this.loadType = r.loadType || this._determineLoadType(),
                    this.xhrType = r.xhrType,
                    this.metadata = r.metadata || {},
                    this.error = null,
                    this.xhr = null,
                    this.children = [],
                    this.type = t.TYPE.UNKNOWN,
                    this.progressChunk = 0,
                    this._dequeue = ei,
                    this._onLoadBinding = null,
                    this._elementTimer = 0,
                    this._boundComplete = this.complete.bind(this),
                    this._boundOnError = this._onError.bind(this),
                    this._boundOnProgress = this._onProgress.bind(this),
                    this._boundOnTimeout = this._onTimeout.bind(this),
                    this._boundXhrOnError = this._xhrOnError.bind(this),
                    this._boundXhrOnTimeout = this._xhrOnTimeout.bind(this),
                    this._boundXhrOnAbort = this._xhrOnAbort.bind(this),
                    this._boundXhrOnLoad = this._xhrOnLoad.bind(this),
                    this.onStart = new Zr,
                    this.onProgress = new Zr,
                    this.onComplete = new Zr,
                    this.onAfterMiddleware = new Zr
                }
                return t.setExtensionLoadType = function(e, n) {
                    ni(t._loadTypeMap, e, n)
                }
                ,
                t.setExtensionXhrType = function(e, n) {
                    ni(t._xhrTypeMap, e, n)
                }
                ,
                Object.defineProperty(t.prototype, "isDataUrl", {
                    get: function() {
                        return this._hasFlag(t.STATUS_FLAGS.DATA_URL)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "isComplete", {
                    get: function() {
                        return this._hasFlag(t.STATUS_FLAGS.COMPLETE)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "isLoading", {
                    get: function() {
                        return this._hasFlag(t.STATUS_FLAGS.LOADING)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.complete = function() {
                    this._clearEvents(),
                    this._finish()
                }
                ,
                t.prototype.abort = function(e) {
                    if (!this.error) {
                        if (this.error = new Error(e),
                        this._clearEvents(),
                        this.xhr)
                            this.xhr.abort();
                        else if (this.xdr)
                            this.xdr.abort();
                        else if (this.data)
                            if (this.data.src)
                                this.data.src = t.EMPTY_GIF;
                            else
                                for (; this.data.firstChild; )
                                    this.data.removeChild(this.data.firstChild);
                        this._finish()
                    }
                }
                ,
                t.prototype.load = function(e) {
                    var n = this;
                    if (!this.isLoading)
                        if (this.isComplete)
                            e && setTimeout((function() {
                                return e(n)
                            }
                            ), 1);
                        else
                            switch (e && this.onComplete.once(e),
                            this._setFlag(t.STATUS_FLAGS.LOADING, !0),
                            this.onStart.dispatch(this),
                            !1 !== this.crossOrigin && "string" == typeof this.crossOrigin || (this.crossOrigin = this._determineCrossOrigin(this.url)),
                            this.loadType) {
                            case t.LOAD_TYPE.IMAGE:
                                this.type = t.TYPE.IMAGE,
                                this._loadElement("image");
                                break;
                            case t.LOAD_TYPE.AUDIO:
                                this.type = t.TYPE.AUDIO,
                                this._loadSourceElement("audio");
                                break;
                            case t.LOAD_TYPE.VIDEO:
                                this.type = t.TYPE.VIDEO,
                                this._loadSourceElement("video");
                                break;
                            case t.LOAD_TYPE.XHR:
                            default:
                                void 0 === Jr && (Jr = !(!globalThis.XDomainRequest || "withCredentials"in new XMLHttpRequest)),
                                Jr && this.crossOrigin ? this._loadXdr() : this._loadXhr()
                            }
                }
                ,
                t.prototype._hasFlag = function(t) {
                    return 0 != (this._flags & t)
                }
                ,
                t.prototype._setFlag = function(t, e) {
                    this._flags = e ? this._flags | t : this._flags & ~t
                }
                ,
                t.prototype._clearEvents = function() {
                    clearTimeout(this._elementTimer),
                    this.data && this.data.removeEventListener && (this.data.removeEventListener("error", this._boundOnError, !1),
                    this.data.removeEventListener("load", this._boundComplete, !1),
                    this.data.removeEventListener("progress", this._boundOnProgress, !1),
                    this.data.removeEventListener("canplaythrough", this._boundComplete, !1)),
                    this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener("error", this._boundXhrOnError, !1),
                    this.xhr.removeEventListener("timeout", this._boundXhrOnTimeout, !1),
                    this.xhr.removeEventListener("abort", this._boundXhrOnAbort, !1),
                    this.xhr.removeEventListener("progress", this._boundOnProgress, !1),
                    this.xhr.removeEventListener("load", this._boundXhrOnLoad, !1)) : (this.xhr.onerror = null,
                    this.xhr.ontimeout = null,
                    this.xhr.onprogress = null,
                    this.xhr.onload = null))
                }
                ,
                t.prototype._finish = function() {
                    if (this.isComplete)
                        throw new Error("Complete called again for an already completed resource.");
                    this._setFlag(t.STATUS_FLAGS.COMPLETE, !0),
                    this._setFlag(t.STATUS_FLAGS.LOADING, !1),
                    this.onComplete.dispatch(this)
                }
                ,
                t.prototype._loadElement = function(t) {
                    this.metadata.loadElement ? this.data = this.metadata.loadElement : "image" === t && void 0 !== globalThis.Image ? this.data = new Image : this.data = document.createElement(t),
                    this.crossOrigin && (this.data.crossOrigin = this.crossOrigin),
                    this.metadata.skipSource || (this.data.src = this.url),
                    this.data.addEventListener("error", this._boundOnError, !1),
                    this.data.addEventListener("load", this._boundComplete, !1),
                    this.data.addEventListener("progress", this._boundOnProgress, !1),
                    this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout))
                }
                ,
                t.prototype._loadSourceElement = function(t) {
                    if (this.metadata.loadElement ? this.data = this.metadata.loadElement : "audio" === t && void 0 !== globalThis.Audio ? this.data = new Audio : this.data = document.createElement(t),
                    null !== this.data) {
                        if (this.crossOrigin && (this.data.crossOrigin = this.crossOrigin),
                        !this.metadata.skipSource)
                            if (navigator.isCocoonJS)
                                this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;
                            else if (Array.isArray(this.url))
                                for (var e = this.metadata.mimeType, n = 0; n < this.url.length; ++n)
                                    this.data.appendChild(this._createSource(t, this.url[n], Array.isArray(e) ? e[n] : e));
                            else
                                e = this.metadata.mimeType,
                                this.data.appendChild(this._createSource(t, this.url, Array.isArray(e) ? e[0] : e));
                        this.data.addEventListener("error", this._boundOnError, !1),
                        this.data.addEventListener("load", this._boundComplete, !1),
                        this.data.addEventListener("progress", this._boundOnProgress, !1),
                        this.data.addEventListener("canplaythrough", this._boundComplete, !1),
                        this.data.load(),
                        this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout))
                    } else
                        this.abort("Unsupported element: " + t)
                }
                ,
                t.prototype._loadXhr = function() {
                    "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
                    var e = this.xhr = new XMLHttpRequest;
                    "use-credentials" === this.crossOrigin && (e.withCredentials = !0),
                    e.open("GET", this.url, !0),
                    e.timeout = this.timeout,
                    this.xhrType === t.XHR_RESPONSE_TYPE.JSON || this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT ? e.responseType = t.XHR_RESPONSE_TYPE.TEXT : e.responseType = this.xhrType,
                    e.addEventListener("error", this._boundXhrOnError, !1),
                    e.addEventListener("timeout", this._boundXhrOnTimeout, !1),
                    e.addEventListener("abort", this._boundXhrOnAbort, !1),
                    e.addEventListener("progress", this._boundOnProgress, !1),
                    e.addEventListener("load", this._boundXhrOnLoad, !1),
                    e.send()
                }
                ,
                t.prototype._loadXdr = function() {
                    "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
                    var t = this.xhr = new globalThis.XDomainRequest;
                    t.timeout = this.timeout || 5e3,
                    t.onerror = this._boundXhrOnError,
                    t.ontimeout = this._boundXhrOnTimeout,
                    t.onprogress = this._boundOnProgress,
                    t.onload = this._boundXhrOnLoad,
                    t.open("GET", this.url, !0),
                    setTimeout((function() {
                        return t.send()
                    }
                    ), 1)
                }
                ,
                t.prototype._createSource = function(t, e, n) {
                    n || (n = t + "/" + this._getExtension(e));
                    var r = document.createElement("source");
                    return r.src = e,
                    r.type = n,
                    r
                }
                ,
                t.prototype._onError = function(t) {
                    this.abort("Failed to load element using: " + t.target.nodeName)
                }
                ,
                t.prototype._onProgress = function(t) {
                    t && t.lengthComputable && this.onProgress.dispatch(this, t.loaded / t.total)
                }
                ,
                t.prototype._onTimeout = function() {
                    this.abort("Load timed out.")
                }
                ,
                t.prototype._xhrOnError = function() {
                    var t = this.xhr;
                    this.abort(ri(t) + " Request failed. Status: " + t.status + ', text: "' + t.statusText + '"')
                }
                ,
                t.prototype._xhrOnTimeout = function() {
                    var t = this.xhr;
                    this.abort(ri(t) + " Request timed out.")
                }
                ,
                t.prototype._xhrOnAbort = function() {
                    var t = this.xhr;
                    this.abort(ri(t) + " Request was aborted by the user.")
                }
                ,
                t.prototype._xhrOnLoad = function() {
                    var e = this.xhr
                      , n = ""
                      , r = void 0 === e.status ? 200 : e.status;
                    if ("" !== e.responseType && "text" !== e.responseType && void 0 !== e.responseType || (n = e.responseText),
                    0 === r && (n.length > 0 || e.responseType === t.XHR_RESPONSE_TYPE.BUFFER) ? r = 200 : 1223 === r && (r = 204),
                    2 == (r / 100 | 0)) {
                        if (this.xhrType === t.XHR_RESPONSE_TYPE.TEXT)
                            this.data = n,
                            this.type = t.TYPE.TEXT;
                        else if (this.xhrType === t.XHR_RESPONSE_TYPE.JSON)
                            try {
                                this.data = JSON.parse(n),
                                this.type = t.TYPE.JSON
                            } catch (t) {
                                return void this.abort("Error trying to parse loaded json: " + t)
                            }
                        else if (this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT)
                            try {
                                if (globalThis.DOMParser) {
                                    var i = new DOMParser;
                                    this.data = i.parseFromString(n, "text/xml")
                                } else {
                                    var o = document.createElement("div");
                                    o.innerHTML = n,
                                    this.data = o
                                }
                                this.type = t.TYPE.XML
                            } catch (t) {
                                return void this.abort("Error trying to parse loaded xml: " + t)
                            }
                        else
                            this.data = e.response || n;
                        this.complete()
                    } else
                        this.abort("[" + e.status + "] " + e.statusText + ": " + e.responseURL)
                }
                ,
                t.prototype._determineCrossOrigin = function(t, e) {
                    if (0 === t.indexOf("data:"))
                        return "";
                    if (globalThis.origin !== globalThis.location.origin)
                        return "anonymous";
                    e = e || globalThis.location,
                    ti || (ti = document.createElement("a")),
                    ti.href = t;
                    var n = Qr(ti.href, {
                        strictMode: !0
                    })
                      , r = !n.port && "" === e.port || n.port === e.port
                      , i = n.protocol ? n.protocol + ":" : "";
                    return n.host === e.hostname && r && i === e.protocol ? "" : "anonymous"
                }
                ,
                t.prototype._determineXhrType = function() {
                    return t._xhrTypeMap[this.extension] || t.XHR_RESPONSE_TYPE.TEXT
                }
                ,
                t.prototype._determineLoadType = function() {
                    return t._loadTypeMap[this.extension] || t.LOAD_TYPE.XHR
                }
                ,
                t.prototype._getExtension = function(t) {
                    void 0 === t && (t = this.url);
                    var e = "";
                    if (this.isDataUrl) {
                        var n = t.indexOf("/");
                        e = t.substring(n + 1, t.indexOf(";", n))
                    } else {
                        var r = t.indexOf("?")
                          , i = t.indexOf("#")
                          , o = Math.min(r > -1 ? r : t.length, i > -1 ? i : t.length);
                        e = (t = t.substring(0, o)).substring(t.lastIndexOf(".") + 1)
                    }
                    return e.toLowerCase()
                }
                ,
                t.prototype._getMimeFromXhrType = function(e) {
                    switch (e) {
                    case t.XHR_RESPONSE_TYPE.BUFFER:
                        return "application/octet-binary";
                    case t.XHR_RESPONSE_TYPE.BLOB:
                        return "application/blob";
                    case t.XHR_RESPONSE_TYPE.DOCUMENT:
                        return "application/xml";
                    case t.XHR_RESPONSE_TYPE.JSON:
                        return "application/json";
                    case t.XHR_RESPONSE_TYPE.DEFAULT:
                    case t.XHR_RESPONSE_TYPE.TEXT:
                    default:
                        return "text/plain"
                    }
                }
                ,
                t
            }();
            function oi() {}
            function si(t) {
                return function() {
                    for (var e = arguments, n = [], r = 0; r < arguments.length; r++)
                        n[r] = e[r];
                    if (null === t)
                        throw new Error("Callback was already called.");
                    var i = t;
                    t = null,
                    i.apply(this, n)
                }
            }
            !function(t) {
                var e, n, r, i;
                (e = t.STATUS_FLAGS || (t.STATUS_FLAGS = {}))[e.NONE = 0] = "NONE",
                e[e.DATA_URL = 1] = "DATA_URL",
                e[e.COMPLETE = 2] = "COMPLETE",
                e[e.LOADING = 4] = "LOADING",
                (n = t.TYPE || (t.TYPE = {}))[n.UNKNOWN = 0] = "UNKNOWN",
                n[n.JSON = 1] = "JSON",
                n[n.XML = 2] = "XML",
                n[n.IMAGE = 3] = "IMAGE",
                n[n.AUDIO = 4] = "AUDIO",
                n[n.VIDEO = 5] = "VIDEO",
                n[n.TEXT = 6] = "TEXT",
                (r = t.LOAD_TYPE || (t.LOAD_TYPE = {}))[r.XHR = 1] = "XHR",
                r[r.IMAGE = 2] = "IMAGE",
                r[r.AUDIO = 3] = "AUDIO",
                r[r.VIDEO = 4] = "VIDEO",
                (i = t.XHR_RESPONSE_TYPE || (t.XHR_RESPONSE_TYPE = {})).DEFAULT = "text",
                i.BUFFER = "arraybuffer",
                i.BLOB = "blob",
                i.DOCUMENT = "document",
                i.JSON = "json",
                i.TEXT = "text",
                t._loadTypeMap = {
                    gif: t.LOAD_TYPE.IMAGE,
                    png: t.LOAD_TYPE.IMAGE,
                    bmp: t.LOAD_TYPE.IMAGE,
                    jpg: t.LOAD_TYPE.IMAGE,
                    jpeg: t.LOAD_TYPE.IMAGE,
                    tif: t.LOAD_TYPE.IMAGE,
                    tiff: t.LOAD_TYPE.IMAGE,
                    webp: t.LOAD_TYPE.IMAGE,
                    tga: t.LOAD_TYPE.IMAGE,
                    avif: t.LOAD_TYPE.IMAGE,
                    svg: t.LOAD_TYPE.IMAGE,
                    "svg+xml": t.LOAD_TYPE.IMAGE,
                    mp3: t.LOAD_TYPE.AUDIO,
                    ogg: t.LOAD_TYPE.AUDIO,
                    wav: t.LOAD_TYPE.AUDIO,
                    mp4: t.LOAD_TYPE.VIDEO,
                    webm: t.LOAD_TYPE.VIDEO
                },
                t._xhrTypeMap = {
                    xhtml: t.XHR_RESPONSE_TYPE.DOCUMENT,
                    html: t.XHR_RESPONSE_TYPE.DOCUMENT,
                    htm: t.XHR_RESPONSE_TYPE.DOCUMENT,
                    xml: t.XHR_RESPONSE_TYPE.DOCUMENT,
                    tmx: t.XHR_RESPONSE_TYPE.DOCUMENT,
                    svg: t.XHR_RESPONSE_TYPE.DOCUMENT,
                    tsx: t.XHR_RESPONSE_TYPE.DOCUMENT,
                    gif: t.XHR_RESPONSE_TYPE.BLOB,
                    png: t.XHR_RESPONSE_TYPE.BLOB,
                    bmp: t.XHR_RESPONSE_TYPE.BLOB,
                    jpg: t.XHR_RESPONSE_TYPE.BLOB,
                    jpeg: t.XHR_RESPONSE_TYPE.BLOB,
                    tif: t.XHR_RESPONSE_TYPE.BLOB,
                    tiff: t.XHR_RESPONSE_TYPE.BLOB,
                    webp: t.XHR_RESPONSE_TYPE.BLOB,
                    tga: t.XHR_RESPONSE_TYPE.BLOB,
                    avif: t.XHR_RESPONSE_TYPE.BLOB,
                    json: t.XHR_RESPONSE_TYPE.JSON,
                    text: t.XHR_RESPONSE_TYPE.TEXT,
                    txt: t.XHR_RESPONSE_TYPE.TEXT,
                    ttf: t.XHR_RESPONSE_TYPE.BUFFER,
                    otf: t.XHR_RESPONSE_TYPE.BUFFER
                },
                t.EMPTY_GIF = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="
            }(ii || (ii = {}));
            var ai = function(t, e) {
                this.data = t,
                this.callback = e
            }
              , ui = function() {
                function t(t, e) {
                    var n = this;
                    if (void 0 === e && (e = 1),
                    this.workers = 0,
                    this.saturated = oi,
                    this.unsaturated = oi,
                    this.empty = oi,
                    this.drain = oi,
                    this.error = oi,
                    this.started = !1,
                    this.paused = !1,
                    this._tasks = [],
                    this._insert = function(t, e, r) {
                        if (r && "function" != typeof r)
                            throw new Error("task callback must be a function");
                        if (n.started = !0,
                        null == t && n.idle())
                            setTimeout((function() {
                                return n.drain()
                            }
                            ), 1);
                        else {
                            var i = new ai(t,"function" == typeof r ? r : oi);
                            e ? n._tasks.unshift(i) : n._tasks.push(i),
                            setTimeout(n.process, 1)
                        }
                    }
                    ,
                    this.process = function() {
                        for (; !n.paused && n.workers < n.concurrency && n._tasks.length; ) {
                            var t = n._tasks.shift();
                            0 === n._tasks.length && n.empty(),
                            n.workers += 1,
                            n.workers === n.concurrency && n.saturated(),
                            n._worker(t.data, si(n._next(t)))
                        }
                    }
                    ,
                    this._worker = t,
                    0 === e)
                        throw new Error("Concurrency must not be zero");
                    this.concurrency = e,
                    this.buffer = e / 4
                }
                return t.prototype._next = function(t) {
                    var e = this;
                    return function() {
                        for (var n = arguments, r = [], i = 0; i < arguments.length; i++)
                            r[i] = n[i];
                        e.workers -= 1,
                        t.callback.apply(t, r),
                        null != r[0] && e.error(r[0], t.data),
                        e.workers <= e.concurrency - e.buffer && e.unsaturated(),
                        e.idle() && e.drain(),
                        e.process()
                    }
                }
                ,
                t.prototype.push = function(t, e) {
                    this._insert(t, !1, e)
                }
                ,
                t.prototype.kill = function() {
                    this.workers = 0,
                    this.drain = oi,
                    this.started = !1,
                    this._tasks = []
                }
                ,
                t.prototype.unshift = function(t, e) {
                    this._insert(t, !0, e)
                }
                ,
                t.prototype.length = function() {
                    return this._tasks.length
                }
                ,
                t.prototype.running = function() {
                    return this.workers
                }
                ,
                t.prototype.idle = function() {
                    return this._tasks.length + this.workers === 0
                }
                ,
                t.prototype.pause = function() {
                    !0 !== this.paused && (this.paused = !0)
                }
                ,
                t.prototype.resume = function() {
                    if (!1 !== this.paused) {
                        this.paused = !1;
                        for (var t = 1; t <= this.concurrency; t++)
                            this.process()
                    }
                }
                ,
                t.eachSeries = function(t, e, n, r) {
                    var i = 0
                      , o = t.length;
                    !function s(a) {
                        a || i === o ? n && n(a) : r ? setTimeout((function() {
                            e(t[i++], s)
                        }
                        ), 1) : e(t[i++], s)
                    }()
                }
                ,
                t.queue = function(e, n) {
                    return new t(e,n)
                }
                ,
                t
            }()
              , hi = /(#[\w-]+)?$/
              , li = function() {
                function t(e, n) {
                    var r = this;
                    void 0 === e && (e = ""),
                    void 0 === n && (n = 10),
                    this.progress = 0,
                    this.loading = !1,
                    this.defaultQueryString = "",
                    this._beforeMiddleware = [],
                    this._afterMiddleware = [],
                    this._resourcesParsing = [],
                    this._boundLoadResource = function(t, e) {
                        return r._loadResource(t, e)
                    }
                    ,
                    this.resources = {},
                    this.baseUrl = e,
                    this._beforeMiddleware = [],
                    this._afterMiddleware = [],
                    this._resourcesParsing = [],
                    this._boundLoadResource = function(t, e) {
                        return r._loadResource(t, e)
                    }
                    ,
                    this._queue = ui.queue(this._boundLoadResource, n),
                    this._queue.pause(),
                    this.resources = {},
                    this.onProgress = new Zr,
                    this.onError = new Zr,
                    this.onLoad = new Zr,
                    this.onStart = new Zr,
                    this.onComplete = new Zr;
                    for (var i = 0; i < t._plugins.length; ++i) {
                        var o = t._plugins[i]
                          , s = o.pre
                          , a = o.use;
                        s && this.pre(s),
                        a && this.use(a)
                    }
                    this._protected = !1
                }
                return t.prototype._add = function(t, e, n, r) {
                    if (this.loading && (!n || !n.parentResource))
                        throw new Error("Cannot add resources while the loader is running.");
                    if (this.resources[t])
                        throw new Error('Resource named "' + t + '" already exists.');
                    if (e = this._prepareUrl(e),
                    this.resources[t] = new ii(t,e,n),
                    "function" == typeof r && this.resources[t].onAfterMiddleware.once(r),
                    this.loading) {
                        for (var i = n.parentResource, o = [], s = 0; s < i.children.length; ++s)
                            i.children[s].isComplete || o.push(i.children[s]);
                        var a = i.progressChunk * (o.length + 1) / (o.length + 2);
                        for (i.children.push(this.resources[t]),
                        i.progressChunk = a,
                        s = 0; s < o.length; ++s)
                            o[s].progressChunk = a;
                        this.resources[t].progressChunk = a
                    }
                    return this._queue.push(this.resources[t]),
                    this
                }
                ,
                t.prototype.pre = function(t) {
                    return this._beforeMiddleware.push(t),
                    this
                }
                ,
                t.prototype.use = function(t) {
                    return this._afterMiddleware.push(t),
                    this
                }
                ,
                t.prototype.reset = function() {
                    for (var t in this.progress = 0,
                    this.loading = !1,
                    this._queue.kill(),
                    this._queue.pause(),
                    this.resources) {
                        var e = this.resources[t];
                        e._onLoadBinding && e._onLoadBinding.detach(),
                        e.isLoading && e.abort("loader reset")
                    }
                    return this.resources = {},
                    this
                }
                ,
                t.prototype.load = function(t) {
                    if (Ct("6.5.0", "@pixi/loaders is being replaced with @pixi/assets in the next major release."),
                    "function" == typeof t && this.onComplete.once(t),
                    this.loading)
                        return this;
                    if (this._queue.idle())
                        this._onStart(),
                        this._onComplete();
                    else {
                        for (var e = 100 / this._queue._tasks.length, n = 0; n < this._queue._tasks.length; ++n)
                            this._queue._tasks[n].data.progressChunk = e;
                        this._onStart(),
                        this._queue.resume()
                    }
                    return this
                }
                ,
                Object.defineProperty(t.prototype, "concurrency", {
                    get: function() {
                        return this._queue.concurrency
                    },
                    set: function(t) {
                        this._queue.concurrency = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype._prepareUrl = function(t) {
                    var e, n = Qr(t, {
                        strictMode: !0
                    });
                    if (e = n.protocol || !n.path || 0 === t.indexOf("//") ? t : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 && "/" !== t.charAt(0) ? this.baseUrl + "/" + t : this.baseUrl + t,
                    this.defaultQueryString) {
                        var r = hi.exec(e)[0];
                        -1 !== (e = e.slice(0, e.length - r.length)).indexOf("?") ? e += "&" + this.defaultQueryString : e += "?" + this.defaultQueryString,
                        e += r
                    }
                    return e
                }
                ,
                t.prototype._loadResource = function(t, e) {
                    var n = this;
                    t._dequeue = e,
                    ui.eachSeries(this._beforeMiddleware, (function(e, r) {
                        e.call(n, t, (function() {
                            r(t.isComplete ? {} : null)
                        }
                        ))
                    }
                    ), (function() {
                        t.isComplete ? n._onLoad(t) : (t._onLoadBinding = t.onComplete.once(n._onLoad, n),
                        t.load())
                    }
                    ), !0)
                }
                ,
                t.prototype._onStart = function() {
                    this.progress = 0,
                    this.loading = !0,
                    this.onStart.dispatch(this)
                }
                ,
                t.prototype._onComplete = function() {
                    this.progress = 100,
                    this.loading = !1,
                    this.onComplete.dispatch(this, this.resources)
                }
                ,
                t.prototype._onLoad = function(t) {
                    var e = this;
                    t._onLoadBinding = null,
                    this._resourcesParsing.push(t),
                    t._dequeue(),
                    ui.eachSeries(this._afterMiddleware, (function(n, r) {
                        n.call(e, t, r)
                    }
                    ), (function() {
                        t.onAfterMiddleware.dispatch(t),
                        e.progress = Math.min(100, e.progress + t.progressChunk),
                        e.onProgress.dispatch(e, t),
                        t.error ? e.onError.dispatch(t.error, e, t) : e.onLoad.dispatch(e, t),
                        e._resourcesParsing.splice(e._resourcesParsing.indexOf(t), 1),
                        e._queue.idle() && 0 === e._resourcesParsing.length && e._onComplete()
                    }
                    ), !0)
                }
                ,
                t.prototype.destroy = function() {
                    this._protected || this.reset()
                }
                ,
                Object.defineProperty(t, "shared", {
                    get: function() {
                        var e = t._shared;
                        return e || ((e = new t)._protected = !0,
                        t._shared = e),
                        e
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.registerPlugin = function(e) {
                    return Ct("6.5.0", "Loader.registerPlugin() is deprecated, use extensions.add() instead."),
                    _e.add({
                        type: de.Loader,
                        ref: e
                    }),
                    t
                }
                ,
                t._plugins = [],
                t
            }();
            _e.handleByList(de.Loader, li._plugins),
            li.prototype.add = function(t, e, n, r) {
                if (Array.isArray(t)) {
                    for (var i = 0; i < t.length; ++i)
                        this.add(t[i]);
                    return this
                }
                if ("object" == typeof t && (n = t,
                r = e || n.callback || n.onComplete,
                e = n.url,
                t = n.name || n.key || n.url),
                "string" != typeof e && (r = n,
                n = e,
                e = t),
                "string" != typeof e)
                    throw new Error("No url passed to add resource to loader.");
                return "function" == typeof n && (r = n,
                n = null),
                this._add(t, e, n, r)
            }
            ;
            var ci = function() {
                function t() {}
                return t.init = function(t) {
                    t = Object.assign({
                        sharedLoader: !1
                    }, t),
                    this.loader = t.sharedLoader ? li.shared : new li
                }
                ,
                t.destroy = function() {
                    this.loader && (this.loader.destroy(),
                    this.loader = null)
                }
                ,
                t.extension = de.Application,
                t
            }()
              , di = function() {
                function t() {}
                return t.add = function() {
                    ii.setExtensionLoadType("svg", ii.LOAD_TYPE.XHR),
                    ii.setExtensionXhrType("svg", ii.XHR_RESPONSE_TYPE.TEXT)
                }
                ,
                t.use = function(t, e) {
                    if (!t.data || t.type !== ii.TYPE.IMAGE && "svg" !== t.extension)
                        e();
                    else {
                        var n = t.data
                          , r = t.url
                          , i = t.name
                          , o = t.metadata;
                        Ve.fromLoader(n, r, i, o).then((function(n) {
                            t.texture = n,
                            e()
                        }
                        )).catch(e)
                    }
                }
                ,
                t.extension = de.Loader,
                t
            }();
            function pi(t, e) {
                if (t.data) {
                    if (t.xhr && t.xhrType === ii.XHR_RESPONSE_TYPE.BLOB)
                        if (self.Blob && "string" != typeof t.data) {
                            if (0 === t.data.type.indexOf("image")) {
                                var n = globalThis.URL || globalThis.webkitURL
                                  , r = n.createObjectURL(t.data);
                                return t.blob = t.data,
                                t.data = new Image,
                                t.data.src = r,
                                t.type = ii.TYPE.IMAGE,
                                void (t.data.onload = function() {
                                    n.revokeObjectURL(r),
                                    t.data.onload = null,
                                    e()
                                }
                                )
                            }
                        } else {
                            var i = t.xhr.getResponseHeader("content-type");
                            if (i && 0 === i.indexOf("image"))
                                return t.data = new Image,
                                t.data.src = "data:" + i + ";base64," + function(t) {
                                    for (var e = "", n = 0; n < t.length; ) {
                                        for (var r = [0, 0, 0], i = [0, 0, 0, 0], o = 0; o < r.length; ++o)
                                            n < t.length ? r[o] = 255 & t.charCodeAt(n++) : r[o] = 0;
                                        switch (i[0] = r[0] >> 2,
                                        i[1] = (3 & r[0]) << 4 | r[1] >> 4,
                                        i[2] = (15 & r[1]) << 2 | r[2] >> 6,
                                        i[3] = 63 & r[2],
                                        n - (t.length - 1)) {
                                        case 2:
                                            i[3] = 64,
                                            i[2] = 64;
                                            break;
                                        case 1:
                                            i[3] = 64
                                        }
                                        for (o = 0; o < i.length; ++o)
                                            e += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[o])
                                    }
                                    return e
                                }(t.xhr.responseText),
                                t.type = ii.TYPE.IMAGE,
                                void (t.data.onload = function() {
                                    t.data.onload = null,
                                    e()
                                }
                                )
                        }
                    e()
                } else
                    e()
            }
            var fi, mi, _i = function() {
                function t() {}
                return t.extension = de.Loader,
                t.use = pi,
                t
            }();
            _e.add(di, _i),
            function(t) {
                t[t.COMPRESSED_RGB_S3TC_DXT1_EXT = 33776] = "COMPRESSED_RGB_S3TC_DXT1_EXT",
                t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT = 33777] = "COMPRESSED_RGBA_S3TC_DXT1_EXT",
                t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT = 33778] = "COMPRESSED_RGBA_S3TC_DXT3_EXT",
                t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT = 33779] = "COMPRESSED_RGBA_S3TC_DXT5_EXT",
                t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT = 35917] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",
                t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT = 35918] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",
                t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT = 35919] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",
                t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT = 35916] = "COMPRESSED_SRGB_S3TC_DXT1_EXT",
                t[t.COMPRESSED_R11_EAC = 37488] = "COMPRESSED_R11_EAC",
                t[t.COMPRESSED_SIGNED_R11_EAC = 37489] = "COMPRESSED_SIGNED_R11_EAC",
                t[t.COMPRESSED_RG11_EAC = 37490] = "COMPRESSED_RG11_EAC",
                t[t.COMPRESSED_SIGNED_RG11_EAC = 37491] = "COMPRESSED_SIGNED_RG11_EAC",
                t[t.COMPRESSED_RGB8_ETC2 = 37492] = "COMPRESSED_RGB8_ETC2",
                t[t.COMPRESSED_RGBA8_ETC2_EAC = 37496] = "COMPRESSED_RGBA8_ETC2_EAC",
                t[t.COMPRESSED_SRGB8_ETC2 = 37493] = "COMPRESSED_SRGB8_ETC2",
                t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC = 37497] = "COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",
                t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37494] = "COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",
                t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37495] = "COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",
                t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG = 35840] = "COMPRESSED_RGB_PVRTC_4BPPV1_IMG",
                t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG = 35842] = "COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",
                t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG = 35841] = "COMPRESSED_RGB_PVRTC_2BPPV1_IMG",
                t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG = 35843] = "COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",
                t[t.COMPRESSED_RGB_ETC1_WEBGL = 36196] = "COMPRESSED_RGB_ETC1_WEBGL",
                t[t.COMPRESSED_RGB_ATC_WEBGL = 35986] = "COMPRESSED_RGB_ATC_WEBGL",
                t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL = 35986] = "COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",
                t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL = 34798] = "COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",
                t[t.COMPRESSED_RGBA_ASTC_4x4_KHR = 37808] = "COMPRESSED_RGBA_ASTC_4x4_KHR"
            }(mi || (mi = {}));
            var vi = ((fi = {})[mi.COMPRESSED_RGB_S3TC_DXT1_EXT] = .5,
            fi[mi.COMPRESSED_RGBA_S3TC_DXT1_EXT] = .5,
            fi[mi.COMPRESSED_RGBA_S3TC_DXT3_EXT] = 1,
            fi[mi.COMPRESSED_RGBA_S3TC_DXT5_EXT] = 1,
            fi[mi.COMPRESSED_SRGB_S3TC_DXT1_EXT] = .5,
            fi[mi.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT] = .5,
            fi[mi.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT] = 1,
            fi[mi.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT] = 1,
            fi[mi.COMPRESSED_R11_EAC] = .5,
            fi[mi.COMPRESSED_SIGNED_R11_EAC] = .5,
            fi[mi.COMPRESSED_RG11_EAC] = 1,
            fi[mi.COMPRESSED_SIGNED_RG11_EAC] = 1,
            fi[mi.COMPRESSED_RGB8_ETC2] = .5,
            fi[mi.COMPRESSED_RGBA8_ETC2_EAC] = 1,
            fi[mi.COMPRESSED_SRGB8_ETC2] = .5,
            fi[mi.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC] = 1,
            fi[mi.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2] = .5,
            fi[mi.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2] = .5,
            fi[mi.COMPRESSED_RGB_PVRTC_4BPPV1_IMG] = .5,
            fi[mi.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG] = .5,
            fi[mi.COMPRESSED_RGB_PVRTC_2BPPV1_IMG] = .25,
            fi[mi.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG] = .25,
            fi[mi.COMPRESSED_RGB_ETC1_WEBGL] = .5,
            fi[mi.COMPRESSED_RGB_ATC_WEBGL] = .5,
            fi[mi.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL] = 1,
            fi[mi.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL] = 1,
            fi[mi.COMPRESSED_RGBA_ASTC_4x4_KHR] = 1,
            fi)
              , gi = function(t, e) {
                return (gi = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            function yi(t, e) {
                function n() {
                    this.constructor = t
                }
                gi(t, e),
                t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                new n)
            }
            var bi, xi, Ti = function(t) {
                function e(n, r) {
                    var i = t.call(this, n, r) || this;
                    return i.format = r.format,
                    i.levels = r.levels || 1,
                    i._width = r.width,
                    i._height = r.height,
                    i._extension = e._formatToExtension(i.format),
                    (r.levelBuffers || i.buffer) && (i._levelBuffers = r.levelBuffers || e._createLevelBuffers(n instanceof Uint8Array ? n : i.buffer.uint8View, i.format, i.levels, 4, 4, i.width, i.height)),
                    i
                }
                return yi(e, t),
                e.prototype.upload = function(t, e, n) {
                    var r = t.gl;
                    if (!t.context.extensions[this._extension])
                        throw new Error(this._extension + " textures are not supported on the current machine");
                    if (!this._levelBuffers)
                        return !1;
                    for (var i = 0, o = this.levels; i < o; i++) {
                        var s = this._levelBuffers[i]
                          , a = s.levelID
                          , u = s.levelWidth
                          , h = s.levelHeight
                          , l = s.levelBuffer;
                        r.compressedTexImage2D(r.TEXTURE_2D, a, this.format, u, h, 0, l)
                    }
                    return !0
                }
                ,
                e.prototype.onBlobLoaded = function() {
                    this._levelBuffers = e._createLevelBuffers(this.buffer.uint8View, this.format, this.levels, 4, 4, this.width, this.height)
                }
                ,
                e._formatToExtension = function(t) {
                    if (t >= 33776 && t <= 33779)
                        return "s3tc";
                    if (t >= 37488 && t <= 37497)
                        return "etc";
                    if (t >= 35840 && t <= 35843)
                        return "pvrtc";
                    if (t >= 36196)
                        return "etc1";
                    if (t >= 35986 && t <= 34798)
                        return "atc";
                    throw new Error("Invalid (compressed) texture format given!")
                }
                ,
                e._createLevelBuffers = function(t, e, n, r, i, o, s) {
                    for (var a = new Array(n), u = t.byteOffset, h = o, l = s, c = h + r - 1 & ~(r - 1), d = l + i - 1 & ~(i - 1), p = c * d * vi[e], f = 0; f < n; f++)
                        a[f] = {
                            levelID: f,
                            levelWidth: n > 1 ? h : c,
                            levelHeight: n > 1 ? l : d,
                            levelBuffer: new Uint8Array(t.buffer,u,p)
                        },
                        u += p,
                        p = (c = (h = h >> 1 || 1) + r - 1 & ~(r - 1)) * (d = (l = l >> 1 || 1) + i - 1 & ~(i - 1)) * vi[e];
                    return a
                }
                ,
                e
            }(function(t) {
                function e(e, n) {
                    void 0 === n && (n = {
                        width: 1,
                        height: 1,
                        autoLoad: !0
                    });
                    var r, i, o = this;
                    return "string" == typeof e ? (r = e,
                    i = new Uint8Array) : (r = null,
                    i = e),
                    (o = t.call(this, i, n) || this).origin = r,
                    o.buffer = i ? new wr(i) : null,
                    o.origin && !1 !== n.autoLoad && o.load(),
                    i && i.length && (o.loaded = !0,
                    o.onBlobLoaded(o.buffer.rawBinaryData)),
                    o
                }
                return yi(e, t),
                e.prototype.onBlobLoaded = function(t) {}
                ,
                e.prototype.load = function() {
                    return t = this,
                    e = void 0,
                    r = function() {
                        var t;
                        return function(t, e) {
                            var n, r, i, o, s = {
                                label: 0,
                                sent: function() {
                                    if (1 & i[0])
                                        throw i[1];
                                    return i[1]
                                },
                                trys: [],
                                ops: []
                            };
                            return o = {
                                next: a(0),
                                throw: a(1),
                                return: a(2)
                            },
                            "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                                return this
                            }
                            ),
                            o;
                            function a(o) {
                                return function(a) {
                                    return function(o) {
                                        if (n)
                                            throw new TypeError("Generator is already executing.");
                                        for (; s; )
                                            try {
                                                if (n = 1,
                                                r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r),
                                                0) : r.next) && !(i = i.call(r, o[1])).done)
                                                    return i;
                                                switch (r = 0,
                                                i && (o = [2 & o[0], i.value]),
                                                o[0]) {
                                                case 0:
                                                case 1:
                                                    i = o;
                                                    break;
                                                case 4:
                                                    return s.label++,
                                                    {
                                                        value: o[1],
                                                        done: !1
                                                    };
                                                case 5:
                                                    s.label++,
                                                    r = o[1],
                                                    o = [0];
                                                    continue;
                                                case 7:
                                                    o = s.ops.pop(),
                                                    s.trys.pop();
                                                    continue;
                                                default:
                                                    if (!((i = (i = s.trys).length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                                        s = 0;
                                                        continue
                                                    }
                                                    if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                                        s.label = o[1];
                                                        break
                                                    }
                                                    if (6 === o[0] && s.label < i[1]) {
                                                        s.label = i[1],
                                                        i = o;
                                                        break
                                                    }
                                                    if (i && s.label < i[2]) {
                                                        s.label = i[2],
                                                        s.ops.push(o);
                                                        break
                                                    }
                                                    i[2] && s.ops.pop(),
                                                    s.trys.pop();
                                                    continue
                                                }
                                                o = e.call(t, s)
                                            } catch (t) {
                                                o = [6, t],
                                                r = 0
                                            } finally {
                                                n = i = 0
                                            }
                                        if (5 & o[0])
                                            throw o[1];
                                        return {
                                            value: o[0] ? o[1] : void 0,
                                            done: !0
                                        }
                                    }([o, a])
                                }
                            }
                        }(this, (function(e) {
                            switch (e.label) {
                            case 0:
                                return [4, fetch(this.origin)];
                            case 1:
                                return [4, e.sent().blob()];
                            case 2:
                                return [4, e.sent().arrayBuffer()];
                            case 3:
                                return t = e.sent(),
                                this.data = new Uint32Array(t),
                                this.buffer = new wr(t),
                                this.loaded = !0,
                                this.onBlobLoaded(t),
                                this.update(),
                                [2, this]
                            }
                        }
                        ))
                    }
                    ,
                    new ((n = Promise) || (n = Promise))((function(i, o) {
                        function s(t) {
                            try {
                                u(r.next(t))
                            } catch (t) {
                                o(t)
                            }
                        }
                        function a(t) {
                            try {
                                u(r.throw(t))
                            } catch (t) {
                                o(t)
                            }
                        }
                        function u(t) {
                            var e;
                            t.done ? i(t.value) : (e = t.value,
                            e instanceof n ? e : new n((function(t) {
                                t(e)
                            }
                            ))).then(s, a)
                        }
                        u((r = r.apply(t, e || [])).next())
                    }
                    ));
                    var t, e, n, r
                }
                ,
                e
            }(Re)), Ei = function() {
                function t() {}
                return t.use = function(e, n) {
                    var r = e.data;
                    if (e.type === ii.TYPE.JSON && r && r.cacheID && r.textures) {
                        for (var i = r.textures, o = void 0, s = void 0, a = 0, u = i.length; a < u; a++) {
                            var h = i[a]
                              , l = h.src
                              , c = h.format;
                            if (c || (s = l),
                            t.textureFormats[c]) {
                                o = l;
                                break
                            }
                        }
                        if (!(o = o || s))
                            return void n(new Error("Cannot load compressed-textures in " + e.url + ", make sure you provide a fallback"));
                        if (o === e.url)
                            return void n(new Error("URL of compressed texture cannot be the same as the manifest's URL"));
                        var d = {
                            crossOrigin: e.crossOrigin,
                            metadata: e.metadata.imageMetadata,
                            parentResource: e
                        }
                          , p = lt.resolve(e.url.replace(this.baseUrl, ""), o)
                          , f = r.cacheID;
                        this.add(f, p, d, (function(t) {
                            if (t.error)
                                n(t.error);
                            else {
                                var r = t.texture
                                  , i = void 0 === r ? null : r
                                  , o = t.textures
                                  , s = void 0 === o ? {} : o;
                                Object.assign(e, {
                                    texture: i,
                                    textures: s
                                }),
                                n()
                            }
                        }
                        ))
                    } else
                        n()
                }
                ,
                Object.defineProperty(t, "textureExtensions", {
                    get: function() {
                        if (!t._textureExtensions) {
                            var e = st.ADAPTER.createCanvas().getContext("webgl");
                            if (!e)
                                return console.warn("WebGL not available for compressed textures. Silently failing."),
                                {};
                            var n = {
                                s3tc: e.getExtension("WEBGL_compressed_texture_s3tc"),
                                s3tc_sRGB: e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
                                etc: e.getExtension("WEBGL_compressed_texture_etc"),
                                etc1: e.getExtension("WEBGL_compressed_texture_etc1"),
                                pvrtc: e.getExtension("WEBGL_compressed_texture_pvrtc") || e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
                                atc: e.getExtension("WEBGL_compressed_texture_atc"),
                                astc: e.getExtension("WEBGL_compressed_texture_astc")
                            };
                            t._textureExtensions = n
                        }
                        return t._textureExtensions
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t, "textureFormats", {
                    get: function() {
                        if (!t._textureFormats) {
                            var e = t.textureExtensions;
                            for (var n in t._textureFormats = {},
                            e) {
                                var r = e[n];
                                r && Object.assign(t._textureFormats, Object.getPrototypeOf(r))
                            }
                        }
                        return t._textureFormats
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.extension = de.Loader,
                t
            }();
            function Ai(t, e, n) {
                var r = {
                    textures: {},
                    texture: null
                };
                return e ? (e.map((function(t) {
                    return new Ve(new Ie(t,Object.assign({
                        mipmap: O.OFF,
                        alphaMode: I.NO_PREMULTIPLIED_ALPHA
                    }, n)))
                }
                )).forEach((function(e, n) {
                    var i = e.baseTexture
                      , o = t + "-" + (n + 1);
                    Ie.addToCache(i, o),
                    Ve.addToCache(e, o),
                    0 === n && (Ie.addToCache(i, t),
                    Ve.addToCache(e, t),
                    r.texture = e),
                    r.textures[o] = e
                }
                )),
                r) : r
            }
            var Si, wi;
            !function(t) {
                t[t.DXGI_FORMAT_UNKNOWN = 0] = "DXGI_FORMAT_UNKNOWN",
                t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS = 1] = "DXGI_FORMAT_R32G32B32A32_TYPELESS",
                t[t.DXGI_FORMAT_R32G32B32A32_FLOAT = 2] = "DXGI_FORMAT_R32G32B32A32_FLOAT",
                t[t.DXGI_FORMAT_R32G32B32A32_UINT = 3] = "DXGI_FORMAT_R32G32B32A32_UINT",
                t[t.DXGI_FORMAT_R32G32B32A32_SINT = 4] = "DXGI_FORMAT_R32G32B32A32_SINT",
                t[t.DXGI_FORMAT_R32G32B32_TYPELESS = 5] = "DXGI_FORMAT_R32G32B32_TYPELESS",
                t[t.DXGI_FORMAT_R32G32B32_FLOAT = 6] = "DXGI_FORMAT_R32G32B32_FLOAT",
                t[t.DXGI_FORMAT_R32G32B32_UINT = 7] = "DXGI_FORMAT_R32G32B32_UINT",
                t[t.DXGI_FORMAT_R32G32B32_SINT = 8] = "DXGI_FORMAT_R32G32B32_SINT",
                t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS = 9] = "DXGI_FORMAT_R16G16B16A16_TYPELESS",
                t[t.DXGI_FORMAT_R16G16B16A16_FLOAT = 10] = "DXGI_FORMAT_R16G16B16A16_FLOAT",
                t[t.DXGI_FORMAT_R16G16B16A16_UNORM = 11] = "DXGI_FORMAT_R16G16B16A16_UNORM",
                t[t.DXGI_FORMAT_R16G16B16A16_UINT = 12] = "DXGI_FORMAT_R16G16B16A16_UINT",
                t[t.DXGI_FORMAT_R16G16B16A16_SNORM = 13] = "DXGI_FORMAT_R16G16B16A16_SNORM",
                t[t.DXGI_FORMAT_R16G16B16A16_SINT = 14] = "DXGI_FORMAT_R16G16B16A16_SINT",
                t[t.DXGI_FORMAT_R32G32_TYPELESS = 15] = "DXGI_FORMAT_R32G32_TYPELESS",
                t[t.DXGI_FORMAT_R32G32_FLOAT = 16] = "DXGI_FORMAT_R32G32_FLOAT",
                t[t.DXGI_FORMAT_R32G32_UINT = 17] = "DXGI_FORMAT_R32G32_UINT",
                t[t.DXGI_FORMAT_R32G32_SINT = 18] = "DXGI_FORMAT_R32G32_SINT",
                t[t.DXGI_FORMAT_R32G8X24_TYPELESS = 19] = "DXGI_FORMAT_R32G8X24_TYPELESS",
                t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT = 20] = "DXGI_FORMAT_D32_FLOAT_S8X24_UINT",
                t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS = 21] = "DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",
                t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT = 22] = "DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",
                t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS = 23] = "DXGI_FORMAT_R10G10B10A2_TYPELESS",
                t[t.DXGI_FORMAT_R10G10B10A2_UNORM = 24] = "DXGI_FORMAT_R10G10B10A2_UNORM",
                t[t.DXGI_FORMAT_R10G10B10A2_UINT = 25] = "DXGI_FORMAT_R10G10B10A2_UINT",
                t[t.DXGI_FORMAT_R11G11B10_FLOAT = 26] = "DXGI_FORMAT_R11G11B10_FLOAT",
                t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS = 27] = "DXGI_FORMAT_R8G8B8A8_TYPELESS",
                t[t.DXGI_FORMAT_R8G8B8A8_UNORM = 28] = "DXGI_FORMAT_R8G8B8A8_UNORM",
                t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB = 29] = "DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",
                t[t.DXGI_FORMAT_R8G8B8A8_UINT = 30] = "DXGI_FORMAT_R8G8B8A8_UINT",
                t[t.DXGI_FORMAT_R8G8B8A8_SNORM = 31] = "DXGI_FORMAT_R8G8B8A8_SNORM",
                t[t.DXGI_FORMAT_R8G8B8A8_SINT = 32] = "DXGI_FORMAT_R8G8B8A8_SINT",
                t[t.DXGI_FORMAT_R16G16_TYPELESS = 33] = "DXGI_FORMAT_R16G16_TYPELESS",
                t[t.DXGI_FORMAT_R16G16_FLOAT = 34] = "DXGI_FORMAT_R16G16_FLOAT",
                t[t.DXGI_FORMAT_R16G16_UNORM = 35] = "DXGI_FORMAT_R16G16_UNORM",
                t[t.DXGI_FORMAT_R16G16_UINT = 36] = "DXGI_FORMAT_R16G16_UINT",
                t[t.DXGI_FORMAT_R16G16_SNORM = 37] = "DXGI_FORMAT_R16G16_SNORM",
                t[t.DXGI_FORMAT_R16G16_SINT = 38] = "DXGI_FORMAT_R16G16_SINT",
                t[t.DXGI_FORMAT_R32_TYPELESS = 39] = "DXGI_FORMAT_R32_TYPELESS",
                t[t.DXGI_FORMAT_D32_FLOAT = 40] = "DXGI_FORMAT_D32_FLOAT",
                t[t.DXGI_FORMAT_R32_FLOAT = 41] = "DXGI_FORMAT_R32_FLOAT",
                t[t.DXGI_FORMAT_R32_UINT = 42] = "DXGI_FORMAT_R32_UINT",
                t[t.DXGI_FORMAT_R32_SINT = 43] = "DXGI_FORMAT_R32_SINT",
                t[t.DXGI_FORMAT_R24G8_TYPELESS = 44] = "DXGI_FORMAT_R24G8_TYPELESS",
                t[t.DXGI_FORMAT_D24_UNORM_S8_UINT = 45] = "DXGI_FORMAT_D24_UNORM_S8_UINT",
                t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS = 46] = "DXGI_FORMAT_R24_UNORM_X8_TYPELESS",
                t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT = 47] = "DXGI_FORMAT_X24_TYPELESS_G8_UINT",
                t[t.DXGI_FORMAT_R8G8_TYPELESS = 48] = "DXGI_FORMAT_R8G8_TYPELESS",
                t[t.DXGI_FORMAT_R8G8_UNORM = 49] = "DXGI_FORMAT_R8G8_UNORM",
                t[t.DXGI_FORMAT_R8G8_UINT = 50] = "DXGI_FORMAT_R8G8_UINT",
                t[t.DXGI_FORMAT_R8G8_SNORM = 51] = "DXGI_FORMAT_R8G8_SNORM",
                t[t.DXGI_FORMAT_R8G8_SINT = 52] = "DXGI_FORMAT_R8G8_SINT",
                t[t.DXGI_FORMAT_R16_TYPELESS = 53] = "DXGI_FORMAT_R16_TYPELESS",
                t[t.DXGI_FORMAT_R16_FLOAT = 54] = "DXGI_FORMAT_R16_FLOAT",
                t[t.DXGI_FORMAT_D16_UNORM = 55] = "DXGI_FORMAT_D16_UNORM",
                t[t.DXGI_FORMAT_R16_UNORM = 56] = "DXGI_FORMAT_R16_UNORM",
                t[t.DXGI_FORMAT_R16_UINT = 57] = "DXGI_FORMAT_R16_UINT",
                t[t.DXGI_FORMAT_R16_SNORM = 58] = "DXGI_FORMAT_R16_SNORM",
                t[t.DXGI_FORMAT_R16_SINT = 59] = "DXGI_FORMAT_R16_SINT",
                t[t.DXGI_FORMAT_R8_TYPELESS = 60] = "DXGI_FORMAT_R8_TYPELESS",
                t[t.DXGI_FORMAT_R8_UNORM = 61] = "DXGI_FORMAT_R8_UNORM",
                t[t.DXGI_FORMAT_R8_UINT = 62] = "DXGI_FORMAT_R8_UINT",
                t[t.DXGI_FORMAT_R8_SNORM = 63] = "DXGI_FORMAT_R8_SNORM",
                t[t.DXGI_FORMAT_R8_SINT = 64] = "DXGI_FORMAT_R8_SINT",
                t[t.DXGI_FORMAT_A8_UNORM = 65] = "DXGI_FORMAT_A8_UNORM",
                t[t.DXGI_FORMAT_R1_UNORM = 66] = "DXGI_FORMAT_R1_UNORM",
                t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP = 67] = "DXGI_FORMAT_R9G9B9E5_SHAREDEXP",
                t[t.DXGI_FORMAT_R8G8_B8G8_UNORM = 68] = "DXGI_FORMAT_R8G8_B8G8_UNORM",
                t[t.DXGI_FORMAT_G8R8_G8B8_UNORM = 69] = "DXGI_FORMAT_G8R8_G8B8_UNORM",
                t[t.DXGI_FORMAT_BC1_TYPELESS = 70] = "DXGI_FORMAT_BC1_TYPELESS",
                t[t.DXGI_FORMAT_BC1_UNORM = 71] = "DXGI_FORMAT_BC1_UNORM",
                t[t.DXGI_FORMAT_BC1_UNORM_SRGB = 72] = "DXGI_FORMAT_BC1_UNORM_SRGB",
                t[t.DXGI_FORMAT_BC2_TYPELESS = 73] = "DXGI_FORMAT_BC2_TYPELESS",
                t[t.DXGI_FORMAT_BC2_UNORM = 74] = "DXGI_FORMAT_BC2_UNORM",
                t[t.DXGI_FORMAT_BC2_UNORM_SRGB = 75] = "DXGI_FORMAT_BC2_UNORM_SRGB",
                t[t.DXGI_FORMAT_BC3_TYPELESS = 76] = "DXGI_FORMAT_BC3_TYPELESS",
                t[t.DXGI_FORMAT_BC3_UNORM = 77] = "DXGI_FORMAT_BC3_UNORM",
                t[t.DXGI_FORMAT_BC3_UNORM_SRGB = 78] = "DXGI_FORMAT_BC3_UNORM_SRGB",
                t[t.DXGI_FORMAT_BC4_TYPELESS = 79] = "DXGI_FORMAT_BC4_TYPELESS",
                t[t.DXGI_FORMAT_BC4_UNORM = 80] = "DXGI_FORMAT_BC4_UNORM",
                t[t.DXGI_FORMAT_BC4_SNORM = 81] = "DXGI_FORMAT_BC4_SNORM",
                t[t.DXGI_FORMAT_BC5_TYPELESS = 82] = "DXGI_FORMAT_BC5_TYPELESS",
                t[t.DXGI_FORMAT_BC5_UNORM = 83] = "DXGI_FORMAT_BC5_UNORM",
                t[t.DXGI_FORMAT_BC5_SNORM = 84] = "DXGI_FORMAT_BC5_SNORM",
                t[t.DXGI_FORMAT_B5G6R5_UNORM = 85] = "DXGI_FORMAT_B5G6R5_UNORM",
                t[t.DXGI_FORMAT_B5G5R5A1_UNORM = 86] = "DXGI_FORMAT_B5G5R5A1_UNORM",
                t[t.DXGI_FORMAT_B8G8R8A8_UNORM = 87] = "DXGI_FORMAT_B8G8R8A8_UNORM",
                t[t.DXGI_FORMAT_B8G8R8X8_UNORM = 88] = "DXGI_FORMAT_B8G8R8X8_UNORM",
                t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM = 89] = "DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",
                t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS = 90] = "DXGI_FORMAT_B8G8R8A8_TYPELESS",
                t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB = 91] = "DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",
                t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS = 92] = "DXGI_FORMAT_B8G8R8X8_TYPELESS",
                t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB = 93] = "DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",
                t[t.DXGI_FORMAT_BC6H_TYPELESS = 94] = "DXGI_FORMAT_BC6H_TYPELESS",
                t[t.DXGI_FORMAT_BC6H_UF16 = 95] = "DXGI_FORMAT_BC6H_UF16",
                t[t.DXGI_FORMAT_BC6H_SF16 = 96] = "DXGI_FORMAT_BC6H_SF16",
                t[t.DXGI_FORMAT_BC7_TYPELESS = 97] = "DXGI_FORMAT_BC7_TYPELESS",
                t[t.DXGI_FORMAT_BC7_UNORM = 98] = "DXGI_FORMAT_BC7_UNORM",
                t[t.DXGI_FORMAT_BC7_UNORM_SRGB = 99] = "DXGI_FORMAT_BC7_UNORM_SRGB",
                t[t.DXGI_FORMAT_AYUV = 100] = "DXGI_FORMAT_AYUV",
                t[t.DXGI_FORMAT_Y410 = 101] = "DXGI_FORMAT_Y410",
                t[t.DXGI_FORMAT_Y416 = 102] = "DXGI_FORMAT_Y416",
                t[t.DXGI_FORMAT_NV12 = 103] = "DXGI_FORMAT_NV12",
                t[t.DXGI_FORMAT_P010 = 104] = "DXGI_FORMAT_P010",
                t[t.DXGI_FORMAT_P016 = 105] = "DXGI_FORMAT_P016",
                t[t.DXGI_FORMAT_420_OPAQUE = 106] = "DXGI_FORMAT_420_OPAQUE",
                t[t.DXGI_FORMAT_YUY2 = 107] = "DXGI_FORMAT_YUY2",
                t[t.DXGI_FORMAT_Y210 = 108] = "DXGI_FORMAT_Y210",
                t[t.DXGI_FORMAT_Y216 = 109] = "DXGI_FORMAT_Y216",
                t[t.DXGI_FORMAT_NV11 = 110] = "DXGI_FORMAT_NV11",
                t[t.DXGI_FORMAT_AI44 = 111] = "DXGI_FORMAT_AI44",
                t[t.DXGI_FORMAT_IA44 = 112] = "DXGI_FORMAT_IA44",
                t[t.DXGI_FORMAT_P8 = 113] = "DXGI_FORMAT_P8",
                t[t.DXGI_FORMAT_A8P8 = 114] = "DXGI_FORMAT_A8P8",
                t[t.DXGI_FORMAT_B4G4R4A4_UNORM = 115] = "DXGI_FORMAT_B4G4R4A4_UNORM",
                t[t.DXGI_FORMAT_P208 = 116] = "DXGI_FORMAT_P208",
                t[t.DXGI_FORMAT_V208 = 117] = "DXGI_FORMAT_V208",
                t[t.DXGI_FORMAT_V408 = 118] = "DXGI_FORMAT_V408",
                t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE = 119] = "DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",
                t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE = 120] = "DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",
                t[t.DXGI_FORMAT_FORCE_UINT = 121] = "DXGI_FORMAT_FORCE_UINT"
            }(Si || (Si = {})),
            function(t) {
                t[t.DDS_DIMENSION_TEXTURE1D = 2] = "DDS_DIMENSION_TEXTURE1D",
                t[t.DDS_DIMENSION_TEXTURE2D = 3] = "DDS_DIMENSION_TEXTURE2D",
                t[t.DDS_DIMENSION_TEXTURE3D = 6] = "DDS_DIMENSION_TEXTURE3D"
            }(wi || (wi = {}));
            var Ri, Oi, Ii, Ci = ((bi = {})[827611204] = mi.COMPRESSED_RGBA_S3TC_DXT1_EXT,
            bi[861165636] = mi.COMPRESSED_RGBA_S3TC_DXT3_EXT,
            bi[894720068] = mi.COMPRESSED_RGBA_S3TC_DXT5_EXT,
            bi), Di = ((xi = {})[Si.DXGI_FORMAT_BC1_TYPELESS] = mi.COMPRESSED_RGBA_S3TC_DXT1_EXT,
            xi[Si.DXGI_FORMAT_BC1_UNORM] = mi.COMPRESSED_RGBA_S3TC_DXT1_EXT,
            xi[Si.DXGI_FORMAT_BC2_TYPELESS] = mi.COMPRESSED_RGBA_S3TC_DXT3_EXT,
            xi[Si.DXGI_FORMAT_BC2_UNORM] = mi.COMPRESSED_RGBA_S3TC_DXT3_EXT,
            xi[Si.DXGI_FORMAT_BC3_TYPELESS] = mi.COMPRESSED_RGBA_S3TC_DXT5_EXT,
            xi[Si.DXGI_FORMAT_BC3_UNORM] = mi.COMPRESSED_RGBA_S3TC_DXT5_EXT,
            xi[Si.DXGI_FORMAT_BC1_UNORM_SRGB] = mi.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,
            xi[Si.DXGI_FORMAT_BC2_UNORM_SRGB] = mi.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,
            xi[Si.DXGI_FORMAT_BC3_UNORM_SRGB] = mi.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,
            xi), Mi = [171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10], Pi = ((Ri = {})[A.UNSIGNED_BYTE] = 1,
            Ri[A.UNSIGNED_SHORT] = 2,
            Ri[A.INT] = 4,
            Ri[A.UNSIGNED_INT] = 4,
            Ri[A.FLOAT] = 4,
            Ri[A.HALF_FLOAT] = 8,
            Ri), Ni = ((Oi = {})[T.RGBA] = 4,
            Oi[T.RGB] = 3,
            Oi[T.RG] = 2,
            Oi[T.RED] = 1,
            Oi[T.LUMINANCE] = 1,
            Oi[T.LUMINANCE_ALPHA] = 2,
            Oi[T.ALPHA] = 1,
            Oi), Bi = ((Ii = {})[A.UNSIGNED_SHORT_4_4_4_4] = 2,
            Ii[A.UNSIGNED_SHORT_5_5_5_1] = 2,
            Ii[A.UNSIGNED_SHORT_5_6_5] = 2,
            Ii);
            function Li(t) {
                switch (t) {
                case T.RGBA:
                    return T.RGBA_INTEGER;
                case T.RGB:
                    return T.RGB_INTEGER;
                case T.RG:
                    return T.RG_INTEGER;
                case T.RED:
                    return T.RED_INTEGER;
                default:
                    return t
                }
            }
            ii.setExtensionXhrType("dds", ii.XHR_RESPONSE_TYPE.BUFFER);
            var Fi = function() {
                function t() {}
                return t.use = function(t, e) {
                    if ("dds" === t.extension && t.data)
                        try {
                            Object.assign(t, Ai(t.name || t.url, function(t) {
                                var e = new Uint32Array(t);
                                if (542327876 !== e[0])
                                    throw new Error("Invalid DDS file magic word");
                                var n = new Uint32Array(t,0,124 / Uint32Array.BYTES_PER_ELEMENT)
                                  , r = n[3]
                                  , i = n[4]
                                  , o = n[7]
                                  , s = new Uint32Array(t,19 * Uint32Array.BYTES_PER_ELEMENT,32 / Uint32Array.BYTES_PER_ELEMENT)
                                  , a = s[1];
                                if (4 & a) {
                                    var u = s[2];
                                    if (808540228 !== u) {
                                        var h = Ci[u]
                                          , l = new Uint8Array(t,128);
                                        return [new Ti(l,{
                                            format: h,
                                            width: i,
                                            height: r,
                                            levels: o
                                        })]
                                    }
                                    var c = new Uint32Array(e.buffer,128,20 / Uint32Array.BYTES_PER_ELEMENT)
                                      , d = c[0]
                                      , p = c[1]
                                      , f = c[2]
                                      , m = c[3]
                                      , _ = Di[d];
                                    if (void 0 === _)
                                        throw new Error("DDSParser cannot parse texture data with DXGI format " + d);
                                    if (4 === f)
                                        throw new Error("DDSParser does not support cubemap textures");
                                    if (p === wi.DDS_DIMENSION_TEXTURE3D)
                                        throw new Error("DDSParser does not supported 3D texture data");
                                    var v = new Array;
                                    if (1 === m)
                                        v.push(new Uint8Array(t,148));
                                    else {
                                        for (var g = vi[_], y = 0, b = i, x = r, T = 0; T < o; T++)
                                            y += Math.max(1, b + 3 & -4) * Math.max(1, x + 3 & -4) * g,
                                            b >>>= 1,
                                            x >>>= 1;
                                        var E = 148;
                                        for (T = 0; T < m; T++)
                                            v.push(new Uint8Array(t,E,y)),
                                            E += y
                                    }
                                    return v.map((function(t) {
                                        return new Ti(t,{
                                            format: _,
                                            width: i,
                                            height: r,
                                            levels: o
                                        })
                                    }
                                    ))
                                }
                                if (64 & a)
                                    throw new Error("DDSParser does not support uncompressed texture data.");
                                if (512 & a)
                                    throw new Error("DDSParser does not supported YUV uncompressed texture data.");
                                if (131072 & a)
                                    throw new Error("DDSParser does not support single-channel (lumninance) texture data!");
                                if (2 & a)
                                    throw new Error("DDSParser does not support single-channel (alpha) texture data!");
                                throw new Error("DDSParser failed to load a texture file due to an unknown reason!")
                            }(t.data), t.metadata))
                        } catch (t) {
                            return void e(t)
                        }
                    e()
                }
                ,
                t.extension = de.Loader,
                t
            }();
            ii.setExtensionXhrType("ktx", ii.XHR_RESPONSE_TYPE.BUFFER);
            var Gi = function() {
                function t() {}
                return t.use = function(t, e) {
                    if ("ktx" === t.extension && t.data)
                        try {
                            var n = t.name || t.url
                              , r = function(t, e, n) {
                                void 0 === n && (n = !1);
                                var r = new DataView(e);
                                if (!function(t, e) {
                                    for (var n = 0; n < Mi.length; n++)
                                        if (e.getUint8(n) !== Mi[n])
                                            return console.error(t + " is not a valid *.ktx file!"),
                                            !1;
                                    return !0
                                }(t, r))
                                    return null;
                                var i = 67305985 === r.getUint32(12, !0)
                                  , o = r.getUint32(16, i)
                                  , s = r.getUint32(24, i)
                                  , a = r.getUint32(28, i)
                                  , u = r.getUint32(36, i)
                                  , h = r.getUint32(40, i) || 1
                                  , l = r.getUint32(44, i) || 1
                                  , c = r.getUint32(48, i) || 1
                                  , d = r.getUint32(52, i)
                                  , p = r.getUint32(56, i)
                                  , f = r.getUint32(60, i);
                                if (0 === h || 1 !== l)
                                    throw new Error("Only 2D textures are supported");
                                if (1 !== d)
                                    throw new Error("CubeTextures are not supported by KTXLoader yet!");
                                if (1 !== c)
                                    throw new Error("WebGL does not support array textures");
                                var m, _ = u + 3 & -4, v = h + 3 & -4, g = new Array(c), y = u * h;
                                if (0 === o && (y = _ * v),
                                void 0 === (m = 0 !== o ? Pi[o] ? Pi[o] * Ni[s] : Bi[o] : vi[a]))
                                    throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");
                                for (var b = n ? function(t, e, n) {
                                    for (var r = new Map, i = 0; i < e; ) {
                                        var o = t.getUint32(64 + i, n)
                                          , s = 64 + i + 4
                                          , a = 3 - (o + 3) % 4;
                                        if (0 === o || o > e - i) {
                                            console.error("KTXLoader: keyAndValueByteSize out of bounds");
                                            break
                                        }
                                        for (var u = 0; u < o && 0 !== t.getUint8(s + u); u++)
                                            ;
                                        if (-1 === u) {
                                            console.error("KTXLoader: Failed to find null byte terminating kvData key");
                                            break
                                        }
                                        var h = (new TextDecoder).decode(new Uint8Array(t.buffer,s,u))
                                          , l = new DataView(t.buffer,s + u + 1,o - u - 1);
                                        r.set(h, l),
                                        i += 4 + o + a
                                    }
                                    return r
                                }(r, f, i) : null, x = y * m, T = u, E = h, S = _, w = v, R = 64 + f, O = 0; O < p; O++) {
                                    for (var I = r.getUint32(R, i), C = R + 4, D = 0; D < c; D++) {
                                        var M = g[D];
                                        M || (M = g[D] = new Array(p)),
                                        M[O] = {
                                            levelID: O,
                                            levelWidth: p > 1 || 0 !== o ? T : S,
                                            levelHeight: p > 1 || 0 !== o ? E : w,
                                            levelBuffer: new Uint8Array(e,C,x)
                                        },
                                        C += x
                                    }
                                    R = (R += I + 4) % 4 != 0 ? R + 4 - R % 4 : R,
                                    x = (S = (T = T >> 1 || 1) + 4 - 1 & -4) * (w = (E = E >> 1 || 1) + 4 - 1 & -4) * m
                                }
                                return 0 !== o ? {
                                    uncompressed: g.map((function(t) {
                                        var e = t[0].levelBuffer
                                          , n = !1;
                                        return o === A.FLOAT ? e = new Float32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength / 4) : o === A.UNSIGNED_INT ? (n = !0,
                                        e = new Uint32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength / 4)) : o === A.INT && (n = !0,
                                        e = new Int32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength / 4)),
                                        {
                                            resource: new Re(e,{
                                                width: t[0].levelWidth,
                                                height: t[0].levelHeight
                                            }),
                                            type: o,
                                            format: n ? Li(s) : s
                                        }
                                    }
                                    )),
                                    kvData: b
                                } : {
                                    compressed: g.map((function(t) {
                                        return new Ti(null,{
                                            format: a,
                                            width: u,
                                            height: h,
                                            levels: p,
                                            levelBuffers: t
                                        })
                                    }
                                    )),
                                    kvData: b
                                }
                            }(n, t.data, this.loadKeyValueData)
                              , i = r.compressed
                              , o = r.uncompressed
                              , s = r.kvData;
                            if (i) {
                                var a = Ai(n, i, t.metadata);
                                if (s && a.textures)
                                    for (var u in a.textures)
                                        a.textures[u].baseTexture.ktxKeyValueData = s;
                                Object.assign(t, a)
                            } else if (o) {
                                var h = {};
                                o.forEach((function(t, e) {
                                    var r = new Ve(new Ie(t.resource,{
                                        mipmap: O.OFF,
                                        alphaMode: I.NO_PREMULTIPLIED_ALPHA,
                                        type: t.type,
                                        format: t.format
                                    }))
                                      , i = n + "-" + (e + 1);
                                    s && (r.baseTexture.ktxKeyValueData = s),
                                    Ie.addToCache(r.baseTexture, i),
                                    Ve.addToCache(r, i),
                                    0 === e && (h[n] = r,
                                    Ie.addToCache(r.baseTexture, n),
                                    Ve.addToCache(r, n)),
                                    h[i] = r
                                }
                                )),
                                Object.assign(t, {
                                    textures: h
                                })
                            }
                        } catch (t) {
                            return void e(t)
                        }
                    e()
                }
                ,
                t.extension = de.Loader,
                t.loadKeyValueData = !1,
                t
            }()
              , ki = function(t, e) {
                return (ki = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            function Ui(t, e) {
                function n() {
                    this.constructor = t
                }
                ki(t, e),
                t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                new n)
            }
            !function(t) {
                function e(e, n, r, i) {
                    void 0 === e && (e = 1500),
                    void 0 === r && (r = 16384),
                    void 0 === i && (i = !1);
                    var o = t.call(this) || this;
                    return r > 16384 && (r = 16384),
                    o._properties = [!1, !0, !1, !1, !1],
                    o._maxSize = e,
                    o._batchSize = r,
                    o._buffers = null,
                    o._bufferUpdateIDs = [],
                    o._updateID = 0,
                    o.interactiveChildren = !1,
                    o.blendMode = b.NORMAL,
                    o.autoResize = i,
                    o.roundPixels = !0,
                    o.baseTexture = null,
                    o.setProperties(n),
                    o._tint = 0,
                    o.tintRgb = new Float32Array(4),
                    o.tint = 16777215,
                    o
                }
                Ui(e, t),
                e.prototype.setProperties = function(t) {
                    t && (this._properties[0] = "vertices"in t || "scale"in t ? !!t.vertices || !!t.scale : this._properties[0],
                    this._properties[1] = "position"in t ? !!t.position : this._properties[1],
                    this._properties[2] = "rotation"in t ? !!t.rotation : this._properties[2],
                    this._properties[3] = "uvs"in t ? !!t.uvs : this._properties[3],
                    this._properties[4] = "tint"in t || "alpha"in t ? !!t.tint || !!t.alpha : this._properties[4])
                }
                ,
                e.prototype.updateTransform = function() {
                    this.displayObjectUpdateTransform()
                }
                ,
                Object.defineProperty(e.prototype, "tint", {
                    get: function() {
                        return this._tint
                    },
                    set: function(t) {
                        this._tint = t,
                        ft(t, this.tintRgb)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.render = function(t) {
                    var e = this;
                    this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable && (this.baseTexture || (this.baseTexture = this.children[0]._texture.baseTexture,
                    this.baseTexture.valid || this.baseTexture.once("update", (function() {
                        return e.onChildrenChange(0)
                    }
                    ))),
                    t.batch.setObjectRenderer(t.plugins.particle),
                    t.plugins.particle.render(this))
                }
                ,
                e.prototype.onChildrenChange = function(t) {
                    for (var e = Math.floor(t / this._batchSize); this._bufferUpdateIDs.length < e; )
                        this._bufferUpdateIDs.push(0);
                    this._bufferUpdateIDs[e] = ++this._updateID
                }
                ,
                e.prototype.dispose = function() {
                    if (this._buffers) {
                        for (var t = 0; t < this._buffers.length; ++t)
                            this._buffers[t].destroy();
                        this._buffers = null
                    }
                }
                ,
                e.prototype.destroy = function(e) {
                    t.prototype.destroy.call(this, e),
                    this.dispose(),
                    this._properties = null,
                    this._buffers = null,
                    this._bufferUpdateIDs = null
                }
            }(ce);
            var Xi, Hi, ji = function() {
                function t(t, e, n) {
                    this.geometry = new nn,
                    this.indexBuffer = null,
                    this.size = n,
                    this.dynamicProperties = [],
                    this.staticProperties = [];
                    for (var r = 0; r < t.length; ++r) {
                        var i = t[r];
                        i = {
                            attributeName: i.attributeName,
                            size: i.size,
                            uploadFunction: i.uploadFunction,
                            type: i.type || A.FLOAT,
                            offset: i.offset
                        },
                        e[r] ? this.dynamicProperties.push(i) : this.staticProperties.push(i)
                    }
                    this.staticStride = 0,
                    this.staticBuffer = null,
                    this.staticData = null,
                    this.staticDataUint32 = null,
                    this.dynamicStride = 0,
                    this.dynamicBuffer = null,
                    this.dynamicData = null,
                    this.dynamicDataUint32 = null,
                    this._updateID = 0,
                    this.initBuffers()
                }
                return t.prototype.initBuffers = function() {
                    var t = this.geometry
                      , e = 0;
                    this.indexBuffer = new Je(function(t, e) {
                        void 0 === e && (e = null);
                        var n = 6 * t;
                        if ((e = e || new Uint16Array(n)).length !== n)
                            throw new Error("Out buffer length is incorrect, got " + e.length + " and expected " + n);
                        for (var r = 0, i = 0; r < n; r += 6,
                        i += 4)
                            e[r + 0] = i + 0,
                            e[r + 1] = i + 1,
                            e[r + 2] = i + 2,
                            e[r + 3] = i + 0,
                            e[r + 4] = i + 2,
                            e[r + 5] = i + 3;
                        return e
                    }(this.size),!0,!0),
                    t.addIndex(this.indexBuffer),
                    this.dynamicStride = 0;
                    for (var n = 0; n < this.dynamicProperties.length; ++n)
                        (s = this.dynamicProperties[n]).offset = e,
                        e += s.size,
                        this.dynamicStride += s.size;
                    var r = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);
                    this.dynamicData = new Float32Array(r),
                    this.dynamicDataUint32 = new Uint32Array(r),
                    this.dynamicBuffer = new Je(this.dynamicData,!1,!1);
                    var i = 0;
                    for (this.staticStride = 0,
                    n = 0; n < this.staticProperties.length; ++n)
                        (s = this.staticProperties[n]).offset = i,
                        i += s.size,
                        this.staticStride += s.size;
                    var o = new ArrayBuffer(this.size * this.staticStride * 4 * 4);
                    for (this.staticData = new Float32Array(o),
                    this.staticDataUint32 = new Uint32Array(o),
                    this.staticBuffer = new Je(this.staticData,!0,!1),
                    n = 0; n < this.dynamicProperties.length; ++n) {
                        var s = this.dynamicProperties[n];
                        t.addAttribute(s.attributeName, this.dynamicBuffer, 0, s.type === A.UNSIGNED_BYTE, s.type, 4 * this.dynamicStride, 4 * s.offset)
                    }
                    for (n = 0; n < this.staticProperties.length; ++n)
                        s = this.staticProperties[n],
                        t.addAttribute(s.attributeName, this.staticBuffer, 0, s.type === A.UNSIGNED_BYTE, s.type, 4 * this.staticStride, 4 * s.offset)
                }
                ,
                t.prototype.uploadDynamic = function(t, e, n) {
                    for (var r = 0; r < this.dynamicProperties.length; r++) {
                        var i = this.dynamicProperties[r];
                        i.uploadFunction(t, e, n, i.type === A.UNSIGNED_BYTE ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, i.offset)
                    }
                    this.dynamicBuffer._updateID++
                }
                ,
                t.prototype.uploadStatic = function(t, e, n) {
                    for (var r = 0; r < this.staticProperties.length; r++) {
                        var i = this.staticProperties[r];
                        i.uploadFunction(t, e, n, i.type === A.UNSIGNED_BYTE ? this.staticDataUint32 : this.staticData, this.staticStride, i.offset)
                    }
                    this.staticBuffer._updateID++
                }
                ,
                t.prototype.destroy = function() {
                    this.indexBuffer = null,
                    this.dynamicProperties = null,
                    this.dynamicBuffer = null,
                    this.dynamicData = null,
                    this.dynamicDataUint32 = null,
                    this.staticProperties = null,
                    this.staticBuffer = null,
                    this.staticData = null,
                    this.staticDataUint32 = null,
                    this.geometry.destroy()
                }
                ,
                t
            }(), $i = function(t) {
                function e(e) {
                    var n = t.call(this, e) || this;
                    return n.shader = null,
                    n.properties = null,
                    n.tempMatrix = new qt,
                    n.properties = [{
                        attributeName: "aVertexPosition",
                        size: 2,
                        uploadFunction: n.uploadVertices,
                        offset: 0
                    }, {
                        attributeName: "aPositionCoord",
                        size: 2,
                        uploadFunction: n.uploadPosition,
                        offset: 0
                    }, {
                        attributeName: "aRotation",
                        size: 1,
                        uploadFunction: n.uploadRotation,
                        offset: 0
                    }, {
                        attributeName: "aTextureCoord",
                        size: 2,
                        uploadFunction: n.uploadUvs,
                        offset: 0
                    }, {
                        attributeName: "aColor",
                        size: 1,
                        type: A.UNSIGNED_BYTE,
                        uploadFunction: n.uploadTint,
                        offset: 0
                    }],
                    n.shader = $n.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n", "varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}", {}),
                    n.state = Wn.for2d(),
                    n
                }
                return Ui(e, t),
                e.prototype.render = function(t) {
                    var e = t.children
                      , n = t._maxSize
                      , r = t._batchSize
                      , i = this.renderer
                      , o = e.length;
                    if (0 !== o) {
                        o > n && !t.autoResize && (o = n);
                        var s = t._buffers;
                        s || (s = t._buffers = this.generateBuffers(t));
                        var a = e[0]._texture.baseTexture
                          , u = a.alphaMode > 0;
                        this.state.blendMode = gt(t.blendMode, u),
                        i.state.set(this.state);
                        var h, l, c, d, p = i.gl, f = t.worldTransform.copyTo(this.tempMatrix);
                        f.prepend(i.globalUniforms.uniforms.projectionMatrix),
                        this.shader.uniforms.translationMatrix = f.toArray(!0),
                        this.shader.uniforms.uColor = (h = t.tintRgb,
                        l = t.worldAlpha,
                        d = u,
                        c = (c = this.shader.uniforms.uColor) || new Float32Array(4),
                        d || void 0 === d ? (c[0] = h[0] * l,
                        c[1] = h[1] * l,
                        c[2] = h[2] * l) : (c[0] = h[0],
                        c[1] = h[1],
                        c[2] = h[2]),
                        c[3] = l,
                        c),
                        this.shader.uniforms.uSampler = a,
                        this.renderer.shader.bind(this.shader);
                        for (var m = !1, _ = 0, v = 0; _ < o; _ += r,
                        v += 1) {
                            var g = o - _;
                            g > r && (g = r),
                            v >= s.length && s.push(this._generateOneMoreBuffer(t));
                            var y = s[v];
                            y.uploadDynamic(e, _, g);
                            var b = t._bufferUpdateIDs[v] || 0;
                            (m = m || y._updateID < b) && (y._updateID = t._updateID,
                            y.uploadStatic(e, _, g)),
                            i.geometry.bind(y.geometry),
                            p.drawElements(p.TRIANGLES, 6 * g, p.UNSIGNED_SHORT, 0)
                        }
                    }
                }
                ,
                e.prototype.generateBuffers = function(t) {
                    for (var e = [], n = t._maxSize, r = t._batchSize, i = t._properties, o = 0; o < n; o += r)
                        e.push(new ji(this.properties,i,r));
                    return e
                }
                ,
                e.prototype._generateOneMoreBuffer = function(t) {
                    var e = t._batchSize
                      , n = t._properties;
                    return new ji(this.properties,n,e)
                }
                ,
                e.prototype.uploadVertices = function(t, e, n, r, i, o) {
                    for (var s = 0, a = 0, u = 0, h = 0, l = 0; l < n; ++l) {
                        var c = t[e + l]
                          , d = c._texture
                          , p = c.scale.x
                          , f = c.scale.y
                          , m = d.trim
                          , _ = d.orig;
                        m ? (s = (a = m.x - c.anchor.x * _.width) + m.width,
                        u = (h = m.y - c.anchor.y * _.height) + m.height) : (s = _.width * (1 - c.anchor.x),
                        a = _.width * -c.anchor.x,
                        u = _.height * (1 - c.anchor.y),
                        h = _.height * -c.anchor.y),
                        r[o] = a * p,
                        r[o + 1] = h * f,
                        r[o + i] = s * p,
                        r[o + i + 1] = h * f,
                        r[o + 2 * i] = s * p,
                        r[o + 2 * i + 1] = u * f,
                        r[o + 3 * i] = a * p,
                        r[o + 3 * i + 1] = u * f,
                        o += 4 * i
                    }
                }
                ,
                e.prototype.uploadPosition = function(t, e, n, r, i, o) {
                    for (var s = 0; s < n; s++) {
                        var a = t[e + s].position;
                        r[o] = a.x,
                        r[o + 1] = a.y,
                        r[o + i] = a.x,
                        r[o + i + 1] = a.y,
                        r[o + 2 * i] = a.x,
                        r[o + 2 * i + 1] = a.y,
                        r[o + 3 * i] = a.x,
                        r[o + 3 * i + 1] = a.y,
                        o += 4 * i
                    }
                }
                ,
                e.prototype.uploadRotation = function(t, e, n, r, i, o) {
                    for (var s = 0; s < n; s++) {
                        var a = t[e + s].rotation;
                        r[o] = a,
                        r[o + i] = a,
                        r[o + 2 * i] = a,
                        r[o + 3 * i] = a,
                        o += 4 * i
                    }
                }
                ,
                e.prototype.uploadUvs = function(t, e, n, r, i, o) {
                    for (var s = 0; s < n; ++s) {
                        var a = t[e + s]._texture._uvs;
                        a ? (r[o] = a.x0,
                        r[o + 1] = a.y0,
                        r[o + i] = a.x1,
                        r[o + i + 1] = a.y1,
                        r[o + 2 * i] = a.x2,
                        r[o + 2 * i + 1] = a.y2,
                        r[o + 3 * i] = a.x3,
                        r[o + 3 * i + 1] = a.y3,
                        o += 4 * i) : (r[o] = 0,
                        r[o + 1] = 0,
                        r[o + i] = 0,
                        r[o + i + 1] = 0,
                        r[o + 2 * i] = 0,
                        r[o + 2 * i + 1] = 0,
                        r[o + 3 * i] = 0,
                        r[o + 3 * i + 1] = 0,
                        o += 4 * i)
                    }
                }
                ,
                e.prototype.uploadTint = function(t, e, n, r, i, o) {
                    for (var s = 0; s < n; ++s) {
                        var a = t[e + s]
                          , u = a._texture.baseTexture.alphaMode > 0
                          , h = a.alpha
                          , l = h < 1 && u ? yt(a._tintRGB, h) : a._tintRGB + (255 * h << 24);
                        r[o] = l,
                        r[o + i] = l,
                        r[o + 2 * i] = l,
                        r[o + 3 * i] = l,
                        o += 4 * i
                    }
                }
                ,
                e.prototype.destroy = function() {
                    t.prototype.destroy.call(this),
                    this.shader && (this.shader.destroy(),
                    this.shader = null),
                    this.tempMatrix = null
                }
                ,
                e.extension = {
                    name: "particle",
                    type: de.RendererPlugin
                },
                e
            }(dn);
            !function(t) {
                t.MITER = "miter",
                t.BEVEL = "bevel",
                t.ROUND = "round"
            }(Xi || (Xi = {})),
            function(t) {
                t.BUTT = "butt",
                t.ROUND = "round",
                t.SQUARE = "square"
            }(Hi || (Hi = {}));
            var Wi = {
                adaptive: !0,
                maxLength: 10,
                minSegments: 8,
                maxSegments: 2048,
                epsilon: 1e-4,
                _segmentsCount: function(t, e) {
                    if (void 0 === e && (e = 20),
                    !this.adaptive || !t || isNaN(t))
                        return e;
                    var n = Math.ceil(t / this.maxLength);
                    return n < this.minSegments ? n = this.minSegments : n > this.maxSegments && (n = this.maxSegments),
                    n
                }
            }
              , Vi = function() {
                function t() {
                    this.color = 16777215,
                    this.alpha = 1,
                    this.texture = Ve.WHITE,
                    this.matrix = null,
                    this.visible = !1,
                    this.reset()
                }
                return t.prototype.clone = function() {
                    var e = new t;
                    return e.color = this.color,
                    e.alpha = this.alpha,
                    e.texture = this.texture,
                    e.matrix = this.matrix,
                    e.visible = this.visible,
                    e
                }
                ,
                t.prototype.reset = function() {
                    this.color = 16777215,
                    this.alpha = 1,
                    this.texture = Ve.WHITE,
                    this.matrix = null,
                    this.visible = !1
                }
                ,
                t.prototype.destroy = function() {
                    this.texture = null,
                    this.matrix = null
                }
                ,
                t
            }()
              , Yi = function(t, e) {
                return (Yi = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            function zi(t, e) {
                function n() {
                    this.constructor = t
                }
                Yi(t, e),
                t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                new n)
            }
            function qi(t, e) {
                var n, r;
                void 0 === e && (e = !1);
                var i = t.length;
                if (!(i < 6)) {
                    for (var o = 0, s = 0, a = t[i - 2], u = t[i - 1]; s < i; s += 2) {
                        var h = t[s]
                          , l = t[s + 1];
                        o += (h - a) * (l + u),
                        a = h,
                        u = l
                    }
                    if (!e && o > 0 || e && o <= 0) {
                        var c = i / 2;
                        for (s = c + c % 2; s < i; s += 2) {
                            var d = i - s - 2
                              , p = i - s - 1
                              , f = s
                              , m = s + 1;
                            n = [t[f], t[d]],
                            t[d] = n[0],
                            t[f] = n[1],
                            r = [t[m], t[p]],
                            t[p] = r[0],
                            t[m] = r[1]
                        }
                    }
                }
            }
            var Ki = {
                build: function(t) {
                    t.points = t.shape.points.slice()
                },
                triangulate: function(t, e) {
                    var n = t.points
                      , r = t.holes
                      , i = e.points
                      , o = e.indices;
                    if (n.length >= 6) {
                        qi(n, !1);
                        for (var s = [], a = 0; a < r.length; a++) {
                            var u = r[a];
                            qi(u.points, !0),
                            s.push(n.length / 2),
                            n = n.concat(u.points)
                        }
                        var h = ut(n, s, 2);
                        if (!h)
                            return;
                        var l = i.length / 2;
                        for (a = 0; a < h.length; a += 3)
                            o.push(h[a] + l),
                            o.push(h[a + 1] + l),
                            o.push(h[a + 2] + l);
                        for (a = 0; a < n.length; a++)
                            i.push(n[a])
                    }
                }
            }
              , Ji = {
                build: function(t) {
                    var e, n, r, i, o, s, a = t.points;
                    if (t.type === Ft.CIRC) {
                        var u = t.shape;
                        e = u.x,
                        n = u.y,
                        o = s = u.radius,
                        r = i = 0
                    } else if (t.type === Ft.ELIP) {
                        var h = t.shape;
                        e = h.x,
                        n = h.y,
                        o = h.width,
                        s = h.height,
                        r = i = 0
                    } else {
                        var l = t.shape
                          , c = l.width / 2
                          , d = l.height / 2;
                        e = l.x + c,
                        n = l.y + d,
                        r = c - (o = s = Math.max(0, Math.min(l.radius, Math.min(c, d)))),
                        i = d - s
                    }
                    if (o >= 0 && s >= 0 && r >= 0 && i >= 0) {
                        var p = Math.ceil(2.3 * Math.sqrt(o + s))
                          , f = 8 * p + (r ? 4 : 0) + (i ? 4 : 0);
                        if (a.length = f,
                        0 !== f) {
                            if (0 === p)
                                return a.length = 8,
                                a[0] = a[6] = e + r,
                                a[1] = a[3] = n + i,
                                a[2] = a[4] = e - r,
                                void (a[5] = a[7] = n - i);
                            var m, _, v = 0, g = 4 * p + (r ? 2 : 0) + 2, y = g, b = f, x = e + (m = r + o), T = e - m, E = n + (_ = i);
                            if (a[v++] = x,
                            a[v++] = E,
                            a[--g] = E,
                            a[--g] = T,
                            i) {
                                var A = n - _;
                                a[y++] = T,
                                a[y++] = A,
                                a[--b] = A,
                                a[--b] = x
                            }
                            for (var S = 1; S < p; S++) {
                                var w = Math.PI / 2 * (S / p);
                                x = e + (m = r + Math.cos(w) * o),
                                T = e - m,
                                E = n + (_ = i + Math.sin(w) * s),
                                A = n - _,
                                a[v++] = x,
                                a[v++] = E,
                                a[--g] = E,
                                a[--g] = T,
                                a[y++] = T,
                                a[y++] = A,
                                a[--b] = A,
                                a[--b] = x
                            }
                            x = e + (m = r),
                            T = e - m,
                            E = n + (_ = i + s),
                            A = n - _,
                            a[v++] = x,
                            a[v++] = E,
                            a[--b] = A,
                            a[--b] = x,
                            r && (a[v++] = T,
                            a[v++] = E,
                            a[--b] = A,
                            a[--b] = T)
                        }
                    } else
                        a.length = 0
                },
                triangulate: function(t, e) {
                    var n = t.points
                      , r = e.points
                      , i = e.indices;
                    if (0 !== n.length) {
                        var o, s, a = r.length / 2, u = a;
                        if (t.type !== Ft.RREC) {
                            var h = t.shape;
                            o = h.x,
                            s = h.y
                        } else {
                            var l = t.shape;
                            o = l.x + l.width / 2,
                            s = l.y + l.height / 2
                        }
                        var c = t.matrix;
                        r.push(t.matrix ? c.a * o + c.c * s + c.tx : o, t.matrix ? c.b * o + c.d * s + c.ty : s),
                        a++,
                        r.push(n[0], n[1]);
                        for (var d = 2; d < n.length; d += 2)
                            r.push(n[d], n[d + 1]),
                            i.push(a++, u, a);
                        i.push(u + 1, u, a)
                    }
                }
            };
            function Zi(t, e, n) {
                return t + (e - t) * n
            }
            function Qi(t, e, n, r, i, o, s) {
                void 0 === s && (s = []);
                for (var a = s, u = 0, h = 0, l = 0, c = 0, d = 0, p = 0, f = 0, m = 0; f <= 20; ++f)
                    u = Zi(t, n, m = f / 20),
                    h = Zi(e, r, m),
                    l = Zi(n, i, m),
                    c = Zi(r, o, m),
                    d = Zi(u, l, m),
                    p = Zi(h, c, m),
                    0 === f && a[a.length - 2] === d && a[a.length - 1] === p || a.push(d, p);
                return a
            }
            var to = {
                build: function(t) {
                    if (bo.nextRoundedRectBehavior)
                        Ji.build(t);
                    else {
                        var e = t.shape
                          , n = t.points
                          , r = e.x
                          , i = e.y
                          , o = e.width
                          , s = e.height
                          , a = Math.max(0, Math.min(e.radius, Math.min(o, s) / 2));
                        n.length = 0,
                        a ? (Qi(r, i + a, r, i, r + a, i, n),
                        Qi(r + o - a, i, r + o, i, r + o, i + a, n),
                        Qi(r + o, i + s - a, r + o, i + s, r + o - a, i + s, n),
                        Qi(r + a, i + s, r, i + s, r, i + s - a, n)) : n.push(r, i, r + o, i, r + o, i + s, r, i + s)
                    }
                },
                triangulate: function(t, e) {
                    if (bo.nextRoundedRectBehavior)
                        Ji.triangulate(t, e);
                    else {
                        for (var n = t.points, r = e.points, i = e.indices, o = r.length / 2, s = ut(n, null, 2), a = 0, u = s.length; a < u; a += 3)
                            i.push(s[a] + o),
                            i.push(s[a + 1] + o),
                            i.push(s[a + 2] + o);
                        for (a = 0,
                        u = n.length; a < u; a++)
                            r.push(n[a], n[++a])
                    }
                }
            };
            function eo(t, e, n, r, i, o, s, a) {
                var u, h;
                s ? (u = r,
                h = -n) : (u = -r,
                h = n);
                var l = t - n * i + u
                  , c = e - r * i + h
                  , d = t + n * o + u
                  , p = e + r * o + h;
                return a.push(l, c),
                a.push(d, p),
                2
            }
            function no(t, e, n, r, i, o, s, a) {
                var u = n - t
                  , h = r - e
                  , l = Math.atan2(u, h)
                  , c = Math.atan2(i - t, o - e);
                a && l < c ? l += 2 * Math.PI : !a && l > c && (c += 2 * Math.PI);
                var d = l
                  , p = c - l
                  , f = Math.abs(p)
                  , m = Math.sqrt(u * u + h * h)
                  , _ = 1 + (15 * f * Math.sqrt(m) / Math.PI >> 0)
                  , v = p / _;
                if (d += v,
                a) {
                    s.push(t, e),
                    s.push(n, r);
                    for (var g = 1, y = d; g < _; g++,
                    y += v)
                        s.push(t, e),
                        s.push(t + Math.sin(y) * m, e + Math.cos(y) * m);
                    s.push(t, e),
                    s.push(i, o)
                } else {
                    for (s.push(n, r),
                    s.push(t, e),
                    g = 1,
                    y = d; g < _; g++,
                    y += v)
                        s.push(t + Math.sin(y) * m, e + Math.cos(y) * m),
                        s.push(t, e);
                    s.push(i, o),
                    s.push(t, e)
                }
                return 2 * _
            }
            function ro(t, e) {
                t.lineStyle.native ? function(t, e) {
                    var n = 0
                      , r = t.shape
                      , i = t.points || r.points
                      , o = r.type !== Ft.POLY || r.closeStroke;
                    if (0 !== i.length) {
                        var s = e.points
                          , a = e.indices
                          , u = i.length / 2
                          , h = s.length / 2
                          , l = h;
                        for (s.push(i[0], i[1]),
                        n = 1; n < u; n++)
                            s.push(i[2 * n], i[2 * n + 1]),
                            a.push(l, l + 1),
                            l++;
                        o && a.push(l, h)
                    }
                }(t, e) : function(t, e) {
                    var n = t.shape
                      , r = t.points || n.points.slice()
                      , i = e.closePointEps;
                    if (0 !== r.length) {
                        var o = t.lineStyle
                          , s = new Xt(r[0],r[1])
                          , a = new Xt(r[r.length - 2],r[r.length - 1])
                          , u = n.type !== Ft.POLY || n.closeStroke
                          , h = Math.abs(s.x - a.x) < i && Math.abs(s.y - a.y) < i;
                        if (u) {
                            r = r.slice(),
                            h && (r.pop(),
                            r.pop(),
                            a.set(r[r.length - 2], r[r.length - 1]));
                            var l = .5 * (s.x + a.x)
                              , c = .5 * (a.y + s.y);
                            r.unshift(l, c),
                            r.push(l, c)
                        }
                        var d = e.points
                          , p = r.length / 2
                          , f = r.length
                          , m = d.length / 2
                          , _ = o.width / 2
                          , v = _ * _
                          , g = o.miterLimit * o.miterLimit
                          , y = r[0]
                          , b = r[1]
                          , x = r[2]
                          , T = r[3]
                          , E = 0
                          , A = 0
                          , S = -(b - T)
                          , w = y - x
                          , R = 0
                          , O = 0
                          , I = Math.sqrt(S * S + w * w);
                        S /= I,
                        w /= I,
                        S *= _,
                        w *= _;
                        var C = o.alignment
                          , D = 2 * (1 - C)
                          , M = 2 * C;
                        u || (o.cap === Hi.ROUND ? f += no(y - S * (D - M) * .5, b - w * (D - M) * .5, y - S * D, b - w * D, y + S * M, b + w * M, d, !0) + 2 : o.cap === Hi.SQUARE && (f += eo(y, b, S, w, D, M, !0, d))),
                        d.push(y - S * D, b - w * D),
                        d.push(y + S * M, b + w * M);
                        for (var P = 1; P < p - 1; ++P) {
                            y = r[2 * (P - 1)],
                            b = r[2 * (P - 1) + 1],
                            x = r[2 * P],
                            T = r[2 * P + 1],
                            E = r[2 * (P + 1)],
                            A = r[2 * (P + 1) + 1],
                            S = -(b - T),
                            w = y - x,
                            S /= I = Math.sqrt(S * S + w * w),
                            w /= I,
                            S *= _,
                            w *= _,
                            R = -(T - A),
                            O = x - E,
                            R /= I = Math.sqrt(R * R + O * O),
                            O /= I,
                            R *= _,
                            O *= _;
                            var N = x - y
                              , B = b - T
                              , L = x - E
                              , F = A - T
                              , G = N * L + B * F
                              , k = B * L - F * N
                              , U = k < 0;
                            if (Math.abs(k) < .001 * Math.abs(G))
                                d.push(x - S * D, T - w * D),
                                d.push(x + S * M, T + w * M),
                                G >= 0 && (o.join === Xi.ROUND ? f += no(x, T, x - S * D, T - w * D, x - R * D, T - O * D, d, !1) + 4 : f += 2,
                                d.push(x - R * M, T - O * M),
                                d.push(x + R * D, T + O * D));
                            else {
                                var X = (-S + y) * (-w + T) - (-S + x) * (-w + b)
                                  , H = (-R + E) * (-O + T) - (-R + x) * (-O + A)
                                  , j = (N * H - L * X) / k
                                  , $ = (F * X - B * H) / k
                                  , W = (j - x) * (j - x) + ($ - T) * ($ - T)
                                  , V = x + (j - x) * D
                                  , Y = T + ($ - T) * D
                                  , z = x - (j - x) * M
                                  , q = T - ($ - T) * M
                                  , K = U ? D : M;
                                W <= Math.min(N * N + B * B, L * L + F * F) + K * K * v ? o.join === Xi.BEVEL || W / v > g ? (U ? (d.push(V, Y),
                                d.push(x + S * M, T + w * M),
                                d.push(V, Y),
                                d.push(x + R * M, T + O * M)) : (d.push(x - S * D, T - w * D),
                                d.push(z, q),
                                d.push(x - R * D, T - O * D),
                                d.push(z, q)),
                                f += 2) : o.join === Xi.ROUND ? U ? (d.push(V, Y),
                                d.push(x + S * M, T + w * M),
                                f += no(x, T, x + S * M, T + w * M, x + R * M, T + O * M, d, !0) + 4,
                                d.push(V, Y),
                                d.push(x + R * M, T + O * M)) : (d.push(x - S * D, T - w * D),
                                d.push(z, q),
                                f += no(x, T, x - S * D, T - w * D, x - R * D, T - O * D, d, !1) + 4,
                                d.push(x - R * D, T - O * D),
                                d.push(z, q)) : (d.push(V, Y),
                                d.push(z, q)) : (d.push(x - S * D, T - w * D),
                                d.push(x + S * M, T + w * M),
                                o.join === Xi.ROUND ? f += U ? no(x, T, x + S * M, T + w * M, x + R * M, T + O * M, d, !0) + 2 : no(x, T, x - S * D, T - w * D, x - R * D, T - O * D, d, !1) + 2 : o.join === Xi.MITER && W / v <= g && (U ? (d.push(z, q),
                                d.push(z, q)) : (d.push(V, Y),
                                d.push(V, Y)),
                                f += 2),
                                d.push(x - R * D, T - O * D),
                                d.push(x + R * M, T + O * M),
                                f += 2)
                            }
                        }
                        y = r[2 * (p - 2)],
                        b = r[2 * (p - 2) + 1],
                        x = r[2 * (p - 1)],
                        S = -(b - (T = r[2 * (p - 1) + 1])),
                        w = y - x,
                        S /= I = Math.sqrt(S * S + w * w),
                        w /= I,
                        S *= _,
                        w *= _,
                        d.push(x - S * D, T - w * D),
                        d.push(x + S * M, T + w * M),
                        u || (o.cap === Hi.ROUND ? f += no(x - S * (D - M) * .5, T - w * (D - M) * .5, x - S * D, T - w * D, x + S * M, T + w * M, d, !1) + 2 : o.cap === Hi.SQUARE && (f += eo(x, T, S, w, D, M, !1, d)));
                        var J = e.indices
                          , Z = Wi.epsilon * Wi.epsilon;
                        for (P = m; P < f + m - 2; ++P)
                            y = d[2 * P],
                            b = d[2 * P + 1],
                            x = d[2 * (P + 1)],
                            T = d[2 * (P + 1) + 1],
                            E = d[2 * (P + 2)],
                            A = d[2 * (P + 2) + 1],
                            Math.abs(y * (T - A) + x * (A - b) + E * (b - T)) < Z || J.push(P, P + 1, P + 2)
                    }
                }(t, e)
            }
            var io, oo, so = function() {
                function t() {}
                return t.curveTo = function(t, e, n, r, i, o) {
                    var s = o[o.length - 2]
                      , a = o[o.length - 1] - e
                      , u = s - t
                      , h = r - e
                      , l = n - t
                      , c = Math.abs(a * l - u * h);
                    if (c < 1e-8 || 0 === i)
                        return o[o.length - 2] === t && o[o.length - 1] === e || o.push(t, e),
                        null;
                    var d = a * a + u * u
                      , p = h * h + l * l
                      , f = a * h + u * l
                      , m = i * Math.sqrt(d) / c
                      , _ = i * Math.sqrt(p) / c
                      , v = m * f / d
                      , g = _ * f / p
                      , y = m * l + _ * u
                      , b = m * h + _ * a
                      , x = u * (_ + v)
                      , T = a * (_ + v)
                      , E = l * (m + g)
                      , A = h * (m + g);
                    return {
                        cx: y + t,
                        cy: b + e,
                        radius: i,
                        startAngle: Math.atan2(T - b, x - y),
                        endAngle: Math.atan2(A - b, E - y),
                        anticlockwise: u * h > l * a
                    }
                }
                ,
                t.arc = function(t, e, n, r, i, o, s, a, u) {
                    for (var h = s - o, l = Wi._segmentsCount(Math.abs(h) * i, 40 * Math.ceil(Math.abs(h) / Gt)), c = h / (2 * l), d = 2 * c, p = Math.cos(c), f = Math.sin(c), m = l - 1, _ = m % 1 / m, v = 0; v <= m; ++v) {
                        var g = c + o + d * (v + _ * v)
                          , y = Math.cos(g)
                          , b = -Math.sin(g);
                        u.push((p * y + f * b) * i + n, (p * -b + f * y) * i + r)
                    }
                }
                ,
                t
            }(), ao = function() {
                function t() {}
                return t.curveLength = function(t, e, n, r, i, o, s, a) {
                    for (var u = 0, h = 0, l = 0, c = 0, d = 0, p = 0, f = 0, m = 0, _ = 0, v = 0, g = 0, y = t, b = e, x = 1; x <= 10; ++x)
                        v = y - (m = (f = (p = (d = 1 - (h = x / 10)) * d) * d) * t + 3 * p * h * n + 3 * d * (l = h * h) * i + (c = l * h) * s),
                        g = b - (_ = f * e + 3 * p * h * r + 3 * d * l * o + c * a),
                        y = m,
                        b = _,
                        u += Math.sqrt(v * v + g * g);
                    return u
                }
                ,
                t.curveTo = function(e, n, r, i, o, s, a) {
                    var u = a[a.length - 2]
                      , h = a[a.length - 1];
                    a.length -= 2;
                    var l = Wi._segmentsCount(t.curveLength(u, h, e, n, r, i, o, s))
                      , c = 0
                      , d = 0
                      , p = 0
                      , f = 0
                      , m = 0;
                    a.push(u, h);
                    for (var _ = 1, v = 0; _ <= l; ++_)
                        p = (d = (c = 1 - (v = _ / l)) * c) * c,
                        m = (f = v * v) * v,
                        a.push(p * u + 3 * d * v * e + 3 * c * f * r + m * o, p * h + 3 * d * v * n + 3 * c * f * i + m * s)
                }
                ,
                t
            }(), uo = function() {
                function t() {}
                return t.curveLength = function(t, e, n, r, i, o) {
                    var s = t - 2 * n + i
                      , a = e - 2 * r + o
                      , u = 2 * n - 2 * t
                      , h = 2 * r - 2 * e
                      , l = 4 * (s * s + a * a)
                      , c = 4 * (s * u + a * h)
                      , d = u * u + h * h
                      , p = 2 * Math.sqrt(l + c + d)
                      , f = Math.sqrt(l)
                      , m = 2 * l * f
                      , _ = 2 * Math.sqrt(d)
                      , v = c / f;
                    return (m * p + f * c * (p - _) + (4 * d * l - c * c) * Math.log((2 * f + v + p) / (v + _))) / (4 * m)
                }
                ,
                t.curveTo = function(e, n, r, i, o) {
                    for (var s = o[o.length - 2], a = o[o.length - 1], u = Wi._segmentsCount(t.curveLength(s, a, e, n, r, i)), h = 0, l = 0, c = 1; c <= u; ++c) {
                        var d = c / u;
                        h = s + (e - s) * d,
                        l = a + (n - a) * d,
                        o.push(h + (e + (r - e) * d - h) * d, l + (n + (i - n) * d - l) * d)
                    }
                }
                ,
                t
            }(), ho = function() {
                function t() {
                    this.reset()
                }
                return t.prototype.begin = function(t, e, n) {
                    this.reset(),
                    this.style = t,
                    this.start = e,
                    this.attribStart = n
                }
                ,
                t.prototype.end = function(t, e) {
                    this.attribSize = e - this.attribStart,
                    this.size = t - this.start
                }
                ,
                t.prototype.reset = function() {
                    this.style = null,
                    this.size = 0,
                    this.start = 0,
                    this.attribStart = 0,
                    this.attribSize = 0
                }
                ,
                t
            }(), lo = ((io = {})[Ft.POLY] = Ki,
            io[Ft.CIRC] = Ji,
            io[Ft.ELIP] = Ji,
            io[Ft.RECT] = {
                build: function(t) {
                    var e = t.shape
                      , n = e.x
                      , r = e.y
                      , i = e.width
                      , o = e.height
                      , s = t.points;
                    s.length = 0,
                    s.push(n, r, n + i, r, n + i, r + o, n, r + o)
                },
                triangulate: function(t, e) {
                    var n = t.points
                      , r = e.points
                      , i = r.length / 2;
                    r.push(n[0], n[1], n[2], n[3], n[6], n[7], n[4], n[5]),
                    e.indices.push(i, i + 1, i + 2, i + 1, i + 2, i + 3)
                }
            },
            io[Ft.RREC] = to,
            io), co = [], po = [], fo = function() {
                function t(t, e, n, r) {
                    void 0 === e && (e = null),
                    void 0 === n && (n = null),
                    void 0 === r && (r = null),
                    this.points = [],
                    this.holes = [],
                    this.shape = t,
                    this.lineStyle = n,
                    this.fillStyle = e,
                    this.matrix = r,
                    this.type = t.type
                }
                return t.prototype.clone = function() {
                    return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)
                }
                ,
                t.prototype.destroy = function() {
                    this.shape = null,
                    this.holes.length = 0,
                    this.holes = null,
                    this.points.length = 0,
                    this.points = null,
                    this.lineStyle = null,
                    this.fillStyle = null
                }
                ,
                t
            }(), mo = new Xt, _o = function(t) {
                function e() {
                    var e = t.call(this) || this;
                    return e.closePointEps = 1e-4,
                    e.boundsPadding = 0,
                    e.uvsFloat32 = null,
                    e.indicesUint16 = null,
                    e.batchable = !1,
                    e.points = [],
                    e.colors = [],
                    e.uvs = [],
                    e.indices = [],
                    e.textureIds = [],
                    e.graphicsData = [],
                    e.drawCalls = [],
                    e.batchDirty = -1,
                    e.batches = [],
                    e.dirty = 0,
                    e.cacheDirty = -1,
                    e.clearDirty = 0,
                    e.shapeIndex = 0,
                    e._bounds = new oe,
                    e.boundsDirty = -1,
                    e
                }
                return zi(e, t),
                Object.defineProperty(e.prototype, "bounds", {
                    get: function() {
                        return this.updateBatches(),
                        this.boundsDirty !== this.dirty && (this.boundsDirty = this.dirty,
                        this.calculateBounds()),
                        this._bounds
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.invalidate = function() {
                    this.boundsDirty = -1,
                    this.dirty++,
                    this.batchDirty++,
                    this.shapeIndex = 0,
                    this.points.length = 0,
                    this.colors.length = 0,
                    this.uvs.length = 0,
                    this.indices.length = 0,
                    this.textureIds.length = 0;
                    for (var t = 0; t < this.drawCalls.length; t++)
                        this.drawCalls[t].texArray.clear(),
                        po.push(this.drawCalls[t]);
                    for (this.drawCalls.length = 0,
                    t = 0; t < this.batches.length; t++) {
                        var e = this.batches[t];
                        e.reset(),
                        co.push(e)
                    }
                    this.batches.length = 0
                }
                ,
                e.prototype.clear = function() {
                    return this.graphicsData.length > 0 && (this.invalidate(),
                    this.clearDirty++,
                    this.graphicsData.length = 0),
                    this
                }
                ,
                e.prototype.drawShape = function(t, e, n, r) {
                    void 0 === e && (e = null),
                    void 0 === n && (n = null),
                    void 0 === r && (r = null);
                    var i = new fo(t,e,n,r);
                    return this.graphicsData.push(i),
                    this.dirty++,
                    this
                }
                ,
                e.prototype.drawHole = function(t, e) {
                    if (void 0 === e && (e = null),
                    !this.graphicsData.length)
                        return null;
                    var n = new fo(t,null,null,e)
                      , r = this.graphicsData[this.graphicsData.length - 1];
                    return n.lineStyle = r.lineStyle,
                    r.holes.push(n),
                    this.dirty++,
                    this
                }
                ,
                e.prototype.destroy = function() {
                    t.prototype.destroy.call(this);
                    for (var e = 0; e < this.graphicsData.length; ++e)
                        this.graphicsData[e].destroy();
                    this.points.length = 0,
                    this.points = null,
                    this.colors.length = 0,
                    this.colors = null,
                    this.uvs.length = 0,
                    this.uvs = null,
                    this.indices.length = 0,
                    this.indices = null,
                    this.indexBuffer.destroy(),
                    this.indexBuffer = null,
                    this.graphicsData.length = 0,
                    this.graphicsData = null,
                    this.drawCalls.length = 0,
                    this.drawCalls = null,
                    this.batches.length = 0,
                    this.batches = null,
                    this._bounds = null
                }
                ,
                e.prototype.containsPoint = function(t) {
                    for (var e = this.graphicsData, n = 0; n < e.length; ++n) {
                        var r = e[n];
                        if (r.fillStyle.visible && r.shape && (r.matrix ? r.matrix.applyInverse(t, mo) : mo.copyFrom(t),
                        r.shape.contains(mo.x, mo.y))) {
                            var i = !1;
                            if (r.holes)
                                for (var o = 0; o < r.holes.length; o++)
                                    if (r.holes[o].shape.contains(mo.x, mo.y)) {
                                        i = !0;
                                        break
                                    }
                            if (!i)
                                return !0
                        }
                    }
                    return !1
                }
                ,
                e.prototype.updateBatches = function() {
                    if (this.graphicsData.length) {
                        if (this.validateBatching()) {
                            this.cacheDirty = this.dirty;
                            var t = this.uvs
                              , e = this.graphicsData
                              , n = null
                              , r = null;
                            this.batches.length > 0 && (r = (n = this.batches[this.batches.length - 1]).style);
                            for (var i = this.shapeIndex; i < e.length; i++) {
                                this.shapeIndex++;
                                var o = e[i]
                                  , s = o.fillStyle
                                  , a = o.lineStyle;
                                lo[o.type].build(o),
                                o.matrix && this.transformPoints(o.points, o.matrix),
                                (s.visible || a.visible) && this.processHoles(o.holes);
                                for (var u = 0; u < 2; u++) {
                                    var h = 0 === u ? s : a;
                                    if (h.visible) {
                                        var l = h.texture.baseTexture
                                          , c = this.indices.length
                                          , d = this.points.length / 2;
                                        l.wrapMode = R.REPEAT,
                                        0 === u ? this.processFill(o) : this.processLine(o);
                                        var p = this.points.length / 2 - d;
                                        0 !== p && (n && !this._compareStyles(r, h) && (n.end(c, d),
                                        n = null),
                                        n || ((n = co.pop() || new ho).begin(h, c, d),
                                        this.batches.push(n),
                                        r = h),
                                        this.addUvs(this.points, t, h.texture, d, p, h.matrix))
                                    }
                                }
                            }
                            var f = this.indices.length
                              , m = this.points.length / 2;
                            if (n && n.end(f, m),
                            0 !== this.batches.length) {
                                var _ = m > 65535;
                                this.indicesUint16 && this.indices.length === this.indicesUint16.length && _ === this.indicesUint16.BYTES_PER_ELEMENT > 2 ? this.indicesUint16.set(this.indices) : this.indicesUint16 = _ ? new Uint32Array(this.indices) : new Uint16Array(this.indices),
                                this.batchable = this.isBatchable(),
                                this.batchable ? this.packBatches() : this.buildDrawCalls()
                            } else
                                this.batchable = !0
                        }
                    } else
                        this.batchable = !0
                }
                ,
                e.prototype._compareStyles = function(t, e) {
                    return !(!t || !e) && t.texture.baseTexture === e.texture.baseTexture && t.color + t.alpha === e.color + e.alpha && !!t.native == !!e.native
                }
                ,
                e.prototype.validateBatching = function() {
                    if (this.dirty === this.cacheDirty || !this.graphicsData.length)
                        return !1;
                    for (var t = 0, e = this.graphicsData.length; t < e; t++) {
                        var n = this.graphicsData[t]
                          , r = n.fillStyle
                          , i = n.lineStyle;
                        if (r && !r.texture.baseTexture.valid)
                            return !1;
                        if (i && !i.texture.baseTexture.valid)
                            return !1
                    }
                    return !0
                }
                ,
                e.prototype.packBatches = function() {
                    this.batchDirty++,
                    this.uvsFloat32 = new Float32Array(this.uvs);
                    for (var t = this.batches, e = 0, n = t.length; e < n; e++)
                        for (var r = t[e], i = 0; i < r.size; i++) {
                            var o = r.start + i;
                            this.indicesUint16[o] = this.indicesUint16[o] - r.attribStart
                        }
                }
                ,
                e.prototype.isBatchable = function() {
                    if (this.points.length > 131070)
                        return !1;
                    for (var t = this.batches, n = 0; n < t.length; n++)
                        if (t[n].style.native)
                            return !1;
                    return this.points.length < 2 * e.BATCHABLE_SIZE
                }
                ,
                e.prototype.buildDrawCalls = function() {
                    for (var t = ++Ie._globalBatch, e = 0; e < this.drawCalls.length; e++)
                        this.drawCalls[e].texArray.clear(),
                        po.push(this.drawCalls[e]);
                    this.drawCalls.length = 0;
                    var n = this.colors
                      , r = this.textureIds
                      , i = po.pop();
                    i || ((i = new Ar).texArray = new Sr),
                    i.texArray.count = 0,
                    i.start = 0,
                    i.size = 0,
                    i.type = x.TRIANGLES;
                    var o = 0
                      , s = null
                      , a = 0
                      , u = !1
                      , h = x.TRIANGLES
                      , l = 0;
                    for (this.drawCalls.push(i),
                    e = 0; e < this.batches.length; e++) {
                        var c = this.batches[e]
                          , d = c.style
                          , p = d.texture.baseTexture;
                        u !== !!d.native && (h = (u = !!d.native) ? x.LINES : x.TRIANGLES,
                        s = null,
                        o = 8,
                        t++),
                        s !== p && (s = p,
                        p._batchEnabled !== t && (8 === o && (t++,
                        o = 0,
                        i.size > 0 && ((i = po.pop()) || ((i = new Ar).texArray = new Sr),
                        this.drawCalls.push(i)),
                        i.start = l,
                        i.size = 0,
                        i.texArray.count = 0,
                        i.type = h),
                        p.touched = 1,
                        p._batchEnabled = t,
                        p._batchLocation = o,
                        p.wrapMode = R.REPEAT,
                        i.texArray.elements[i.texArray.count++] = p,
                        o++)),
                        i.size += c.size,
                        l += c.size,
                        a = p._batchLocation,
                        this.addColors(n, d.color, d.alpha, c.attribSize, c.attribStart),
                        this.addTextureIds(r, a, c.attribSize, c.attribStart)
                    }
                    Ie._globalBatch = t,
                    this.packAttributes()
                }
                ,
                e.prototype.packAttributes = function() {
                    for (var t = this.points, e = this.uvs, n = this.colors, r = this.textureIds, i = new ArrayBuffer(3 * t.length * 4), o = new Float32Array(i), s = new Uint32Array(i), a = 0, u = 0; u < t.length / 2; u++)
                        o[a++] = t[2 * u],
                        o[a++] = t[2 * u + 1],
                        o[a++] = e[2 * u],
                        o[a++] = e[2 * u + 1],
                        s[a++] = n[u],
                        o[a++] = r[u];
                    this._buffer.update(i),
                    this._indexBuffer.update(this.indicesUint16)
                }
                ,
                e.prototype.processFill = function(t) {
                    t.holes.length ? Ki.triangulate(t, this) : lo[t.type].triangulate(t, this)
                }
                ,
                e.prototype.processLine = function(t) {
                    ro(t, this);
                    for (var e = 0; e < t.holes.length; e++)
                        ro(t.holes[e], this)
                }
                ,
                e.prototype.processHoles = function(t) {
                    for (var e = 0; e < t.length; e++) {
                        var n = t[e];
                        lo[n.type].build(n),
                        n.matrix && this.transformPoints(n.points, n.matrix)
                    }
                }
                ,
                e.prototype.calculateBounds = function() {
                    var t = this._bounds;
                    t.clear(),
                    t.addVertexData(this.points, 0, this.points.length),
                    t.pad(this.boundsPadding, this.boundsPadding)
                }
                ,
                e.prototype.transformPoints = function(t, e) {
                    for (var n = 0; n < t.length / 2; n++) {
                        var r = t[2 * n]
                          , i = t[2 * n + 1];
                        t[2 * n] = e.a * r + e.c * i + e.tx,
                        t[2 * n + 1] = e.b * r + e.d * i + e.ty
                    }
                }
                ,
                e.prototype.addColors = function(t, e, n, r, i) {
                    void 0 === i && (i = 0);
                    var o = yt((e >> 16) + (65280 & e) + ((255 & e) << 16), n);
                    t.length = Math.max(t.length, i + r);
                    for (var s = 0; s < r; s++)
                        t[i + s] = o
                }
                ,
                e.prototype.addTextureIds = function(t, e, n, r) {
                    void 0 === r && (r = 0),
                    t.length = Math.max(t.length, r + n);
                    for (var i = 0; i < n; i++)
                        t[r + i] = e
                }
                ,
                e.prototype.addUvs = function(t, e, n, r, i, o) {
                    void 0 === o && (o = null);
                    for (var s = 0, a = e.length, u = n.frame; s < i; ) {
                        var h = t[2 * (r + s)]
                          , l = t[2 * (r + s) + 1];
                        if (o) {
                            var c = o.a * h + o.c * l + o.tx;
                            l = o.b * h + o.d * l + o.ty,
                            h = c
                        }
                        s++,
                        e.push(h / u.width, l / u.height)
                    }
                    var d = n.baseTexture;
                    (u.width < d.width || u.height < d.height) && this.adjustUvs(e, n, a, i)
                }
                ,
                e.prototype.adjustUvs = function(t, e, n, r) {
                    for (var i = e.baseTexture, o = 1e-6, s = n + 2 * r, a = e.frame, u = a.width / i.width, h = a.height / i.height, l = a.x / a.width, c = a.y / a.height, d = Math.floor(t[n] + o), p = Math.floor(t[n + 1] + o), f = n + 2; f < s; f += 2)
                        d = Math.min(d, Math.floor(t[f] + o)),
                        p = Math.min(p, Math.floor(t[f + 1] + o));
                    for (l -= d,
                    c -= p,
                    f = n; f < s; f += 2)
                        t[f] = (t[f] + l) * u,
                        t[f + 1] = (t[f + 1] + c) * h
                }
                ,
                e.BATCHABLE_SIZE = 100,
                e
            }(Ir), vo = function(t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.width = 0,
                    e.alignment = .5,
                    e.native = !1,
                    e.cap = Hi.BUTT,
                    e.join = Xi.MITER,
                    e.miterLimit = 10,
                    e
                }
                return zi(e, t),
                e.prototype.clone = function() {
                    var t = new e;
                    return t.color = this.color,
                    t.alpha = this.alpha,
                    t.texture = this.texture,
                    t.matrix = this.matrix,
                    t.visible = this.visible,
                    t.width = this.width,
                    t.alignment = this.alignment,
                    t.native = this.native,
                    t.cap = this.cap,
                    t.join = this.join,
                    t.miterLimit = this.miterLimit,
                    t
                }
                ,
                e.prototype.reset = function() {
                    t.prototype.reset.call(this),
                    this.color = 0,
                    this.alignment = .5,
                    this.width = 0,
                    this.native = !1
                }
                ,
                e
            }(Vi), go = new Float32Array(3), yo = {}, bo = function(t) {
                function e(e) {
                    void 0 === e && (e = null);
                    var n = t.call(this) || this;
                    return n.shader = null,
                    n.pluginName = "batch",
                    n.currentPath = null,
                    n.batches = [],
                    n.batchTint = -1,
                    n.batchDirty = -1,
                    n.vertexData = null,
                    n._fillStyle = new Vi,
                    n._lineStyle = new vo,
                    n._matrix = null,
                    n._holeMode = !1,
                    n.state = Wn.for2d(),
                    n._geometry = e || new _o,
                    n._geometry.refCount++,
                    n._transformID = -1,
                    n.tint = 16777215,
                    n.blendMode = b.NORMAL,
                    n
                }
                return zi(e, t),
                Object.defineProperty(e.prototype, "geometry", {
                    get: function() {
                        return this._geometry
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.clone = function() {
                    return this.finishPoly(),
                    new e(this._geometry)
                }
                ,
                Object.defineProperty(e.prototype, "blendMode", {
                    get: function() {
                        return this.state.blendMode
                    },
                    set: function(t) {
                        this.state.blendMode = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "tint", {
                    get: function() {
                        return this._tint
                    },
                    set: function(t) {
                        this._tint = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "fill", {
                    get: function() {
                        return this._fillStyle
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "line", {
                    get: function() {
                        return this._lineStyle
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.lineStyle = function(t, e, n, r, i) {
                    return void 0 === t && (t = null),
                    void 0 === e && (e = 0),
                    void 0 === n && (n = 1),
                    void 0 === r && (r = .5),
                    void 0 === i && (i = !1),
                    "number" == typeof t && (t = {
                        width: t,
                        color: e,
                        alpha: n,
                        alignment: r,
                        native: i
                    }),
                    this.lineTextureStyle(t)
                }
                ,
                e.prototype.lineTextureStyle = function(t) {
                    t = Object.assign({
                        width: 0,
                        texture: Ve.WHITE,
                        color: t && t.texture ? 16777215 : 0,
                        alpha: 1,
                        matrix: null,
                        alignment: .5,
                        native: !1,
                        cap: Hi.BUTT,
                        join: Xi.MITER,
                        miterLimit: 10
                    }, t),
                    this.currentPath && this.startPoly();
                    var e = t.width > 0 && t.alpha > 0;
                    return e ? (t.matrix && (t.matrix = t.matrix.clone(),
                    t.matrix.invert()),
                    Object.assign(this._lineStyle, {
                        visible: e
                    }, t)) : this._lineStyle.reset(),
                    this
                }
                ,
                e.prototype.startPoly = function() {
                    if (this.currentPath) {
                        var t = this.currentPath.points
                          , e = this.currentPath.points.length;
                        e > 2 && (this.drawShape(this.currentPath),
                        this.currentPath = new Vt,
                        this.currentPath.closeStroke = !1,
                        this.currentPath.points.push(t[e - 2], t[e - 1]))
                    } else
                        this.currentPath = new Vt,
                        this.currentPath.closeStroke = !1
                }
                ,
                e.prototype.finishPoly = function() {
                    this.currentPath && (this.currentPath.points.length > 2 ? (this.drawShape(this.currentPath),
                    this.currentPath = null) : this.currentPath.points.length = 0)
                }
                ,
                e.prototype.moveTo = function(t, e) {
                    return this.startPoly(),
                    this.currentPath.points[0] = t,
                    this.currentPath.points[1] = e,
                    this
                }
                ,
                e.prototype.lineTo = function(t, e) {
                    this.currentPath || this.moveTo(0, 0);
                    var n = this.currentPath.points
                      , r = n[n.length - 2]
                      , i = n[n.length - 1];
                    return r === t && i === e || n.push(t, e),
                    this
                }
                ,
                e.prototype._initCurve = function(t, e) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = 0),
                    this.currentPath ? 0 === this.currentPath.points.length && (this.currentPath.points = [t, e]) : this.moveTo(t, e)
                }
                ,
                e.prototype.quadraticCurveTo = function(t, e, n, r) {
                    this._initCurve();
                    var i = this.currentPath.points;
                    return 0 === i.length && this.moveTo(0, 0),
                    uo.curveTo(t, e, n, r, i),
                    this
                }
                ,
                e.prototype.bezierCurveTo = function(t, e, n, r, i, o) {
                    return this._initCurve(),
                    ao.curveTo(t, e, n, r, i, o, this.currentPath.points),
                    this
                }
                ,
                e.prototype.arcTo = function(t, e, n, r, i) {
                    this._initCurve(t, e);
                    var o = this.currentPath.points
                      , s = so.curveTo(t, e, n, r, i, o);
                    if (s) {
                        var a = s.cx
                          , u = s.cy
                          , h = s.radius
                          , l = s.startAngle
                          , c = s.endAngle
                          , d = s.anticlockwise;
                        this.arc(a, u, h, l, c, d)
                    }
                    return this
                }
                ,
                e.prototype.arc = function(t, e, n, r, i, o) {
                    if (void 0 === o && (o = !1),
                    r === i)
                        return this;
                    if (!o && i <= r ? i += Gt : o && r <= i && (r += Gt),
                    0 == i - r)
                        return this;
                    var s = t + Math.cos(r) * n
                      , a = e + Math.sin(r) * n
                      , u = this._geometry.closePointEps
                      , h = this.currentPath ? this.currentPath.points : null;
                    if (h) {
                        var l = Math.abs(h[h.length - 2] - s)
                          , c = Math.abs(h[h.length - 1] - a);
                        l < u && c < u || h.push(s, a)
                    } else
                        this.moveTo(s, a),
                        h = this.currentPath.points;
                    return so.arc(s, a, t, e, n, r, i, o, h),
                    this
                }
                ,
                e.prototype.beginFill = function(t, e) {
                    return void 0 === t && (t = 0),
                    void 0 === e && (e = 1),
                    this.beginTextureFill({
                        texture: Ve.WHITE,
                        color: t,
                        alpha: e
                    })
                }
                ,
                e.prototype.beginTextureFill = function(t) {
                    t = Object.assign({
                        texture: Ve.WHITE,
                        color: 16777215,
                        alpha: 1,
                        matrix: null
                    }, t),
                    this.currentPath && this.startPoly();
                    var e = t.alpha > 0;
                    return e ? (t.matrix && (t.matrix = t.matrix.clone(),
                    t.matrix.invert()),
                    Object.assign(this._fillStyle, {
                        visible: e
                    }, t)) : this._fillStyle.reset(),
                    this
                }
                ,
                e.prototype.endFill = function() {
                    return this.finishPoly(),
                    this._fillStyle.reset(),
                    this
                }
                ,
                e.prototype.drawRect = function(t, e, n, r) {
                    return this.drawShape(new jt(t,e,n,r))
                }
                ,
                e.prototype.drawRoundedRect = function(t, e, n, r, i) {
                    return this.drawShape(new Yt(t,e,n,r,i))
                }
                ,
                e.prototype.drawCircle = function(t, e, n) {
                    return this.drawShape(new $t(t,e,n))
                }
                ,
                e.prototype.drawEllipse = function(t, e, n, r) {
                    return this.drawShape(new Wt(t,e,n,r))
                }
                ,
                e.prototype.drawPolygon = function() {
                    for (var t, e = arguments, n = [], r = 0; r < arguments.length; r++)
                        n[r] = e[r];
                    var i = !0
                      , o = n[0];
                    o.points ? (i = o.closeStroke,
                    t = o.points) : t = Array.isArray(n[0]) ? n[0] : n;
                    var s = new Vt(t);
                    return s.closeStroke = i,
                    this.drawShape(s),
                    this
                }
                ,
                e.prototype.drawShape = function(t) {
                    return this._holeMode ? this._geometry.drawHole(t, this._matrix) : this._geometry.drawShape(t, this._fillStyle.clone(), this._lineStyle.clone(), this._matrix),
                    this
                }
                ,
                e.prototype.clear = function() {
                    return this._geometry.clear(),
                    this._lineStyle.reset(),
                    this._fillStyle.reset(),
                    this._boundsID++,
                    this._matrix = null,
                    this._holeMode = !1,
                    this.currentPath = null,
                    this
                }
                ,
                e.prototype.isFastRect = function() {
                    var t = this._geometry.graphicsData;
                    return !(1 !== t.length || t[0].shape.type !== Ft.RECT || t[0].matrix || t[0].holes.length || t[0].lineStyle.visible && t[0].lineStyle.width)
                }
                ,
                e.prototype._render = function(t) {
                    this.finishPoly();
                    var e = this._geometry;
                    e.updateBatches(),
                    e.batchable ? (this.batchDirty !== e.batchDirty && this._populateBatches(),
                    this._renderBatched(t)) : (t.batch.flush(),
                    this._renderDirect(t))
                }
                ,
                e.prototype._populateBatches = function() {
                    var t = this._geometry
                      , e = this.blendMode
                      , n = t.batches.length;
                    this.batchTint = -1,
                    this._transformID = -1,
                    this.batchDirty = t.batchDirty,
                    this.batches.length = n,
                    this.vertexData = new Float32Array(t.points);
                    for (var r = 0; r < n; r++) {
                        var i = t.batches[r]
                          , o = i.style.color
                          , s = new Float32Array(this.vertexData.buffer,4 * i.attribStart * 2,2 * i.attribSize)
                          , a = new Float32Array(t.uvsFloat32.buffer,4 * i.attribStart * 2,2 * i.attribSize)
                          , u = {
                            vertexData: s,
                            blendMode: e,
                            indices: new Uint16Array(t.indicesUint16.buffer,2 * i.start,i.size),
                            uvs: a,
                            _batchRGB: ft(o),
                            _tintRGB: o,
                            _texture: i.style.texture,
                            alpha: i.style.alpha,
                            worldAlpha: 1
                        };
                        this.batches[r] = u
                    }
                }
                ,
                e.prototype._renderBatched = function(t) {
                    if (this.batches.length) {
                        t.batch.setObjectRenderer(t.plugins[this.pluginName]),
                        this.calculateVertices(),
                        this.calculateTints();
                        for (var e = 0, n = this.batches.length; e < n; e++) {
                            var r = this.batches[e];
                            r.worldAlpha = this.worldAlpha * r.alpha,
                            t.plugins[this.pluginName].render(r)
                        }
                    }
                }
                ,
                e.prototype._renderDirect = function(t) {
                    var e = this._resolveDirectShader(t)
                      , n = this._geometry
                      , r = this.tint
                      , i = this.worldAlpha
                      , o = e.uniforms
                      , s = n.drawCalls;
                    o.translationMatrix = this.transform.worldTransform,
                    o.tint[0] = (r >> 16 & 255) / 255 * i,
                    o.tint[1] = (r >> 8 & 255) / 255 * i,
                    o.tint[2] = (255 & r) / 255 * i,
                    o.tint[3] = i,
                    t.shader.bind(e),
                    t.geometry.bind(n, e),
                    t.state.set(this.state);
                    for (var a = 0, u = s.length; a < u; a++)
                        this._renderDrawCallDirect(t, n.drawCalls[a])
                }
                ,
                e.prototype._renderDrawCallDirect = function(t, e) {
                    for (var n = e.texArray, r = e.type, i = e.size, o = e.start, s = n.count, a = 0; a < s; a++)
                        t.texture.bind(n.elements[a], a);
                    t.geometry.draw(r, i, o)
                }
                ,
                e.prototype._resolveDirectShader = function(t) {
                    var e = this.shader
                      , n = this.pluginName;
                    if (!e) {
                        if (!yo[n]) {
                            for (var r = t.plugins[n].MAX_TEXTURES, i = new Int32Array(r), o = 0; o < r; o++)
                                i[o] = o;
                            var s = {
                                tint: new Float32Array([1, 1, 1, 1]),
                                translationMatrix: new qt,
                                default: an.from({
                                    uSamplers: i
                                }, !0)
                            }
                              , a = t.plugins[n]._shader.program;
                            yo[n] = new $n(a,s)
                        }
                        e = yo[n]
                    }
                    return e
                }
                ,
                e.prototype._calculateBounds = function() {
                    this.finishPoly();
                    var t = this._geometry;
                    if (t.graphicsData.length) {
                        var e = t.bounds
                          , n = e.minX
                          , r = e.minY
                          , i = e.maxX
                          , o = e.maxY;
                        this._bounds.addFrame(this.transform, n, r, i, o)
                    }
                }
                ,
                e.prototype.containsPoint = function(t) {
                    return this.worldTransform.applyInverse(t, e._TEMP_POINT),
                    this._geometry.containsPoint(e._TEMP_POINT)
                }
                ,
                e.prototype.calculateTints = function() {
                    if (this.batchTint !== this.tint) {
                        this.batchTint = this.tint;
                        for (var t = ft(this.tint, go), e = 0; e < this.batches.length; e++) {
                            var n = this.batches[e]
                              , r = n._batchRGB
                              , i = (t[0] * r[0] * 255 << 16) + (t[1] * r[1] * 255 << 8) + (0 | t[2] * r[2] * 255);
                            n._tintRGB = (i >> 16) + (65280 & i) + ((255 & i) << 16)
                        }
                    }
                }
                ,
                e.prototype.calculateVertices = function() {
                    var t = this.transform._worldID;
                    if (this._transformID !== t) {
                        this._transformID = t;
                        for (var e = this.transform.worldTransform, n = e.a, r = e.b, i = e.c, o = e.d, s = e.tx, a = e.ty, u = this._geometry.points, h = this.vertexData, l = 0, c = 0; c < u.length; c += 2) {
                            var d = u[c]
                              , p = u[c + 1];
                            h[l++] = n * d + i * p + s,
                            h[l++] = o * p + r * d + a
                        }
                    }
                }
                ,
                e.prototype.closePath = function() {
                    var t = this.currentPath;
                    return t && (t.closeStroke = !0,
                    this.finishPoly()),
                    this
                }
                ,
                e.prototype.setMatrix = function(t) {
                    return this._matrix = t,
                    this
                }
                ,
                e.prototype.beginHole = function() {
                    return this.finishPoly(),
                    this._holeMode = !0,
                    this
                }
                ,
                e.prototype.endHole = function() {
                    return this.finishPoly(),
                    this._holeMode = !1,
                    this
                }
                ,
                e.prototype.destroy = function(e) {
                    this._geometry.refCount--,
                    0 === this._geometry.refCount && this._geometry.dispose(),
                    this._matrix = null,
                    this.currentPath = null,
                    this._lineStyle.destroy(),
                    this._lineStyle = null,
                    this._fillStyle.destroy(),
                    this._fillStyle = null,
                    this._geometry = null,
                    this.shader = null,
                    this.vertexData = null,
                    this.batches.length = 0,
                    this.batches = null,
                    t.prototype.destroy.call(this, e)
                }
                ,
                e.nextRoundedRectBehavior = !1,
                e._TEMP_POINT = new Xt,
                e
            }(ce), xo = function(t, e) {
                return (xo = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            }, To = new Xt, Eo = new Uint16Array([0, 1, 2, 0, 2, 3]), Ao = function(t) {
                function e(e) {
                    var n = t.call(this) || this;
                    return n._anchor = new zt(n._onAnchorUpdate,n,e ? e.defaultAnchor.x : 0,e ? e.defaultAnchor.y : 0),
                    n._texture = null,
                    n._width = 0,
                    n._height = 0,
                    n._tint = null,
                    n._tintRGB = null,
                    n.tint = 16777215,
                    n.blendMode = b.NORMAL,
                    n._cachedTint = 16777215,
                    n.uvs = null,
                    n.texture = e || Ve.EMPTY,
                    n.vertexData = new Float32Array(8),
                    n.vertexTrimmedData = null,
                    n._transformID = -1,
                    n._textureID = -1,
                    n._transformTrimmedID = -1,
                    n._textureTrimmedID = -1,
                    n.indices = Eo,
                    n.pluginName = "batch",
                    n.isSprite = !0,
                    n._roundPixels = st.ROUND_PIXELS,
                    n
                }
                return function(t, e) {
                    function n() {
                        this.constructor = t
                    }
                    xo(t, e),
                    t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                    new n)
                }(e, t),
                e.prototype._onTextureUpdate = function() {
                    this._textureID = -1,
                    this._textureTrimmedID = -1,
                    this._cachedTint = 16777215,
                    this._width && (this.scale.x = wt(this.scale.x) * this._width / this._texture.orig.width),
                    this._height && (this.scale.y = wt(this.scale.y) * this._height / this._texture.orig.height)
                }
                ,
                e.prototype._onAnchorUpdate = function() {
                    this._transformID = -1,
                    this._transformTrimmedID = -1
                }
                ,
                e.prototype.calculateVertices = function() {
                    var t = this._texture;
                    if (this._transformID !== this.transform._worldID || this._textureID !== t._updateID) {
                        this._textureID !== t._updateID && (this.uvs = this._texture._uvs.uvsFloat32),
                        this._transformID = this.transform._worldID,
                        this._textureID = t._updateID;
                        var e = this.transform.worldTransform
                          , n = e.a
                          , r = e.b
                          , i = e.c
                          , o = e.d
                          , s = e.tx
                          , a = e.ty
                          , u = this.vertexData
                          , h = t.trim
                          , l = t.orig
                          , c = this._anchor
                          , d = 0
                          , p = 0
                          , f = 0
                          , m = 0;
                        if (h ? (d = (p = h.x - c._x * l.width) + h.width,
                        f = (m = h.y - c._y * l.height) + h.height) : (d = (p = -c._x * l.width) + l.width,
                        f = (m = -c._y * l.height) + l.height),
                        u[0] = n * p + i * m + s,
                        u[1] = o * m + r * p + a,
                        u[2] = n * d + i * m + s,
                        u[3] = o * m + r * d + a,
                        u[4] = n * d + i * f + s,
                        u[5] = o * f + r * d + a,
                        u[6] = n * p + i * f + s,
                        u[7] = o * f + r * p + a,
                        this._roundPixels)
                            for (var _ = st.RESOLUTION, v = 0; v < u.length; ++v)
                                u[v] = Math.round((u[v] * _ | 0) / _)
                    }
                }
                ,
                e.prototype.calculateTrimmedVertices = function() {
                    if (this.vertexTrimmedData) {
                        if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID)
                            return
                    } else
                        this.vertexTrimmedData = new Float32Array(8);
                    this._transformTrimmedID = this.transform._worldID,
                    this._textureTrimmedID = this._texture._updateID;
                    var t = this._texture
                      , e = this.vertexTrimmedData
                      , n = t.orig
                      , r = this._anchor
                      , i = this.transform.worldTransform
                      , o = i.a
                      , s = i.b
                      , a = i.c
                      , u = i.d
                      , h = i.tx
                      , l = i.ty
                      , c = -r._x * n.width
                      , d = c + n.width
                      , p = -r._y * n.height
                      , f = p + n.height;
                    e[0] = o * c + a * p + h,
                    e[1] = u * p + s * c + l,
                    e[2] = o * d + a * p + h,
                    e[3] = u * p + s * d + l,
                    e[4] = o * d + a * f + h,
                    e[5] = u * f + s * d + l,
                    e[6] = o * c + a * f + h,
                    e[7] = u * f + s * c + l
                }
                ,
                e.prototype._render = function(t) {
                    this.calculateVertices(),
                    t.batch.setObjectRenderer(t.plugins[this.pluginName]),
                    t.plugins[this.pluginName].render(this)
                }
                ,
                e.prototype._calculateBounds = function() {
                    var t = this._texture.trim
                      , e = this._texture.orig;
                    !t || t.width === e.width && t.height === e.height ? (this.calculateVertices(),
                    this._bounds.addQuad(this.vertexData)) : (this.calculateTrimmedVertices(),
                    this._bounds.addQuad(this.vertexTrimmedData))
                }
                ,
                e.prototype.getLocalBounds = function(e) {
                    return 0 === this.children.length ? (this._localBounds || (this._localBounds = new oe),
                    this._localBounds.minX = this._texture.orig.width * -this._anchor._x,
                    this._localBounds.minY = this._texture.orig.height * -this._anchor._y,
                    this._localBounds.maxX = this._texture.orig.width * (1 - this._anchor._x),
                    this._localBounds.maxY = this._texture.orig.height * (1 - this._anchor._y),
                    e || (this._localBoundsRect || (this._localBoundsRect = new jt),
                    e = this._localBoundsRect),
                    this._localBounds.getRectangle(e)) : t.prototype.getLocalBounds.call(this, e)
                }
                ,
                e.prototype.containsPoint = function(t) {
                    this.worldTransform.applyInverse(t, To);
                    var e = this._texture.orig.width
                      , n = this._texture.orig.height
                      , r = -e * this.anchor.x
                      , i = 0;
                    return To.x >= r && To.x < r + e && (i = -n * this.anchor.y,
                    To.y >= i && To.y < i + n)
                }
                ,
                e.prototype.destroy = function(e) {
                    if (t.prototype.destroy.call(this, e),
                    this._texture.off("update", this._onTextureUpdate, this),
                    this._anchor = null,
                    "boolean" == typeof e ? e : e && e.texture) {
                        var n = "boolean" == typeof e ? e : e && e.baseTexture;
                        this._texture.destroy(!!n)
                    }
                    this._texture = null
                }
                ,
                e.from = function(t, n) {
                    return new e(t instanceof Ve ? t : Ve.from(t, n))
                }
                ,
                Object.defineProperty(e.prototype, "roundPixels", {
                    get: function() {
                        return this._roundPixels
                    },
                    set: function(t) {
                        this._roundPixels !== t && (this._transformID = -1),
                        this._roundPixels = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "width", {
                    get: function() {
                        return Math.abs(this.scale.x) * this._texture.orig.width
                    },
                    set: function(t) {
                        var e = wt(this.scale.x) || 1;
                        this.scale.x = e * t / this._texture.orig.width,
                        this._width = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "height", {
                    get: function() {
                        return Math.abs(this.scale.y) * this._texture.orig.height
                    },
                    set: function(t) {
                        var e = wt(this.scale.y) || 1;
                        this.scale.y = e * t / this._texture.orig.height,
                        this._height = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "anchor", {
                    get: function() {
                        return this._anchor
                    },
                    set: function(t) {
                        this._anchor.copyFrom(t)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "tint", {
                    get: function() {
                        return this._tint
                    },
                    set: function(t) {
                        this._tint = t,
                        this._tintRGB = (t >> 16) + (65280 & t) + ((255 & t) << 16)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "texture", {
                    get: function() {
                        return this._texture
                    },
                    set: function(t) {
                        this._texture !== t && (this._texture && this._texture.off("update", this._onTextureUpdate, this),
                        this._texture = t || Ve.EMPTY,
                        this._cachedTint = 16777215,
                        this._textureID = -1,
                        this._textureTrimmedID = -1,
                        t && (t.baseTexture.valid ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this)))
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e
            }(ce), So = function(t, e) {
                return (So = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            !function(t) {
                t[t.LINEAR_VERTICAL = 0] = "LINEAR_VERTICAL",
                t[t.LINEAR_HORIZONTAL = 1] = "LINEAR_HORIZONTAL"
            }(oo || (oo = {}));
            var wo = {
                align: "left",
                breakWords: !1,
                dropShadow: !1,
                dropShadowAlpha: 1,
                dropShadowAngle: Math.PI / 6,
                dropShadowBlur: 0,
                dropShadowColor: "black",
                dropShadowDistance: 5,
                fill: "black",
                fillGradientType: oo.LINEAR_VERTICAL,
                fillGradientStops: [],
                fontFamily: "Arial",
                fontSize: 26,
                fontStyle: "normal",
                fontVariant: "normal",
                fontWeight: "normal",
                letterSpacing: 0,
                lineHeight: 0,
                lineJoin: "miter",
                miterLimit: 10,
                padding: 0,
                stroke: "black",
                strokeThickness: 0,
                textBaseline: "alphabetic",
                trim: !1,
                whiteSpace: "pre",
                wordWrap: !1,
                wordWrapWidth: 100,
                leading: 0
            }
              , Ro = ["serif", "sans-serif", "monospace", "cursive", "fantasy", "system-ui"]
              , Oo = function() {
                function t(t) {
                    this.styleID = 0,
                    this.reset(),
                    Do(this, t, t)
                }
                return t.prototype.clone = function() {
                    var e = {};
                    return Do(e, this, wo),
                    new t(e)
                }
                ,
                t.prototype.reset = function() {
                    Do(this, wo, wo)
                }
                ,
                Object.defineProperty(t.prototype, "align", {
                    get: function() {
                        return this._align
                    },
                    set: function(t) {
                        this._align !== t && (this._align = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "breakWords", {
                    get: function() {
                        return this._breakWords
                    },
                    set: function(t) {
                        this._breakWords !== t && (this._breakWords = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "dropShadow", {
                    get: function() {
                        return this._dropShadow
                    },
                    set: function(t) {
                        this._dropShadow !== t && (this._dropShadow = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "dropShadowAlpha", {
                    get: function() {
                        return this._dropShadowAlpha
                    },
                    set: function(t) {
                        this._dropShadowAlpha !== t && (this._dropShadowAlpha = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "dropShadowAngle", {
                    get: function() {
                        return this._dropShadowAngle
                    },
                    set: function(t) {
                        this._dropShadowAngle !== t && (this._dropShadowAngle = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "dropShadowBlur", {
                    get: function() {
                        return this._dropShadowBlur
                    },
                    set: function(t) {
                        this._dropShadowBlur !== t && (this._dropShadowBlur = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "dropShadowColor", {
                    get: function() {
                        return this._dropShadowColor
                    },
                    set: function(t) {
                        var e = Co(t);
                        this._dropShadowColor !== e && (this._dropShadowColor = e,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "dropShadowDistance", {
                    get: function() {
                        return this._dropShadowDistance
                    },
                    set: function(t) {
                        this._dropShadowDistance !== t && (this._dropShadowDistance = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "fill", {
                    get: function() {
                        return this._fill
                    },
                    set: function(t) {
                        var e = Co(t);
                        this._fill !== e && (this._fill = e,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "fillGradientType", {
                    get: function() {
                        return this._fillGradientType
                    },
                    set: function(t) {
                        this._fillGradientType !== t && (this._fillGradientType = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "fillGradientStops", {
                    get: function() {
                        return this._fillGradientStops
                    },
                    set: function(t) {
                        (function(t, e) {
                            if (!Array.isArray(t) || !Array.isArray(e))
                                return !1;
                            if (t.length !== e.length)
                                return !1;
                            for (var n = 0; n < t.length; ++n)
                                if (t[n] !== e[n])
                                    return !1;
                            return !0
                        }
                        )(this._fillGradientStops, t) || (this._fillGradientStops = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "fontFamily", {
                    get: function() {
                        return this._fontFamily
                    },
                    set: function(t) {
                        this.fontFamily !== t && (this._fontFamily = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "fontSize", {
                    get: function() {
                        return this._fontSize
                    },
                    set: function(t) {
                        this._fontSize !== t && (this._fontSize = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "fontStyle", {
                    get: function() {
                        return this._fontStyle
                    },
                    set: function(t) {
                        this._fontStyle !== t && (this._fontStyle = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "fontVariant", {
                    get: function() {
                        return this._fontVariant
                    },
                    set: function(t) {
                        this._fontVariant !== t && (this._fontVariant = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "fontWeight", {
                    get: function() {
                        return this._fontWeight
                    },
                    set: function(t) {
                        this._fontWeight !== t && (this._fontWeight = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "letterSpacing", {
                    get: function() {
                        return this._letterSpacing
                    },
                    set: function(t) {
                        this._letterSpacing !== t && (this._letterSpacing = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "lineHeight", {
                    get: function() {
                        return this._lineHeight
                    },
                    set: function(t) {
                        this._lineHeight !== t && (this._lineHeight = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "leading", {
                    get: function() {
                        return this._leading
                    },
                    set: function(t) {
                        this._leading !== t && (this._leading = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "lineJoin", {
                    get: function() {
                        return this._lineJoin
                    },
                    set: function(t) {
                        this._lineJoin !== t && (this._lineJoin = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "miterLimit", {
                    get: function() {
                        return this._miterLimit
                    },
                    set: function(t) {
                        this._miterLimit !== t && (this._miterLimit = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "padding", {
                    get: function() {
                        return this._padding
                    },
                    set: function(t) {
                        this._padding !== t && (this._padding = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "stroke", {
                    get: function() {
                        return this._stroke
                    },
                    set: function(t) {
                        var e = Co(t);
                        this._stroke !== e && (this._stroke = e,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "strokeThickness", {
                    get: function() {
                        return this._strokeThickness
                    },
                    set: function(t) {
                        this._strokeThickness !== t && (this._strokeThickness = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "textBaseline", {
                    get: function() {
                        return this._textBaseline
                    },
                    set: function(t) {
                        this._textBaseline !== t && (this._textBaseline = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "trim", {
                    get: function() {
                        return this._trim
                    },
                    set: function(t) {
                        this._trim !== t && (this._trim = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "whiteSpace", {
                    get: function() {
                        return this._whiteSpace
                    },
                    set: function(t) {
                        this._whiteSpace !== t && (this._whiteSpace = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "wordWrap", {
                    get: function() {
                        return this._wordWrap
                    },
                    set: function(t) {
                        this._wordWrap !== t && (this._wordWrap = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "wordWrapWidth", {
                    get: function() {
                        return this._wordWrapWidth
                    },
                    set: function(t) {
                        this._wordWrapWidth !== t && (this._wordWrapWidth = t,
                        this.styleID++)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.toFontString = function() {
                    var t = "number" == typeof this.fontSize ? this.fontSize + "px" : this.fontSize
                      , e = this.fontFamily;
                    Array.isArray(this.fontFamily) || (e = this.fontFamily.split(","));
                    for (var n = e.length - 1; n >= 0; n--) {
                        var r = e[n].trim();
                        !/([\"\'])[^\'\"]+\1/.test(r) && Ro.indexOf(r) < 0 && (r = '"' + r + '"'),
                        e[n] = r
                    }
                    return this.fontStyle + " " + this.fontVariant + " " + this.fontWeight + " " + t + " " + e.join(",")
                }
                ,
                t
            }();
            function Io(t) {
                return "number" == typeof t ? mt(t) : ("string" == typeof t && 0 === t.indexOf("0x") && (t = t.replace("0x", "#")),
                t)
            }
            function Co(t) {
                if (Array.isArray(t)) {
                    for (var e = 0; e < t.length; ++e)
                        t[e] = Io(t[e]);
                    return t
                }
                return Io(t)
            }
            function Do(t, e, n) {
                for (var r in n)
                    Array.isArray(e[r]) ? t[r] = e[r].slice() : t[r] = e[r]
            }
            var Mo = {
                willReadFrequently: !0
            }
              , Po = function() {
                function t(t, e, n, r, i, o, s, a, u) {
                    this.text = t,
                    this.style = e,
                    this.width = n,
                    this.height = r,
                    this.lines = i,
                    this.lineWidths = o,
                    this.lineHeight = s,
                    this.maxLineWidth = a,
                    this.fontProperties = u
                }
                return t.measureText = function(e, n, r, i) {
                    void 0 === i && (i = t._canvas),
                    r = null == r ? n.wordWrap : r;
                    var o = n.toFontString()
                      , s = t.measureFont(o);
                    0 === s.fontSize && (s.fontSize = n.fontSize,
                    s.ascent = n.fontSize);
                    var a = i.getContext("2d", Mo);
                    a.font = o;
                    for (var u = (r ? t.wordWrap(e, n, i) : e).split(/(?:\r\n|\r|\n)/), h = new Array(u.length), l = 0, c = 0; c < u.length; c++) {
                        var d = a.measureText(u[c]).width + (u[c].length - 1) * n.letterSpacing;
                        h[c] = d,
                        l = Math.max(l, d)
                    }
                    var p = l + n.strokeThickness;
                    n.dropShadow && (p += n.dropShadowDistance);
                    var f = n.lineHeight || s.fontSize + n.strokeThickness
                      , m = Math.max(f, s.fontSize + n.strokeThickness) + (u.length - 1) * (f + n.leading);
                    return n.dropShadow && (m += n.dropShadowDistance),
                    new t(e,n,p,m,u,h,f + n.leading,l,s)
                }
                ,
                t.wordWrap = function(e, n, r) {
                    void 0 === r && (r = t._canvas);
                    for (var i = r.getContext("2d", Mo), o = 0, s = "", a = "", u = Object.create(null), h = n.letterSpacing, l = n.whiteSpace, c = t.collapseSpaces(l), d = t.collapseNewlines(l), p = !c, f = n.wordWrapWidth + h, m = t.tokenize(e), _ = 0; _ < m.length; _++) {
                        var v = m[_];
                        if (t.isNewline(v)) {
                            if (!d) {
                                a += t.addLine(s),
                                p = !c,
                                s = "",
                                o = 0;
                                continue
                            }
                            v = " "
                        }
                        if (c) {
                            var g = t.isBreakingSpace(v)
                              , y = t.isBreakingSpace(s[s.length - 1]);
                            if (g && y)
                                continue
                        }
                        var b = t.getFromCache(v, h, u, i);
                        if (b > f)
                            if ("" !== s && (a += t.addLine(s),
                            s = "",
                            o = 0),
                            t.canBreakWords(v, n.breakWords))
                                for (var x = t.wordWrapSplit(v), T = 0; T < x.length; T++) {
                                    for (var E = x[T], A = 1; x[T + A]; ) {
                                        var S = x[T + A]
                                          , w = E[E.length - 1];
                                        if (t.canBreakChars(w, S, v, T, n.breakWords))
                                            break;
                                        E += S,
                                        A++
                                    }
                                    T += E.length - 1;
                                    var R = t.getFromCache(E, h, u, i);
                                    R + o > f && (a += t.addLine(s),
                                    p = !1,
                                    s = "",
                                    o = 0),
                                    s += E,
                                    o += R
                                }
                            else {
                                s.length > 0 && (a += t.addLine(s),
                                s = "",
                                o = 0);
                                var O = _ === m.length - 1;
                                a += t.addLine(v, !O),
                                p = !1,
                                s = "",
                                o = 0
                            }
                        else
                            b + o > f && (p = !1,
                            a += t.addLine(s),
                            s = "",
                            o = 0),
                            (s.length > 0 || !t.isBreakingSpace(v) || p) && (s += v,
                            o += b)
                    }
                    return a + t.addLine(s, !1)
                }
                ,
                t.addLine = function(e, n) {
                    return void 0 === n && (n = !0),
                    e = t.trimRight(e),
                    n ? e + "\n" : e
                }
                ,
                t.getFromCache = function(t, e, n, r) {
                    var i = n[t];
                    if ("number" != typeof i) {
                        var o = t.length * e;
                        i = r.measureText(t).width + o,
                        n[t] = i
                    }
                    return i
                }
                ,
                t.collapseSpaces = function(t) {
                    return "normal" === t || "pre-line" === t
                }
                ,
                t.collapseNewlines = function(t) {
                    return "normal" === t
                }
                ,
                t.trimRight = function(e) {
                    if ("string" != typeof e)
                        return "";
                    for (var n = e.length - 1; n >= 0; n--) {
                        var r = e[n];
                        if (!t.isBreakingSpace(r))
                            break;
                        e = e.slice(0, -1)
                    }
                    return e
                }
                ,
                t.isNewline = function(e) {
                    return "string" == typeof e && t._newlines.indexOf(e.charCodeAt(0)) >= 0
                }
                ,
                t.isBreakingSpace = function(e, n) {
                    return "string" == typeof e && t._breakingSpaces.indexOf(e.charCodeAt(0)) >= 0
                }
                ,
                t.tokenize = function(e) {
                    var n = []
                      , r = "";
                    if ("string" != typeof e)
                        return n;
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i]
                          , s = e[i + 1];
                        t.isBreakingSpace(o, s) || t.isNewline(o) ? ("" !== r && (n.push(r),
                        r = ""),
                        n.push(o)) : r += o
                    }
                    return "" !== r && n.push(r),
                    n
                }
                ,
                t.canBreakWords = function(t, e) {
                    return e
                }
                ,
                t.canBreakChars = function(t, e, n, r, i) {
                    return !0
                }
                ,
                t.wordWrapSplit = function(t) {
                    return t.split("")
                }
                ,
                t.measureFont = function(e) {
                    if (t._fonts[e])
                        return t._fonts[e];
                    var n = {
                        ascent: 0,
                        descent: 0,
                        fontSize: 0
                    }
                      , r = t._canvas
                      , i = t._context;
                    i.font = e;
                    var o = t.METRICS_STRING + t.BASELINE_SYMBOL
                      , s = Math.ceil(i.measureText(o).width)
                      , a = Math.ceil(i.measureText(t.BASELINE_SYMBOL).width)
                      , u = Math.ceil(t.HEIGHT_MULTIPLIER * a);
                    a = a * t.BASELINE_MULTIPLIER | 0,
                    r.width = s,
                    r.height = u,
                    i.fillStyle = "#f00",
                    i.fillRect(0, 0, s, u),
                    i.font = e,
                    i.textBaseline = "alphabetic",
                    i.fillStyle = "#000",
                    i.fillText(o, 0, a);
                    var h = i.getImageData(0, 0, s, u).data
                      , l = h.length
                      , c = 4 * s
                      , d = 0
                      , p = 0
                      , f = !1;
                    for (d = 0; d < a; ++d) {
                        for (var m = 0; m < c; m += 4)
                            if (255 !== h[p + m]) {
                                f = !0;
                                break
                            }
                        if (f)
                            break;
                        p += c
                    }
                    for (n.ascent = a - d,
                    p = l - c,
                    f = !1,
                    d = u; d > a; --d) {
                        for (m = 0; m < c; m += 4)
                            if (255 !== h[p + m]) {
                                f = !0;
                                break
                            }
                        if (f)
                            break;
                        p -= c
                    }
                    return n.descent = d - a,
                    n.fontSize = n.ascent + n.descent,
                    t._fonts[e] = n,
                    n
                }
                ,
                t.clearMetrics = function(e) {
                    void 0 === e && (e = ""),
                    e ? delete t._fonts[e] : t._fonts = {}
                }
                ,
                Object.defineProperty(t, "_canvas", {
                    get: function() {
                        if (!t.__canvas) {
                            var e = void 0;
                            try {
                                var n = new OffscreenCanvas(0,0)
                                  , r = n.getContext("2d", Mo);
                                if (r && r.measureText)
                                    return t.__canvas = n,
                                    n;
                                e = st.ADAPTER.createCanvas()
                            } catch (t) {
                                e = st.ADAPTER.createCanvas()
                            }
                            e.width = e.height = 10,
                            t.__canvas = e
                        }
                        return t.__canvas
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t, "_context", {
                    get: function() {
                        return t.__context || (t.__context = t._canvas.getContext("2d", Mo)),
                        t.__context
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t
            }();
            Po._fonts = {},
            Po.METRICS_STRING = "|ÉqÅ",
            Po.BASELINE_SYMBOL = "M",
            Po.BASELINE_MULTIPLIER = 1.4,
            Po.HEIGHT_MULTIPLIER = 2,
            Po._newlines = [10, 13],
            Po._breakingSpaces = [9, 32, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8200, 8201, 8202, 8287, 12288];
            var No = {
                texture: !0,
                children: !1,
                baseTexture: !0
            }
              , Bo = function(t) {
                function e(e, n, r) {
                    var i = this
                      , o = !1;
                    r || (r = st.ADAPTER.createCanvas(),
                    o = !0),
                    r.width = 3,
                    r.height = 3;
                    var s = Ve.from(r);
                    return s.orig = new jt,
                    s.trim = new jt,
                    (i = t.call(this, s) || this)._ownCanvas = o,
                    i.canvas = r,
                    i.context = r.getContext("2d", {
                        willReadFrequently: !0
                    }),
                    i._resolution = st.RESOLUTION,
                    i._autoResolution = !0,
                    i._text = null,
                    i._style = null,
                    i._styleListener = null,
                    i._font = "",
                    i.text = e,
                    i.style = n,
                    i.localStyleID = -1,
                    i
                }
                return function(t, e) {
                    function n() {
                        this.constructor = t
                    }
                    So(t, e),
                    t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                    new n)
                }(e, t),
                e.prototype.updateText = function(t) {
                    var n = this._style;
                    if (this.localStyleID !== n.styleID && (this.dirty = !0,
                    this.localStyleID = n.styleID),
                    this.dirty || !t) {
                        this._font = this._style.toFontString();
                        var r, i, o = this.context, s = Po.measureText(this._text || " ", this._style, this._style.wordWrap, this.canvas), a = s.width, u = s.height, h = s.lines, l = s.lineHeight, c = s.lineWidths, d = s.maxLineWidth, p = s.fontProperties;
                        this.canvas.width = Math.ceil(Math.ceil(Math.max(1, a) + 2 * n.padding) * this._resolution),
                        this.canvas.height = Math.ceil(Math.ceil(Math.max(1, u) + 2 * n.padding) * this._resolution),
                        o.scale(this._resolution, this._resolution),
                        o.clearRect(0, 0, this.canvas.width, this.canvas.height),
                        o.font = this._font,
                        o.lineWidth = n.strokeThickness,
                        o.textBaseline = n.textBaseline,
                        o.lineJoin = n.lineJoin,
                        o.miterLimit = n.miterLimit;
                        for (var f = n.dropShadow ? 2 : 1, m = 0; m < f; ++m) {
                            var _ = n.dropShadow && 0 === m
                              , v = _ ? Math.ceil(Math.max(1, u) + 2 * n.padding) : 0
                              , g = v * this._resolution;
                            if (_) {
                                o.fillStyle = "black",
                                o.strokeStyle = "black";
                                var y = n.dropShadowColor
                                  , b = ft("number" == typeof y ? y : _t(y))
                                  , x = n.dropShadowBlur * this._resolution
                                  , T = n.dropShadowDistance * this._resolution;
                                o.shadowColor = "rgba(" + 255 * b[0] + "," + 255 * b[1] + "," + 255 * b[2] + "," + n.dropShadowAlpha + ")",
                                o.shadowBlur = x,
                                o.shadowOffsetX = Math.cos(n.dropShadowAngle) * T,
                                o.shadowOffsetY = Math.sin(n.dropShadowAngle) * T + g
                            } else
                                o.fillStyle = this._generateFillStyle(n, h, s),
                                o.strokeStyle = n.stroke,
                                o.shadowColor = "black",
                                o.shadowBlur = 0,
                                o.shadowOffsetX = 0,
                                o.shadowOffsetY = 0;
                            var E = (l - p.fontSize) / 2;
                            (!e.nextLineHeightBehavior || l - p.fontSize < 0) && (E = 0);
                            for (var A = 0; A < h.length; A++)
                                r = n.strokeThickness / 2,
                                i = n.strokeThickness / 2 + A * l + p.ascent + E,
                                "right" === n.align ? r += d - c[A] : "center" === n.align && (r += (d - c[A]) / 2),
                                n.stroke && n.strokeThickness && this.drawLetterSpacing(h[A], r + n.padding, i + n.padding - v, !0),
                                n.fill && this.drawLetterSpacing(h[A], r + n.padding, i + n.padding - v)
                        }
                        this.updateTexture()
                    }
                }
                ,
                e.prototype.drawLetterSpacing = function(t, n, r, i) {
                    void 0 === i && (i = !1);
                    var o = this._style.letterSpacing
                      , s = e.experimentalLetterSpacing && ("letterSpacing"in CanvasRenderingContext2D.prototype || "textLetterSpacing"in CanvasRenderingContext2D.prototype);
                    if (0 === o || s)
                        return s && (this.context.letterSpacing = o,
                        this.context.textLetterSpacing = o),
                        void (i ? this.context.strokeText(t, n, r) : this.context.fillText(t, n, r));
                    for (var a = n, u = Array.from ? Array.from(t) : t.split(""), h = this.context.measureText(t).width, l = 0, c = 0; c < u.length; ++c) {
                        var d = u[c];
                        i ? this.context.strokeText(d, a, r) : this.context.fillText(d, a, r);
                        for (var p = "", f = c + 1; f < u.length; ++f)
                            p += u[f];
                        a += h - (l = this.context.measureText(p).width) + o,
                        h = l
                    }
                }
                ,
                e.prototype.updateTexture = function() {
                    var t = this.canvas;
                    if (this._style.trim) {
                        var e = function(t) {
                            var e, n, r, i = t.width, o = t.height, s = t.getContext("2d", {
                                willReadFrequently: !0
                            }), a = s.getImageData(0, 0, i, o).data, u = a.length, h = {
                                top: null,
                                left: null,
                                right: null,
                                bottom: null
                            }, l = null;
                            for (e = 0; e < u; e += 4)
                                0 !== a[e + 3] && (n = e / 4 % i,
                                r = ~~(e / 4 / i),
                                null === h.top && (h.top = r),
                                (null === h.left || n < h.left) && (h.left = n),
                                (null === h.right || h.right < n) && (h.right = n + 1),
                                (null === h.bottom || h.bottom < r) && (h.bottom = r));
                            return null !== h.top && (i = h.right - h.left,
                            o = h.bottom - h.top + 1,
                            l = s.getImageData(h.left, h.top, i, o)),
                            {
                                height: o,
                                width: i,
                                data: l
                            }
                        }(t);
                        e.data && (t.width = e.width,
                        t.height = e.height,
                        this.context.putImageData(e.data, 0, 0))
                    }
                    var n = this._texture
                      , r = this._style
                      , i = r.trim ? 0 : r.padding
                      , o = n.baseTexture;
                    n.trim.width = n._frame.width = t.width / this._resolution,
                    n.trim.height = n._frame.height = t.height / this._resolution,
                    n.trim.x = -i,
                    n.trim.y = -i,
                    n.orig.width = n._frame.width - 2 * i,
                    n.orig.height = n._frame.height - 2 * i,
                    this._onTextureUpdate(),
                    o.setRealSize(t.width, t.height, this._resolution),
                    n.updateUvs(),
                    this.dirty = !1
                }
                ,
                e.prototype._render = function(e) {
                    this._autoResolution && this._resolution !== e.resolution && (this._resolution = e.resolution,
                    this.dirty = !0),
                    this.updateText(!0),
                    t.prototype._render.call(this, e)
                }
                ,
                e.prototype.updateTransform = function() {
                    this.updateText(!0),
                    t.prototype.updateTransform.call(this)
                }
                ,
                e.prototype.getBounds = function(e, n) {
                    return this.updateText(!0),
                    -1 === this._textureID && (e = !1),
                    t.prototype.getBounds.call(this, e, n)
                }
                ,
                e.prototype.getLocalBounds = function(e) {
                    return this.updateText(!0),
                    t.prototype.getLocalBounds.call(this, e)
                }
                ,
                e.prototype._calculateBounds = function() {
                    this.calculateVertices(),
                    this._bounds.addQuad(this.vertexData)
                }
                ,
                e.prototype._generateFillStyle = function(t, e, n) {
                    var r, i = t.fill;
                    if (!Array.isArray(i))
                        return i;
                    if (1 === i.length)
                        return i[0];
                    var o = t.dropShadow ? t.dropShadowDistance : 0
                      , s = t.padding || 0
                      , a = this.canvas.width / this._resolution - o - 2 * s
                      , u = this.canvas.height / this._resolution - o - 2 * s
                      , h = i.slice()
                      , l = t.fillGradientStops.slice();
                    if (!l.length)
                        for (var c = h.length + 1, d = 1; d < c; ++d)
                            l.push(d / c);
                    if (h.unshift(i[0]),
                    l.unshift(0),
                    h.push(i[i.length - 1]),
                    l.push(1),
                    t.fillGradientType === oo.LINEAR_VERTICAL) {
                        r = this.context.createLinearGradient(a / 2, s, a / 2, u + s);
                        var p = n.fontProperties.fontSize + t.strokeThickness;
                        for (d = 0; d < e.length; d++) {
                            var f = n.lineHeight * (d - 1) + p
                              , m = n.lineHeight * d
                              , _ = m;
                            d > 0 && f > m && (_ = (m + f) / 2);
                            var v = m + p
                              , g = n.lineHeight * (d + 1)
                              , y = v;
                            d + 1 < e.length && g < v && (y = (v + g) / 2);
                            for (var b = (y - _) / u, x = 0; x < h.length; x++) {
                                var T;
                                T = "number" == typeof l[x] ? l[x] : x / h.length;
                                var E = Math.min(1, Math.max(0, _ / u + T * b));
                                E = Number(E.toFixed(5)),
                                r.addColorStop(E, h[x])
                            }
                        }
                    } else {
                        r = this.context.createLinearGradient(s, u / 2, a + s, u / 2);
                        var A = h.length + 1
                          , S = 1;
                        for (d = 0; d < h.length; d++) {
                            var w;
                            w = "number" == typeof l[d] ? l[d] : S / A,
                            r.addColorStop(w, h[d]),
                            S++
                        }
                    }
                    return r
                }
                ,
                e.prototype.destroy = function(e) {
                    "boolean" == typeof e && (e = {
                        children: e
                    }),
                    e = Object.assign({}, No, e),
                    t.prototype.destroy.call(this, e),
                    this._ownCanvas && (this.canvas.height = this.canvas.width = 0),
                    this.context = null,
                    this.canvas = null,
                    this._style = null
                }
                ,
                Object.defineProperty(e.prototype, "width", {
                    get: function() {
                        return this.updateText(!0),
                        Math.abs(this.scale.x) * this._texture.orig.width
                    },
                    set: function(t) {
                        this.updateText(!0);
                        var e = wt(this.scale.x) || 1;
                        this.scale.x = e * t / this._texture.orig.width,
                        this._width = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "height", {
                    get: function() {
                        return this.updateText(!0),
                        Math.abs(this.scale.y) * this._texture.orig.height
                    },
                    set: function(t) {
                        this.updateText(!0);
                        var e = wt(this.scale.y) || 1;
                        this.scale.y = e * t / this._texture.orig.height,
                        this._height = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "style", {
                    get: function() {
                        return this._style
                    },
                    set: function(t) {
                        t = t || {},
                        this._style = t instanceof Oo ? t : new Oo(t),
                        this.localStyleID = -1,
                        this.dirty = !0
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "text", {
                    get: function() {
                        return this._text
                    },
                    set: function(t) {
                        t = String(null == t ? "" : t),
                        this._text !== t && (this._text = t,
                        this.dirty = !0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "resolution", {
                    get: function() {
                        return this._resolution
                    },
                    set: function(t) {
                        this._autoResolution = !1,
                        this._resolution !== t && (this._resolution = t,
                        this.dirty = !0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.nextLineHeightBehavior = !1,
                e.experimentalLetterSpacing = !1,
                e
            }(Ao);
            st.UPLOADS_PER_FRAME = 4;
            var Lo = function(t, e) {
                return (Lo = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            }
              , Fo = function() {
                function t(t) {
                    this.maxItemsPerFrame = t,
                    this.itemsLeft = 0
                }
                return t.prototype.beginFrame = function() {
                    this.itemsLeft = this.maxItemsPerFrame
                }
                ,
                t.prototype.allowedToUpload = function() {
                    return this.itemsLeft-- > 0
                }
                ,
                t
            }();
            function Go(t, e) {
                var n = !1;
                if (t && t._textures && t._textures.length)
                    for (var r = 0; r < t._textures.length; r++)
                        if (t._textures[r]instanceof Ve) {
                            var i = t._textures[r].baseTexture;
                            -1 === e.indexOf(i) && (e.push(i),
                            n = !0)
                        }
                return n
            }
            function ko(t, e) {
                if (t.baseTexture instanceof Ie) {
                    var n = t.baseTexture;
                    return -1 === e.indexOf(n) && e.push(n),
                    !0
                }
                return !1
            }
            function Uo(t, e) {
                if (t._texture && t._texture instanceof Ve) {
                    var n = t._texture.baseTexture;
                    return -1 === e.indexOf(n) && e.push(n),
                    !0
                }
                return !1
            }
            function Xo(t, e) {
                return e instanceof Bo && (e.updateText(!0),
                !0)
            }
            function Ho(t, e) {
                if (e instanceof Oo) {
                    var n = e.toFontString();
                    return Po.measureFont(n),
                    !0
                }
                return !1
            }
            function jo(t, e) {
                if (t instanceof Bo) {
                    -1 === e.indexOf(t.style) && e.push(t.style),
                    -1 === e.indexOf(t) && e.push(t);
                    var n = t._texture.baseTexture;
                    return -1 === e.indexOf(n) && e.push(n),
                    !0
                }
                return !1
            }
            function $o(t, e) {
                return t instanceof Oo && (-1 === e.indexOf(t) && e.push(t),
                !0)
            }
            function Wo(t, e) {
                return e instanceof Ie && (e._glTextures[t.CONTEXT_UID] || t.texture.bind(e),
                !0)
            }
            function Vo(t, e) {
                if (!(e instanceof bo))
                    return !1;
                var n = e.geometry;
                e.finishPoly(),
                n.updateBatches();
                for (var r = n.batches, i = 0; i < r.length; i++) {
                    var o = r[i].style.texture;
                    o && Wo(t, o.baseTexture)
                }
                return n.batchable || t.geometry.bind(n, e._resolveDirectShader(t)),
                !0
            }
            function Yo(t, e) {
                return t instanceof bo && (e.push(t),
                !0)
            }
            var zo = function(t) {
                function e(e) {
                    var n = t.call(this, e) || this;
                    return n.uploadHookHelper = n.renderer,
                    n.registerFindHook(Yo),
                    n.registerUploadHook(Wo),
                    n.registerUploadHook(Vo),
                    n
                }
                return function(t, e) {
                    function n() {
                        this.constructor = t
                    }
                    Lo(t, e),
                    t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                    new n)
                }(e, t),
                e.extension = {
                    name: "prepare",
                    type: de.RendererPlugin
                },
                e
            }(function() {
                function t(t) {
                    var e = this;
                    this.limiter = new Fo(st.UPLOADS_PER_FRAME),
                    this.renderer = t,
                    this.uploadHookHelper = null,
                    this.queue = [],
                    this.addHooks = [],
                    this.uploadHooks = [],
                    this.completes = [],
                    this.ticking = !1,
                    this.delayedTick = function() {
                        e.queue && e.prepareItems()
                    }
                    ,
                    this.registerFindHook(jo),
                    this.registerFindHook($o),
                    this.registerFindHook(Go),
                    this.registerFindHook(ko),
                    this.registerFindHook(Uo),
                    this.registerUploadHook(Xo),
                    this.registerUploadHook(Ho)
                }
                return t.prototype.upload = function(t, e) {
                    var n = this;
                    return "function" == typeof t && (e = t,
                    t = null),
                    e && Ct("6.5.0", "BasePrepare.upload callback is deprecated, use the return Promise instead."),
                    new Promise((function(r) {
                        t && n.add(t);
                        var i = function() {
                            null == e || e(),
                            r()
                        };
                        n.queue.length ? (n.completes.push(i),
                        n.ticking || (n.ticking = !0,
                        ye.system.addOnce(n.tick, n, fe.UTILITY))) : i()
                    }
                    ))
                }
                ,
                t.prototype.tick = function() {
                    setTimeout(this.delayedTick, 0)
                }
                ,
                t.prototype.prepareItems = function() {
                    for (this.limiter.beginFrame(); this.queue.length && this.limiter.allowedToUpload(); ) {
                        var t = this.queue[0]
                          , e = !1;
                        if (t && !t._destroyed)
                            for (var n = 0, r = this.uploadHooks.length; n < r; n++)
                                if (this.uploadHooks[n](this.uploadHookHelper, t)) {
                                    this.queue.shift(),
                                    e = !0;
                                    break
                                }
                        e || this.queue.shift()
                    }
                    if (this.queue.length)
                        ye.system.addOnce(this.tick, this, fe.UTILITY);
                    else {
                        this.ticking = !1;
                        var i = this.completes.slice(0);
                        for (this.completes.length = 0,
                        n = 0,
                        r = i.length; n < r; n++)
                            i[n]()
                    }
                }
                ,
                t.prototype.registerFindHook = function(t) {
                    return t && this.addHooks.push(t),
                    this
                }
                ,
                t.prototype.registerUploadHook = function(t) {
                    return t && this.uploadHooks.push(t),
                    this
                }
                ,
                t.prototype.add = function(t) {
                    for (var e = 0, n = this.addHooks.length; e < n && !this.addHooks[e](t, this.queue); e++)
                        ;
                    if (t instanceof ce)
                        for (e = t.children.length - 1; e >= 0; e--)
                            this.add(t.children[e]);
                    return this
                }
                ,
                t.prototype.destroy = function() {
                    this.ticking && ye.system.remove(this.tick, this),
                    this.ticking = !1,
                    this.addHooks = null,
                    this.uploadHooks = null,
                    this.renderer = null,
                    this.completes = null,
                    this.queue = null,
                    this.limiter = null,
                    this.uploadHookHelper = null
                }
                ,
                t
            }())
              , qo = (function() {
                function t(t) {
                    this.maxMilliseconds = t,
                    this.frameStart = 0
                }
                t.prototype.beginFrame = function() {
                    this.frameStart = Date.now()
                }
                ,
                t.prototype.allowedToUpload = function() {
                    return Date.now() - this.frameStart < this.maxMilliseconds
                }
            }(),
            function() {
                function t(t, e, n) {
                    void 0 === n && (n = null),
                    this.linkedSheets = [],
                    this._texture = t instanceof Ve ? t : null,
                    this.baseTexture = t instanceof Ie ? t : this._texture.baseTexture,
                    this.textures = {},
                    this.animations = {},
                    this.data = e;
                    var r = this.baseTexture.resource;
                    this.resolution = this._updateResolution(n || (r ? r.url : null)),
                    this._frames = this.data.frames,
                    this._frameKeys = Object.keys(this._frames),
                    this._batchIndex = 0,
                    this._callback = null
                }
                return t.prototype._updateResolution = function(t) {
                    void 0 === t && (t = null);
                    var e = this.data.meta.scale
                      , n = Lt(t, null);
                    return null === n && (n = void 0 !== e ? parseFloat(e) : 1),
                    1 !== n && this.baseTexture.setResolution(n),
                    n
                }
                ,
                t.prototype.parse = function(e) {
                    var n = this;
                    return e && Ct("6.5.0", "Spritesheet.parse callback is deprecated, use the return Promise instead."),
                    new Promise((function(r) {
                        n._callback = function(t) {
                            null == e || e(t),
                            r(t)
                        }
                        ,
                        n._batchIndex = 0,
                        n._frameKeys.length <= t.BATCH_SIZE ? (n._processFrames(0),
                        n._processAnimations(),
                        n._parseComplete()) : n._nextBatch()
                    }
                    ))
                }
                ,
                t.prototype._processFrames = function(e) {
                    for (var n = e, r = t.BATCH_SIZE; n - e < r && n < this._frameKeys.length; ) {
                        var i = this._frameKeys[n]
                          , o = this._frames[i]
                          , s = o.frame;
                        if (s) {
                            var a, u = null, h = !1 !== o.trimmed && o.sourceSize ? o.sourceSize : o.frame, l = new jt(0,0,Math.floor(h.w) / this.resolution,Math.floor(h.h) / this.resolution);
                            a = o.rotated ? new jt(Math.floor(s.x) / this.resolution,Math.floor(s.y) / this.resolution,Math.floor(s.h) / this.resolution,Math.floor(s.w) / this.resolution) : new jt(Math.floor(s.x) / this.resolution,Math.floor(s.y) / this.resolution,Math.floor(s.w) / this.resolution,Math.floor(s.h) / this.resolution),
                            !1 !== o.trimmed && o.spriteSourceSize && (u = new jt(Math.floor(o.spriteSourceSize.x) / this.resolution,Math.floor(o.spriteSourceSize.y) / this.resolution,Math.floor(s.w) / this.resolution,Math.floor(s.h) / this.resolution)),
                            this.textures[i] = new Ve(this.baseTexture,a,l,u,o.rotated ? 2 : 0,o.anchor),
                            Ve.addToCache(this.textures[i], i)
                        }
                        n++
                    }
                }
                ,
                t.prototype._processAnimations = function() {
                    var t = this.data.animations || {};
                    for (var e in t) {
                        this.animations[e] = [];
                        for (var n = 0; n < t[e].length; n++) {
                            var r = t[e][n];
                            this.animations[e].push(this.textures[r])
                        }
                    }
                }
                ,
                t.prototype._parseComplete = function() {
                    var t = this._callback;
                    this._callback = null,
                    this._batchIndex = 0,
                    t.call(this, this.textures)
                }
                ,
                t.prototype._nextBatch = function() {
                    var e = this;
                    this._processFrames(this._batchIndex * t.BATCH_SIZE),
                    this._batchIndex++,
                    setTimeout((function() {
                        e._batchIndex * t.BATCH_SIZE < e._frameKeys.length ? e._nextBatch() : (e._processAnimations(),
                        e._parseComplete())
                    }
                    ), 0)
                }
                ,
                t.prototype.destroy = function(t) {
                    var e;
                    for (var n in void 0 === t && (t = !1),
                    this.textures)
                        this.textures[n].destroy();
                    this._frames = null,
                    this._frameKeys = null,
                    this.data = null,
                    this.textures = null,
                    t && (null === (e = this._texture) || void 0 === e || e.destroy(),
                    this.baseTexture.destroy()),
                    this._texture = null,
                    this.baseTexture = null,
                    this.linkedSheets = []
                }
                ,
                t.BATCH_SIZE = 1e3,
                t
            }())
              , Ko = function() {
                function t() {}
                return t.use = function(e, n) {
                    var r, i, o = this, s = e.name + "_image";
                    if (e.data && e.type === ii.TYPE.JSON && e.data.frames && !o.resources[s]) {
                        var a = null === (i = null === (r = e.data) || void 0 === r ? void 0 : r.meta) || void 0 === i ? void 0 : i.related_multi_packs;
                        if (Array.isArray(a))
                            for (var u = function(t) {
                                if ("string" != typeof t)
                                    return "continue";
                                var n = t.replace(".json", "")
                                  , r = lt.resolve(e.url.replace(o.baseUrl, ""), t);
                                if (o.resources[n] || Object.values(o.resources).some((function(t) {
                                    return lt.format(lt.parse(t.url)) === r
                                }
                                )))
                                    return "continue";
                                var i = {
                                    crossOrigin: e.crossOrigin,
                                    loadType: ii.LOAD_TYPE.XHR,
                                    xhrType: ii.XHR_RESPONSE_TYPE.JSON,
                                    parentResource: e,
                                    metadata: e.metadata
                                };
                                o.add(n, r, i)
                            }, h = 0, l = a; h < l.length; h++)
                                u(l[h]);
                        var c = {
                            crossOrigin: e.crossOrigin,
                            metadata: e.metadata.imageMetadata,
                            parentResource: e
                        }
                          , d = t.getResourcePath(e, o.baseUrl);
                        o.add(s, d, c, (function(t) {
                            if (t.error)
                                n(t.error);
                            else {
                                var r = new qo(t.texture,e.data,e.url);
                                r.parse().then((function() {
                                    e.spritesheet = r,
                                    e.textures = r.textures,
                                    n()
                                }
                                ))
                            }
                        }
                        ))
                    } else
                        n()
                }
                ,
                t.getResourcePath = function(t, e) {
                    return t.isDataUrl ? t.data.meta.image : lt.resolve(t.url.replace(e, ""), t.data.meta.image)
                }
                ,
                t.extension = de.Loader,
                t
            }()
              , Jo = function(t, e) {
                return (Jo = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            function Zo(t, e) {
                function n() {
                    this.constructor = t
                }
                Jo(t, e),
                t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                new n)
            }
            var Qo = new Xt
              , ts = (function(t) {
                function e(e, n, r) {
                    void 0 === n && (n = 100),
                    void 0 === r && (r = 100);
                    var i = t.call(this, e) || this;
                    return i.tileTransform = new ie,
                    i._width = n,
                    i._height = r,
                    i.uvMatrix = i.texture.uvMatrix || new zn(e),
                    i.pluginName = "tilingSprite",
                    i.uvRespectAnchor = !1,
                    i
                }
                Zo(e, t),
                Object.defineProperty(e.prototype, "clampMargin", {
                    get: function() {
                        return this.uvMatrix.clampMargin
                    },
                    set: function(t) {
                        this.uvMatrix.clampMargin = t,
                        this.uvMatrix.update(!0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "tileScale", {
                    get: function() {
                        return this.tileTransform.scale
                    },
                    set: function(t) {
                        this.tileTransform.scale.copyFrom(t)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "tilePosition", {
                    get: function() {
                        return this.tileTransform.position
                    },
                    set: function(t) {
                        this.tileTransform.position.copyFrom(t)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype._onTextureUpdate = function() {
                    this.uvMatrix && (this.uvMatrix.texture = this._texture),
                    this._cachedTint = 16777215
                }
                ,
                e.prototype._render = function(t) {
                    var e = this._texture;
                    e && e.valid && (this.tileTransform.updateLocalTransform(),
                    this.uvMatrix.update(),
                    t.batch.setObjectRenderer(t.plugins[this.pluginName]),
                    t.plugins[this.pluginName].render(this))
                }
                ,
                e.prototype._calculateBounds = function() {
                    var t = this._width * -this._anchor._x
                      , e = this._height * -this._anchor._y
                      , n = this._width * (1 - this._anchor._x)
                      , r = this._height * (1 - this._anchor._y);
                    this._bounds.addFrame(this.transform, t, e, n, r)
                }
                ,
                e.prototype.getLocalBounds = function(e) {
                    return 0 === this.children.length ? (this._bounds.minX = this._width * -this._anchor._x,
                    this._bounds.minY = this._height * -this._anchor._y,
                    this._bounds.maxX = this._width * (1 - this._anchor._x),
                    this._bounds.maxY = this._height * (1 - this._anchor._y),
                    e || (this._localBoundsRect || (this._localBoundsRect = new jt),
                    e = this._localBoundsRect),
                    this._bounds.getRectangle(e)) : t.prototype.getLocalBounds.call(this, e)
                }
                ,
                e.prototype.containsPoint = function(t) {
                    this.worldTransform.applyInverse(t, Qo);
                    var e = this._width
                      , n = this._height
                      , r = -e * this.anchor._x;
                    if (Qo.x >= r && Qo.x < r + e) {
                        var i = -n * this.anchor._y;
                        if (Qo.y >= i && Qo.y < i + n)
                            return !0
                    }
                    return !1
                }
                ,
                e.prototype.destroy = function(e) {
                    t.prototype.destroy.call(this, e),
                    this.tileTransform = null,
                    this.uvMatrix = null
                }
                ,
                e.from = function(t, n) {
                    return new e(t instanceof Ve ? t : Ve.from(t, n),n.width,n.height)
                }
                ,
                Object.defineProperty(e.prototype, "width", {
                    get: function() {
                        return this._width
                    },
                    set: function(t) {
                        this._width = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "height", {
                    get: function() {
                        return this._height
                    },
                    set: function(t) {
                        this._height = t
                    },
                    enumerable: !1,
                    configurable: !0
                })
            }(Ao),
            "#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n")
              , es = new qt
              , ns = function(t) {
                function e(e) {
                    var n = t.call(this, e) || this;
                    return e.runners.contextChange.add(n),
                    n.quad = new on,
                    n.state = Wn.for2d(),
                    n
                }
                return Zo(e, t),
                e.prototype.contextChange = function() {
                    var t = this.renderer
                      , e = {
                        globals: t.globalUniforms
                    };
                    this.simpleShader = $n.from(ts, "#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n", e),
                    this.shader = t.context.webGLVersion > 1 ? $n.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n", e) : $n.from(ts, "#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n", e)
                }
                ,
                e.prototype.render = function(t) {
                    var e = this.renderer
                      , n = this.quad
                      , r = n.vertices;
                    r[0] = r[6] = t._width * -t.anchor.x,
                    r[1] = r[3] = t._height * -t.anchor.y,
                    r[2] = r[4] = t._width * (1 - t.anchor.x),
                    r[5] = r[7] = t._height * (1 - t.anchor.y);
                    var i = t.uvRespectAnchor ? t.anchor.x : 0
                      , o = t.uvRespectAnchor ? t.anchor.y : 0;
                    (r = n.uvs)[0] = r[6] = -i,
                    r[1] = r[3] = -o,
                    r[2] = r[4] = 1 - i,
                    r[5] = r[7] = 1 - o,
                    n.invalidate();
                    var s = t._texture
                      , a = s.baseTexture
                      , u = a.alphaMode > 0
                      , h = t.tileTransform.localTransform
                      , l = t.uvMatrix
                      , c = a.isPowerOfTwo && s.frame.width === a.width && s.frame.height === a.height;
                    c && (a._glTextures[e.CONTEXT_UID] ? c = a.wrapMode !== R.CLAMP : a.wrapMode === R.CLAMP && (a.wrapMode = R.REPEAT));
                    var d = c ? this.simpleShader : this.shader
                      , p = s.width
                      , f = s.height
                      , m = t._width
                      , _ = t._height;
                    es.set(h.a * p / m, h.b * p / _, h.c * f / m, h.d * f / _, h.tx / m, h.ty / _),
                    es.invert(),
                    c ? es.prepend(l.mapCoord) : (d.uniforms.uMapCoord = l.mapCoord.toArray(!0),
                    d.uniforms.uClampFrame = l.uClampFrame,
                    d.uniforms.uClampOffset = l.uClampOffset),
                    d.uniforms.uTransform = es.toArray(!0),
                    d.uniforms.uColor = bt(t.tint, t.worldAlpha, d.uniforms.uColor, u),
                    d.uniforms.translationMatrix = t.transform.worldTransform.toArray(!0),
                    d.uniforms.uSampler = s,
                    e.shader.bind(d),
                    e.geometry.bind(n),
                    this.state.blendMode = gt(t.blendMode, u),
                    e.state.set(this.state),
                    e.geometry.draw(this.renderer.gl.TRIANGLES, 6, 0)
                }
                ,
                e.extension = {
                    name: "tilingSprite",
                    type: de.RendererPlugin
                },
                e
            }(dn)
              , rs = function(t, e) {
                return (rs = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            function is(t, e) {
                function n() {
                    this.constructor = t
                }
                rs(t, e),
                t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                new n)
            }
            var os = function() {
                function t(t, e) {
                    this.uvBuffer = t,
                    this.uvMatrix = e,
                    this.data = null,
                    this._bufferUpdateId = -1,
                    this._textureUpdateId = -1,
                    this._updateID = 0
                }
                return t.prototype.update = function(t) {
                    if (t || this._bufferUpdateId !== this.uvBuffer._updateID || this._textureUpdateId !== this.uvMatrix._updateID) {
                        this._bufferUpdateId = this.uvBuffer._updateID,
                        this._textureUpdateId = this.uvMatrix._updateID;
                        var e = this.uvBuffer.data;
                        this.data && this.data.length === e.length || (this.data = new Float32Array(e.length)),
                        this.uvMatrix.multiplyUvs(e, this.data),
                        this._updateID++
                    }
                }
                ,
                t
            }()
              , ss = new Xt
              , as = new Vt
              , us = function(t) {
                function e(e, n, r, i) {
                    void 0 === i && (i = x.TRIANGLES);
                    var o = t.call(this) || this;
                    return o.geometry = e,
                    o.shader = n,
                    o.state = r || Wn.for2d(),
                    o.drawMode = i,
                    o.start = 0,
                    o.size = 0,
                    o.uvs = null,
                    o.indices = null,
                    o.vertexData = new Float32Array(1),
                    o.vertexDirty = -1,
                    o._transformID = -1,
                    o._roundPixels = st.ROUND_PIXELS,
                    o.batchUvs = null,
                    o
                }
                return is(e, t),
                Object.defineProperty(e.prototype, "geometry", {
                    get: function() {
                        return this._geometry
                    },
                    set: function(t) {
                        this._geometry !== t && (this._geometry && (this._geometry.refCount--,
                        0 === this._geometry.refCount && this._geometry.dispose()),
                        this._geometry = t,
                        this._geometry && this._geometry.refCount++,
                        this.vertexDirty = -1)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "uvBuffer", {
                    get: function() {
                        return this.geometry.buffers[1]
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "verticesBuffer", {
                    get: function() {
                        return this.geometry.buffers[0]
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "material", {
                    get: function() {
                        return this.shader
                    },
                    set: function(t) {
                        this.shader = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "blendMode", {
                    get: function() {
                        return this.state.blendMode
                    },
                    set: function(t) {
                        this.state.blendMode = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "roundPixels", {
                    get: function() {
                        return this._roundPixels
                    },
                    set: function(t) {
                        this._roundPixels !== t && (this._transformID = -1),
                        this._roundPixels = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "tint", {
                    get: function() {
                        return "tint"in this.shader ? this.shader.tint : null
                    },
                    set: function(t) {
                        this.shader.tint = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "texture", {
                    get: function() {
                        return "texture"in this.shader ? this.shader.texture : null
                    },
                    set: function(t) {
                        this.shader.texture = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype._render = function(t) {
                    var n = this.geometry.buffers[0].data;
                    this.shader.batchable && this.drawMode === x.TRIANGLES && n.length < 2 * e.BATCHABLE_SIZE ? this._renderToBatch(t) : this._renderDefault(t)
                }
                ,
                e.prototype._renderDefault = function(t) {
                    var e = this.shader;
                    e.alpha = this.worldAlpha,
                    e.update && e.update(),
                    t.batch.flush(),
                    e.uniforms.translationMatrix = this.transform.worldTransform.toArray(!0),
                    t.shader.bind(e),
                    t.state.set(this.state),
                    t.geometry.bind(this.geometry, e),
                    t.geometry.draw(this.drawMode, this.size, this.start, this.geometry.instanceCount)
                }
                ,
                e.prototype._renderToBatch = function(t) {
                    var e = this.geometry
                      , n = this.shader;
                    n.uvMatrix && (n.uvMatrix.update(),
                    this.calculateUvs()),
                    this.calculateVertices(),
                    this.indices = e.indexBuffer.data,
                    this._tintRGB = n._tintRGB,
                    this._texture = n.texture;
                    var r = this.material.pluginName;
                    t.batch.setObjectRenderer(t.plugins[r]),
                    t.plugins[r].render(this)
                }
                ,
                e.prototype.calculateVertices = function() {
                    var t = this.geometry.buffers[0]
                      , e = t.data
                      , n = t._updateID;
                    if (n !== this.vertexDirty || this._transformID !== this.transform._worldID) {
                        this._transformID = this.transform._worldID,
                        this.vertexData.length !== e.length && (this.vertexData = new Float32Array(e.length));
                        for (var r = this.transform.worldTransform, i = r.a, o = r.b, s = r.c, a = r.d, u = r.tx, h = r.ty, l = this.vertexData, c = 0; c < l.length / 2; c++) {
                            var d = e[2 * c]
                              , p = e[2 * c + 1];
                            l[2 * c] = i * d + s * p + u,
                            l[2 * c + 1] = o * d + a * p + h
                        }
                        if (this._roundPixels) {
                            var f = st.RESOLUTION;
                            for (c = 0; c < l.length; ++c)
                                l[c] = Math.round((l[c] * f | 0) / f)
                        }
                        this.vertexDirty = n
                    }
                }
                ,
                e.prototype.calculateUvs = function() {
                    var t = this.geometry.buffers[1]
                      , e = this.shader;
                    e.uvMatrix.isSimple ? this.uvs = t.data : (this.batchUvs || (this.batchUvs = new os(t,e.uvMatrix)),
                    this.batchUvs.update(),
                    this.uvs = this.batchUvs.data)
                }
                ,
                e.prototype._calculateBounds = function() {
                    this.calculateVertices(),
                    this._bounds.addVertexData(this.vertexData, 0, this.vertexData.length)
                }
                ,
                e.prototype.containsPoint = function(t) {
                    if (!this.getBounds().contains(t.x, t.y))
                        return !1;
                    this.worldTransform.applyInverse(t, ss);
                    for (var e = this.geometry.getBuffer("aVertexPosition").data, n = as.points, r = this.geometry.getIndex().data, i = r.length, o = 4 === this.drawMode ? 3 : 1, s = 0; s + 2 < i; s += o) {
                        var a = 2 * r[s]
                          , u = 2 * r[s + 1]
                          , h = 2 * r[s + 2];
                        if (n[0] = e[a],
                        n[1] = e[a + 1],
                        n[2] = e[u],
                        n[3] = e[u + 1],
                        n[4] = e[h],
                        n[5] = e[h + 1],
                        as.contains(ss.x, ss.y))
                            return !0
                    }
                    return !1
                }
                ,
                e.prototype.destroy = function(e) {
                    t.prototype.destroy.call(this, e),
                    this._cachedTexture && (this._cachedTexture.destroy(),
                    this._cachedTexture = null),
                    this.geometry = null,
                    this.shader = null,
                    this.state = null,
                    this.uvs = null,
                    this.indices = null,
                    this.vertexData = null
                }
                ,
                e.BATCHABLE_SIZE = 100,
                e
            }(ce)
              , hs = function(t) {
                function e(e, n) {
                    var r = this
                      , i = {
                        uSampler: e,
                        alpha: 1,
                        uTextureMatrix: qt.IDENTITY,
                        uColor: new Float32Array([1, 1, 1, 1])
                    };
                    return (n = Object.assign({
                        tint: 16777215,
                        alpha: 1,
                        pluginName: "batch"
                    }, n)).uniforms && Object.assign(i, n.uniforms),
                    (r = t.call(this, n.program || jn.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"), i) || this)._colorDirty = !1,
                    r.uvMatrix = new zn(e),
                    r.batchable = void 0 === n.program,
                    r.pluginName = n.pluginName,
                    r.tint = n.tint,
                    r.alpha = n.alpha,
                    r
                }
                return is(e, t),
                Object.defineProperty(e.prototype, "texture", {
                    get: function() {
                        return this.uniforms.uSampler
                    },
                    set: function(t) {
                        this.uniforms.uSampler !== t && (!this.uniforms.uSampler.baseTexture.alphaMode != !t.baseTexture.alphaMode && (this._colorDirty = !0),
                        this.uniforms.uSampler = t,
                        this.uvMatrix.texture = t)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "alpha", {
                    get: function() {
                        return this._alpha
                    },
                    set: function(t) {
                        t !== this._alpha && (this._alpha = t,
                        this._colorDirty = !0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "tint", {
                    get: function() {
                        return this._tint
                    },
                    set: function(t) {
                        t !== this._tint && (this._tint = t,
                        this._tintRGB = (t >> 16) + (65280 & t) + ((255 & t) << 16),
                        this._colorDirty = !0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.update = function() {
                    if (this._colorDirty) {
                        this._colorDirty = !1;
                        var t = this.texture.baseTexture;
                        bt(this._tint, this._alpha, this.uniforms.uColor, t.alphaMode)
                    }
                    this.uvMatrix.update() && (this.uniforms.uTextureMatrix = this.uvMatrix.mapCoord)
                }
                ,
                e
            }($n)
              , ls = function(t) {
                function e(e, n, r) {
                    var i = t.call(this) || this
                      , o = new Je(e)
                      , s = new Je(n,!0)
                      , a = new Je(r,!0,!0);
                    return i.addAttribute("aVertexPosition", o, 2, !1, A.FLOAT).addAttribute("aTextureCoord", s, 2, !1, A.FLOAT).addIndex(a),
                    i._updateId = -1,
                    i
                }
                return is(e, t),
                Object.defineProperty(e.prototype, "vertexDirtyId", {
                    get: function() {
                        return this.buffers[0]._updateID
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e
            }(nn)
              , cs = function(t, e) {
                return (cs = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            }
              , ds = function() {
                this.info = [],
                this.common = [],
                this.page = [],
                this.char = [],
                this.kerning = [],
                this.distanceField = []
            }
              , ps = function() {
                function t() {}
                return t.test = function(t) {
                    return "string" == typeof t && 0 === t.indexOf("info face=")
                }
                ,
                t.parse = function(t) {
                    var e = t.match(/^[a-z]+\s+.+$/gm)
                      , n = {
                        info: [],
                        common: [],
                        page: [],
                        char: [],
                        chars: [],
                        kerning: [],
                        kernings: [],
                        distanceField: []
                    };
                    for (var r in e) {
                        var i = e[r].match(/^[a-z]+/gm)[0]
                          , o = e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm)
                          , s = {};
                        for (var a in o) {
                            var u = o[a].split("=")
                              , h = u[0]
                              , l = u[1].replace(/"/gm, "")
                              , c = parseFloat(l)
                              , d = isNaN(c) ? l : c;
                            s[h] = d
                        }
                        n[i].push(s)
                    }
                    var p = new ds;
                    return n.info.forEach((function(t) {
                        return p.info.push({
                            face: t.face,
                            size: parseInt(t.size, 10)
                        })
                    }
                    )),
                    n.common.forEach((function(t) {
                        return p.common.push({
                            lineHeight: parseInt(t.lineHeight, 10)
                        })
                    }
                    )),
                    n.page.forEach((function(t) {
                        return p.page.push({
                            id: parseInt(t.id, 10),
                            file: t.file
                        })
                    }
                    )),
                    n.char.forEach((function(t) {
                        return p.char.push({
                            id: parseInt(t.id, 10),
                            page: parseInt(t.page, 10),
                            x: parseInt(t.x, 10),
                            y: parseInt(t.y, 10),
                            width: parseInt(t.width, 10),
                            height: parseInt(t.height, 10),
                            xoffset: parseInt(t.xoffset, 10),
                            yoffset: parseInt(t.yoffset, 10),
                            xadvance: parseInt(t.xadvance, 10)
                        })
                    }
                    )),
                    n.kerning.forEach((function(t) {
                        return p.kerning.push({
                            first: parseInt(t.first, 10),
                            second: parseInt(t.second, 10),
                            amount: parseInt(t.amount, 10)
                        })
                    }
                    )),
                    n.distanceField.forEach((function(t) {
                        return p.distanceField.push({
                            distanceRange: parseInt(t.distanceRange, 10),
                            fieldType: t.fieldType
                        })
                    }
                    )),
                    p
                }
                ,
                t
            }()
              , fs = function() {
                function t() {}
                return t.test = function(t) {
                    return t instanceof XMLDocument && t.getElementsByTagName("page").length && null !== t.getElementsByTagName("info")[0].getAttribute("face")
                }
                ,
                t.parse = function(t) {
                    for (var e = new ds, n = t.getElementsByTagName("info"), r = t.getElementsByTagName("common"), i = t.getElementsByTagName("page"), o = t.getElementsByTagName("char"), s = t.getElementsByTagName("kerning"), a = t.getElementsByTagName("distanceField"), u = 0; u < n.length; u++)
                        e.info.push({
                            face: n[u].getAttribute("face"),
                            size: parseInt(n[u].getAttribute("size"), 10)
                        });
                    for (u = 0; u < r.length; u++)
                        e.common.push({
                            lineHeight: parseInt(r[u].getAttribute("lineHeight"), 10)
                        });
                    for (u = 0; u < i.length; u++)
                        e.page.push({
                            id: parseInt(i[u].getAttribute("id"), 10) || 0,
                            file: i[u].getAttribute("file")
                        });
                    for (u = 0; u < o.length; u++) {
                        var h = o[u];
                        e.char.push({
                            id: parseInt(h.getAttribute("id"), 10),
                            page: parseInt(h.getAttribute("page"), 10) || 0,
                            x: parseInt(h.getAttribute("x"), 10),
                            y: parseInt(h.getAttribute("y"), 10),
                            width: parseInt(h.getAttribute("width"), 10),
                            height: parseInt(h.getAttribute("height"), 10),
                            xoffset: parseInt(h.getAttribute("xoffset"), 10),
                            yoffset: parseInt(h.getAttribute("yoffset"), 10),
                            xadvance: parseInt(h.getAttribute("xadvance"), 10)
                        })
                    }
                    for (u = 0; u < s.length; u++)
                        e.kerning.push({
                            first: parseInt(s[u].getAttribute("first"), 10),
                            second: parseInt(s[u].getAttribute("second"), 10),
                            amount: parseInt(s[u].getAttribute("amount"), 10)
                        });
                    for (u = 0; u < a.length; u++)
                        e.distanceField.push({
                            fieldType: a[u].getAttribute("fieldType"),
                            distanceRange: parseInt(a[u].getAttribute("distanceRange"), 10)
                        });
                    return e
                }
                ,
                t
            }()
              , ms = function() {
                function t() {}
                return t.test = function(t) {
                    if ("string" == typeof t && t.indexOf("<font>") > -1) {
                        var e = (new globalThis.DOMParser).parseFromString(t, "text/xml");
                        return fs.test(e)
                    }
                    return !1
                }
                ,
                t.parse = function(t) {
                    var e = (new globalThis.DOMParser).parseFromString(t, "text/xml");
                    return fs.parse(e)
                }
                ,
                t
            }()
              , _s = [ps, fs, ms];
            function vs(t) {
                for (var e = 0; e < _s.length; e++)
                    if (_s[e].test(t))
                        return _s[e];
                return null
            }
            function gs(t, e, n, r, i, o, s) {
                var a = n.text
                  , u = n.fontProperties;
                e.translate(r, i),
                e.scale(o, o);
                var h = s.strokeThickness / 2
                  , l = -s.strokeThickness / 2;
                if (e.font = s.toFontString(),
                e.lineWidth = s.strokeThickness,
                e.textBaseline = s.textBaseline,
                e.lineJoin = s.lineJoin,
                e.miterLimit = s.miterLimit,
                e.fillStyle = function(t, e, n, r, i, o) {
                    var s, a = n.fill;
                    if (!Array.isArray(a))
                        return a;
                    if (1 === a.length)
                        return a[0];
                    var u = n.dropShadow ? n.dropShadowDistance : 0
                      , h = n.padding || 0
                      , l = t.width / r - u - 2 * h
                      , c = t.height / r - u - 2 * h
                      , d = a.slice()
                      , p = n.fillGradientStops.slice();
                    if (!p.length)
                        for (var f = d.length + 1, m = 1; m < f; ++m)
                            p.push(m / f);
                    if (d.unshift(a[0]),
                    p.unshift(0),
                    d.push(a[a.length - 1]),
                    p.push(1),
                    n.fillGradientType === oo.LINEAR_VERTICAL) {
                        s = e.createLinearGradient(l / 2, h, l / 2, c + h);
                        var _ = 0
                          , v = (o.fontProperties.fontSize + n.strokeThickness) / c;
                        for (m = 0; m < i.length; m++)
                            for (var g = o.lineHeight * m, y = 0; y < d.length; y++) {
                                var b = g / c + ("number" == typeof p[y] ? p[y] : y / d.length) * v
                                  , x = Math.max(_, b);
                                x = Math.min(x, 1),
                                s.addColorStop(x, d[y]),
                                _ = x
                            }
                    } else {
                        s = e.createLinearGradient(h, c / 2, l + h, c / 2);
                        var T = d.length + 1
                          , E = 1;
                        for (m = 0; m < d.length; m++) {
                            var A;
                            A = "number" == typeof p[m] ? p[m] : E / T,
                            s.addColorStop(A, d[m]),
                            E++
                        }
                    }
                    return s
                }(t, e, s, o, [a], n),
                e.strokeStyle = s.stroke,
                s.dropShadow) {
                    var c = s.dropShadowColor
                      , d = ft("number" == typeof c ? c : _t(c))
                      , p = s.dropShadowBlur * o
                      , f = s.dropShadowDistance * o;
                    e.shadowColor = "rgba(" + 255 * d[0] + "," + 255 * d[1] + "," + 255 * d[2] + "," + s.dropShadowAlpha + ")",
                    e.shadowBlur = p,
                    e.shadowOffsetX = Math.cos(s.dropShadowAngle) * f,
                    e.shadowOffsetY = Math.sin(s.dropShadowAngle) * f
                } else
                    e.shadowColor = "black",
                    e.shadowBlur = 0,
                    e.shadowOffsetX = 0,
                    e.shadowOffsetY = 0;
                s.stroke && s.strokeThickness && e.strokeText(a, h, l + n.lineHeight - u.descent),
                s.fill && e.fillText(a, h, l + n.lineHeight - u.descent),
                e.setTransform(1, 0, 0, 1, 0, 0),
                e.fillStyle = "rgba(0, 0, 0, 0)"
            }
            function ys(t) {
                return Array.from ? Array.from(t) : t.split("")
            }
            function bs(t) {
                return t.codePointAt ? t.codePointAt(0) : t.charCodeAt(0)
            }
            var xs = function() {
                function t(t, e, n) {
                    var r, i, o = t.info[0], s = t.common[0], a = t.page[0], u = t.distanceField[0], h = Lt(a.file), l = {};
                    this._ownsTextures = n,
                    this.font = o.face,
                    this.size = o.size,
                    this.lineHeight = s.lineHeight / h,
                    this.chars = {},
                    this.pageTextures = l;
                    for (var c = 0; c < t.page.length; c++) {
                        var d = t.page[c]
                          , p = d.id
                          , f = d.file;
                        l[p] = e instanceof Array ? e[c] : e[f],
                        (null == u ? void 0 : u.fieldType) && "none" !== u.fieldType && (l[p].baseTexture.alphaMode = I.NO_PREMULTIPLIED_ALPHA,
                        l[p].baseTexture.mipmap = O.OFF)
                    }
                    for (c = 0; c < t.char.length; c++) {
                        var m = t.char[c]
                          , _ = (p = m.id,
                        m.page)
                          , v = t.char[c]
                          , g = v.x
                          , y = v.y
                          , b = v.width
                          , x = v.height
                          , T = v.xoffset
                          , E = v.yoffset
                          , A = v.xadvance;
                        y /= h,
                        b /= h,
                        x /= h,
                        T /= h,
                        E /= h,
                        A /= h;
                        var S = new jt((g /= h) + l[_].frame.x / h,y + l[_].frame.y / h,b,x);
                        this.chars[p] = {
                            xOffset: T,
                            yOffset: E,
                            xAdvance: A,
                            kerning: {},
                            texture: new Ve(l[_].baseTexture,S),
                            page: _
                        }
                    }
                    for (c = 0; c < t.kerning.length; c++) {
                        var w = t.kerning[c]
                          , R = w.first
                          , C = w.second
                          , D = w.amount;
                        R /= h,
                        C /= h,
                        D /= h,
                        this.chars[C] && (this.chars[C].kerning[R] = D)
                    }
                    this.distanceFieldRange = null == u ? void 0 : u.distanceRange,
                    this.distanceFieldType = null !== (i = null === (r = null == u ? void 0 : u.fieldType) || void 0 === r ? void 0 : r.toLowerCase()) && void 0 !== i ? i : "none"
                }
                return t.prototype.destroy = function() {
                    for (var t in this.chars)
                        this.chars[t].texture.destroy(),
                        this.chars[t].texture = null;
                    for (var t in this.pageTextures)
                        this._ownsTextures && this.pageTextures[t].destroy(!0),
                        this.pageTextures[t] = null;
                    this.chars = null,
                    this.pageTextures = null
                }
                ,
                t.install = function(e, n, r) {
                    var i;
                    if (e instanceof ds)
                        i = e;
                    else {
                        var o = vs(e);
                        if (!o)
                            throw new Error("Unrecognized data format for font.");
                        i = o.parse(e)
                    }
                    n instanceof Ve && (n = [n]);
                    var s = new t(i,n,r);
                    return t.available[s.font] = s,
                    s
                }
                ,
                t.uninstall = function(e) {
                    var n = t.available[e];
                    if (!n)
                        throw new Error("No font found named '" + e + "'");
                    n.destroy(),
                    delete t.available[e]
                }
                ,
                t.from = function(e, n, r) {
                    if (!e)
                        throw new Error("[BitmapFont] Property `name` is required.");
                    var i = Object.assign({}, t.defaultOptions, r)
                      , o = i.chars
                      , s = i.padding
                      , a = i.resolution
                      , u = i.textureWidth
                      , h = i.textureHeight
                      , l = function(t) {
                        "string" == typeof t && (t = [t]);
                        for (var e = [], n = 0, r = t.length; n < r; n++) {
                            var i = t[n];
                            if (Array.isArray(i)) {
                                if (2 !== i.length)
                                    throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got " + i.length + ".");
                                var o = i[0].charCodeAt(0)
                                  , s = i[1].charCodeAt(0);
                                if (s < o)
                                    throw new Error("[BitmapFont]: Invalid character range.");
                                for (var a = o, u = s; a <= u; a++)
                                    e.push(String.fromCharCode(a))
                            } else
                                e.push.apply(e, ys(i))
                        }
                        if (0 === e.length)
                            throw new Error("[BitmapFont]: Empty set when resolving characters.");
                        return e
                    }(o)
                      , c = n instanceof Oo ? n : new Oo(n)
                      , d = u
                      , p = new ds;
                    p.info[0] = {
                        face: c.fontFamily,
                        size: c.fontSize
                    },
                    p.common[0] = {
                        lineHeight: c.fontSize
                    };
                    for (var f, m, _, v = 0, g = 0, y = 0, b = [], x = 0; x < l.length; x++) {
                        f || ((f = st.ADAPTER.createCanvas()).width = u,
                        f.height = h,
                        m = f.getContext("2d"),
                        _ = new Ie(f,{
                            resolution: a
                        }),
                        b.push(new Ve(_)),
                        p.page.push({
                            id: b.length - 1,
                            file: ""
                        }));
                        var T = l[x]
                          , E = Po.measureText(T, c, !1, f)
                          , A = E.width
                          , S = Math.ceil(E.height)
                          , w = Math.ceil(("italic" === c.fontStyle ? 2 : 1) * A);
                        if (g >= h - S * a) {
                            if (0 === g)
                                throw new Error("[BitmapFont] textureHeight " + h + "px is too small (fontFamily: '" + c.fontFamily + "', fontSize: " + c.fontSize + "px, char: '" + T + "')");
                            --x,
                            f = null,
                            m = null,
                            _ = null,
                            g = 0,
                            v = 0,
                            y = 0
                        } else if (y = Math.max(S + E.fontProperties.descent, y),
                        w * a + v >= d) {
                            if (0 === v)
                                throw new Error("[BitmapFont] textureWidth " + u + "px is too small (fontFamily: '" + c.fontFamily + "', fontSize: " + c.fontSize + "px, char: '" + T + "')");
                            --x,
                            g += y * a,
                            g = Math.ceil(g),
                            v = 0,
                            y = 0
                        } else {
                            gs(f, m, E, v, g, a, c);
                            var R = bs(E.text);
                            p.char.push({
                                id: R,
                                page: b.length - 1,
                                x: v / a,
                                y: g / a,
                                width: w,
                                height: S,
                                xoffset: 0,
                                yoffset: 0,
                                xadvance: Math.ceil(A - (c.dropShadow ? c.dropShadowDistance : 0) - (c.stroke ? c.strokeThickness : 0))
                            }),
                            v += (w + 2 * s) * a,
                            v = Math.ceil(v)
                        }
                    }
                    x = 0;
                    for (var O = l.length; x < O; x++)
                        for (var I = l[x], C = 0; C < O; C++) {
                            var D = l[C]
                              , M = m.measureText(I).width
                              , P = m.measureText(D).width
                              , N = m.measureText(I + D).width - (M + P);
                            N && p.kerning.push({
                                first: bs(I),
                                second: bs(D),
                                amount: N
                            })
                        }
                    var B = new t(p,b,!0);
                    return void 0 !== t.available[e] && t.uninstall(e),
                    t.available[e] = B,
                    B
                }
                ,
                t.ALPHA = [["a", "z"], ["A", "Z"], " "],
                t.NUMERIC = [["0", "9"]],
                t.ALPHANUMERIC = [["a", "z"], ["A", "Z"], ["0", "9"], " "],
                t.ASCII = [[" ", "~"]],
                t.defaultOptions = {
                    resolution: 1,
                    textureWidth: 512,
                    textureHeight: 512,
                    padding: 4,
                    chars: t.ALPHANUMERIC
                },
                t.available = {},
                t
            }()
              , Ts = []
              , Es = []
              , As = []
              , Ss = (function(t) {
                function e(n, r) {
                    void 0 === r && (r = {});
                    var i = t.call(this) || this;
                    i._tint = 16777215;
                    var o = Object.assign({}, e.styleDefaults, r)
                      , s = o.align
                      , a = o.tint
                      , u = o.maxWidth
                      , h = o.letterSpacing
                      , l = o.fontName
                      , c = o.fontSize;
                    if (!xs.available[l])
                        throw new Error('Missing BitmapFont "' + l + '"');
                    return i._activePagesMeshData = [],
                    i._textWidth = 0,
                    i._textHeight = 0,
                    i._align = s,
                    i._tint = a,
                    i._font = void 0,
                    i._fontName = l,
                    i._fontSize = c,
                    i.text = n,
                    i._maxWidth = u,
                    i._maxLineHeight = 0,
                    i._letterSpacing = h,
                    i._anchor = new zt((function() {
                        i.dirty = !0
                    }
                    ),i,0,0),
                    i._roundPixels = st.ROUND_PIXELS,
                    i.dirty = !0,
                    i._resolution = st.RESOLUTION,
                    i._autoResolution = !0,
                    i._textureCache = {},
                    i
                }
                (function(t, e) {
                    function n() {
                        this.constructor = t
                    }
                    cs(t, e),
                    t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                    new n)
                }
                )(e, t),
                e.prototype.updateText = function() {
                    for (var t, e = xs.available[this._fontName], n = this.fontSize, r = n / e.size, i = new Xt, o = [], s = [], a = [], u = ys(this._text.replace(/(?:\r\n|\r)/g, "\n") || " "), h = this._maxWidth * e.size / n, l = "none" === e.distanceFieldType ? Ts : Es, c = null, d = 0, p = 0, f = 0, m = -1, _ = 0, v = 0, g = 0, y = 0, x = 0; x < u.length; x++) {
                        var T = bs(H = u[x]);
                        if (/(?:\s)/.test(H) && (m = x,
                        _ = d,
                        y++),
                        "\r" !== H && "\n" !== H) {
                            var E = e.chars[T];
                            if (E) {
                                c && E.kerning[c] && (i.x += E.kerning[c]);
                                var A = As.pop() || {
                                    texture: Ve.EMPTY,
                                    line: 0,
                                    charCode: 0,
                                    prevSpaces: 0,
                                    position: new Xt
                                };
                                A.texture = E.texture,
                                A.line = f,
                                A.charCode = T,
                                A.position.x = i.x + E.xOffset + this._letterSpacing / 2,
                                A.position.y = i.y + E.yOffset,
                                A.prevSpaces = y,
                                o.push(A),
                                d = A.position.x + Math.max(E.xAdvance - E.xOffset, E.texture.orig.width),
                                i.x += E.xAdvance + this._letterSpacing,
                                g = Math.max(g, E.yOffset + E.texture.height),
                                c = T,
                                -1 !== m && h > 0 && i.x > h && (St(o, 1 + m - ++v, 1 + x - m),
                                x = m,
                                m = -1,
                                s.push(_),
                                a.push(o.length > 0 ? o[o.length - 1].prevSpaces : 0),
                                p = Math.max(p, _),
                                f++,
                                i.x = 0,
                                i.y += e.lineHeight,
                                c = null,
                                y = 0)
                            }
                        } else
                            s.push(d),
                            a.push(-1),
                            p = Math.max(p, d),
                            ++f,
                            ++v,
                            i.x = 0,
                            i.y += e.lineHeight,
                            c = null,
                            y = 0
                    }
                    var S = u[u.length - 1];
                    "\r" !== S && "\n" !== S && (/(?:\s)/.test(S) && (d = _),
                    s.push(d),
                    p = Math.max(p, d),
                    a.push(-1));
                    var w = [];
                    for (x = 0; x <= f; x++) {
                        var R = 0;
                        "right" === this._align ? R = p - s[x] : "center" === this._align ? R = (p - s[x]) / 2 : "justify" === this._align && (R = a[x] < 0 ? 0 : (p - s[x]) / a[x]),
                        w.push(R)
                    }
                    var O = o.length
                      , I = {}
                      , C = []
                      , D = this._activePagesMeshData;
                    for (l.push.apply(l, D),
                    x = 0; x < O; x++) {
                        var M = ($ = o[x].texture).baseTexture.uid;
                        if (!I[M]) {
                            if (!(J = l.pop())) {
                                var P = new ls
                                  , N = void 0
                                  , B = void 0;
                                "none" === e.distanceFieldType ? (N = new hs(Ve.EMPTY),
                                B = b.NORMAL) : (N = new hs(Ve.EMPTY,{
                                    program: jn.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n", "// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),
                                    uniforms: {
                                        uFWidth: 0
                                    }
                                }),
                                B = b.NORMAL_NPM);
                                var L = new us(P,N);
                                L.blendMode = B,
                                J = {
                                    index: 0,
                                    indexCount: 0,
                                    vertexCount: 0,
                                    uvsCount: 0,
                                    total: 0,
                                    mesh: L,
                                    vertices: null,
                                    uvs: null,
                                    indices: null
                                }
                            }
                            J.index = 0,
                            J.indexCount = 0,
                            J.vertexCount = 0,
                            J.uvsCount = 0,
                            J.total = 0;
                            var F = this._textureCache;
                            F[M] = F[M] || new Ve($.baseTexture),
                            J.mesh.texture = F[M],
                            J.mesh.tint = this._tint,
                            C.push(J),
                            I[M] = J
                        }
                        I[M].total++
                    }
                    for (x = 0; x < D.length; x++)
                        -1 === C.indexOf(D[x]) && this.removeChild(D[x].mesh);
                    for (x = 0; x < C.length; x++)
                        C[x].mesh.parent !== this && this.addChild(C[x].mesh);
                    for (var x in this._activePagesMeshData = C,
                    I) {
                        var G = (J = I[x]).total;
                        if (!((null === (t = J.indices) || void 0 === t ? void 0 : t.length) > 6 * G) || J.vertices.length < 2 * us.BATCHABLE_SIZE)
                            J.vertices = new Float32Array(8 * G),
                            J.uvs = new Float32Array(8 * G),
                            J.indices = new Uint16Array(6 * G);
                        else
                            for (var k = J.total, U = J.vertices, X = 4 * k * 2; X < U.length; X++)
                                U[X] = 0;
                        J.mesh.size = 6 * G
                    }
                    for (x = 0; x < O; x++) {
                        var H, j = (H = o[x]).position.x + w[H.line] * ("justify" === this._align ? H.prevSpaces : 1);
                        this._roundPixels && (j = Math.round(j));
                        var $, W = j * r, V = H.position.y * r, Y = I[($ = H.texture).baseTexture.uid], z = $.frame, q = $._uvs, K = Y.index++;
                        Y.indices[6 * K + 0] = 0 + 4 * K,
                        Y.indices[6 * K + 1] = 1 + 4 * K,
                        Y.indices[6 * K + 2] = 2 + 4 * K,
                        Y.indices[6 * K + 3] = 0 + 4 * K,
                        Y.indices[6 * K + 4] = 2 + 4 * K,
                        Y.indices[6 * K + 5] = 3 + 4 * K,
                        Y.vertices[8 * K + 0] = W,
                        Y.vertices[8 * K + 1] = V,
                        Y.vertices[8 * K + 2] = W + z.width * r,
                        Y.vertices[8 * K + 3] = V,
                        Y.vertices[8 * K + 4] = W + z.width * r,
                        Y.vertices[8 * K + 5] = V + z.height * r,
                        Y.vertices[8 * K + 6] = W,
                        Y.vertices[8 * K + 7] = V + z.height * r,
                        Y.uvs[8 * K + 0] = q.x0,
                        Y.uvs[8 * K + 1] = q.y0,
                        Y.uvs[8 * K + 2] = q.x1,
                        Y.uvs[8 * K + 3] = q.y1,
                        Y.uvs[8 * K + 4] = q.x2,
                        Y.uvs[8 * K + 5] = q.y2,
                        Y.uvs[8 * K + 6] = q.x3,
                        Y.uvs[8 * K + 7] = q.y3
                    }
                    for (var x in this._textWidth = p * r,
                    this._textHeight = (i.y + e.lineHeight) * r,
                    I) {
                        var J = I[x];
                        if (0 !== this.anchor.x || 0 !== this.anchor.y)
                            for (var Z = 0, Q = this._textWidth * this.anchor.x, tt = this._textHeight * this.anchor.y, et = 0; et < J.total; et++)
                                J.vertices[Z++] -= Q,
                                J.vertices[Z++] -= tt,
                                J.vertices[Z++] -= Q,
                                J.vertices[Z++] -= tt,
                                J.vertices[Z++] -= Q,
                                J.vertices[Z++] -= tt,
                                J.vertices[Z++] -= Q,
                                J.vertices[Z++] -= tt;
                        this._maxLineHeight = g * r;
                        var nt = J.mesh.geometry.getBuffer("aVertexPosition")
                          , rt = J.mesh.geometry.getBuffer("aTextureCoord")
                          , it = J.mesh.geometry.getIndex();
                        nt.data = J.vertices,
                        rt.data = J.uvs,
                        it.data = J.indices,
                        nt.update(),
                        rt.update(),
                        it.update()
                    }
                    for (x = 0; x < o.length; x++)
                        As.push(o[x]);
                    this._font = e,
                    this.dirty = !1
                }
                ,
                e.prototype.updateTransform = function() {
                    this.validate(),
                    this.containerUpdateTransform()
                }
                ,
                e.prototype._render = function(e) {
                    this._autoResolution && this._resolution !== e.resolution && (this._resolution = e.resolution,
                    this.dirty = !0);
                    var n = xs.available[this._fontName]
                      , r = n.distanceFieldRange
                      , i = n.distanceFieldType
                      , o = n.size;
                    if ("none" !== i)
                        for (var s = this.worldTransform, a = s.a, u = s.b, h = s.c, l = s.d, c = Math.sqrt(a * a + u * u), d = Math.sqrt(h * h + l * l), p = (Math.abs(c) + Math.abs(d)) / 2, f = this.fontSize / o, m = 0, _ = this._activePagesMeshData; m < _.length; m++)
                            _[m].mesh.shader.uniforms.uFWidth = p * r * f * this._resolution;
                    t.prototype._render.call(this, e)
                }
                ,
                e.prototype.getLocalBounds = function() {
                    return this.validate(),
                    t.prototype.getLocalBounds.call(this)
                }
                ,
                e.prototype.validate = function() {
                    var t = xs.available[this._fontName];
                    if (!t)
                        throw new Error('Missing BitmapFont "' + this._fontName + '"');
                    this._font !== t && (this.dirty = !0),
                    this.dirty && this.updateText()
                }
                ,
                Object.defineProperty(e.prototype, "tint", {
                    get: function() {
                        return this._tint
                    },
                    set: function(t) {
                        if (this._tint !== t) {
                            this._tint = t;
                            for (var e = 0; e < this._activePagesMeshData.length; e++)
                                this._activePagesMeshData[e].mesh.tint = t
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "align", {
                    get: function() {
                        return this._align
                    },
                    set: function(t) {
                        this._align !== t && (this._align = t,
                        this.dirty = !0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "fontName", {
                    get: function() {
                        return this._fontName
                    },
                    set: function(t) {
                        if (!xs.available[t])
                            throw new Error('Missing BitmapFont "' + t + '"');
                        this._fontName !== t && (this._fontName = t,
                        this.dirty = !0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "fontSize", {
                    get: function() {
                        var t;
                        return null !== (t = this._fontSize) && void 0 !== t ? t : xs.available[this._fontName].size
                    },
                    set: function(t) {
                        this._fontSize !== t && (this._fontSize = t,
                        this.dirty = !0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "anchor", {
                    get: function() {
                        return this._anchor
                    },
                    set: function(t) {
                        "number" == typeof t ? this._anchor.set(t) : this._anchor.copyFrom(t)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "text", {
                    get: function() {
                        return this._text
                    },
                    set: function(t) {
                        t = String(null == t ? "" : t),
                        this._text !== t && (this._text = t,
                        this.dirty = !0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "maxWidth", {
                    get: function() {
                        return this._maxWidth
                    },
                    set: function(t) {
                        this._maxWidth !== t && (this._maxWidth = t,
                        this.dirty = !0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "maxLineHeight", {
                    get: function() {
                        return this.validate(),
                        this._maxLineHeight
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "textWidth", {
                    get: function() {
                        return this.validate(),
                        this._textWidth
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "letterSpacing", {
                    get: function() {
                        return this._letterSpacing
                    },
                    set: function(t) {
                        this._letterSpacing !== t && (this._letterSpacing = t,
                        this.dirty = !0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "roundPixels", {
                    get: function() {
                        return this._roundPixels
                    },
                    set: function(t) {
                        t !== this._roundPixels && (this._roundPixels = t,
                        this.dirty = !0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "textHeight", {
                    get: function() {
                        return this.validate(),
                        this._textHeight
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "resolution", {
                    get: function() {
                        return this._resolution
                    },
                    set: function(t) {
                        this._autoResolution = !1,
                        this._resolution !== t && (this._resolution = t,
                        this.dirty = !0)
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.destroy = function(e) {
                    var n = this._textureCache
                      , r = "none" === xs.available[this._fontName].distanceFieldType ? Ts : Es;
                    r.push.apply(r, this._activePagesMeshData);
                    for (var i = 0, o = this._activePagesMeshData; i < o.length; i++) {
                        var s = o[i];
                        this.removeChild(s.mesh)
                    }
                    for (var a in this._activePagesMeshData = [],
                    r.filter((function(t) {
                        return n[t.mesh.texture.baseTexture.uid]
                    }
                    )).forEach((function(t) {
                        t.mesh.texture = Ve.EMPTY
                    }
                    )),
                    n)
                        n[a].destroy(),
                        delete n[a];
                    this._font = null,
                    this._textureCache = null,
                    t.prototype.destroy.call(this, e)
                }
                ,
                e.styleDefaults = {
                    align: "left",
                    tint: 16777215,
                    maxWidth: 0,
                    letterSpacing: 0
                }
            }(ce),
            function() {
                function t() {}
                return t.add = function() {
                    ii.setExtensionXhrType("fnt", ii.XHR_RESPONSE_TYPE.TEXT)
                }
                ,
                t.use = function(e, n) {
                    var r = vs(e.data);
                    if (r)
                        for (var i = t.getBaseUrl(this, e), o = r.parse(e.data), s = {}, a = function(t) {
                            s[t.metadata.pageFile] = t.texture,
                            Object.keys(s).length === o.page.length && (e.bitmapFont = xs.install(o, s, !0),
                            n())
                        }, u = 0; u < o.page.length; ++u) {
                            var h = o.page[u].file
                              , l = i + h
                              , c = !1;
                            for (var d in this.resources) {
                                var p = this.resources[d];
                                if (p.url === l) {
                                    p.metadata.pageFile = h,
                                    p.texture ? a(p) : p.onAfterMiddleware.add(a),
                                    c = !0;
                                    break
                                }
                            }
                            if (!c) {
                                var f = {
                                    crossOrigin: e.crossOrigin,
                                    loadType: ii.LOAD_TYPE.IMAGE,
                                    metadata: Object.assign({
                                        pageFile: h
                                    }, e.metadata.imageMetadata),
                                    parentResource: e
                                };
                                this.add(l, f, a)
                            }
                        }
                    else
                        n()
                }
                ,
                t.getBaseUrl = function(e, n) {
                    var r = n.isDataUrl ? "" : t.dirname(n.url);
                    return n.isDataUrl && ("." === r && (r = ""),
                    e.baseUrl && r && "/" === e.baseUrl.charAt(e.baseUrl.length - 1) && (r += "/")),
                    (r = r.replace(e.baseUrl, "")) && "/" !== r.charAt(r.length - 1) && (r += "/"),
                    r
                }
                ,
                t.dirname = function(t) {
                    var e = t.replace(/\\/g, "/").replace(/\/$/, "").replace(/\/[^\/]*$/, "");
                    return e === t ? "." : "" === e ? "/" : e
                }
                ,
                t.extension = de.Loader,
                t
            }())
              , ws = function(t, e) {
                return (ws = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            !function(t) {
                function e(e) {
                    void 0 === e && (e = 1);
                    var n = t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n", {
                        uAlpha: 1
                    }) || this;
                    return n.alpha = e,
                    n
                }
                (function(t, e) {
                    function n() {
                        this.constructor = t
                    }
                    ws(t, e),
                    t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                    new n)
                }
                )(e, t),
                Object.defineProperty(e.prototype, "alpha", {
                    get: function() {
                        return this.uniforms.uAlpha
                    },
                    set: function(t) {
                        this.uniforms.uAlpha = t
                    },
                    enumerable: !1,
                    configurable: !0
                })
            }(Vn);
            var Rs = function(t, e) {
                return (Rs = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            function Os(t, e) {
                function n() {
                    this.constructor = t
                }
                Rs(t, e),
                t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                new n)
            }
            var Is = {
                5: [.153388, .221461, .250301],
                7: [.071303, .131514, .189879, .214607],
                9: [.028532, .067234, .124009, .179044, .20236],
                11: [.0093, .028002, .065984, .121703, .175713, .198596],
                13: [.002406, .009255, .027867, .065666, .121117, .174868, .197641],
                15: [489e-6, .002403, .009246, .02784, .065602, .120999, .174697, .197448]
            }
              , Cs = ["varying vec2 vBlurTexCoords[%size%];", "uniform sampler2D uSampler;", "void main(void)", "{", "    gl_FragColor = vec4(0.0);", "    %blur%", "}"].join("\n")
              , Ds = function(t) {
                function e(e, n, r, i, o) {
                    void 0 === n && (n = 8),
                    void 0 === r && (r = 4),
                    void 0 === i && (i = st.FILTER_RESOLUTION),
                    void 0 === o && (o = 5);
                    var s = this
                      , a = function(t, e) {
                        var n, r = Math.ceil(t / 2), i = "\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }", o = "";
                        n = e ? "vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);" : "vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";
                        for (var s = 0; s < t; s++) {
                            var a = n.replace("%index%", s.toString());
                            o += a = a.replace("%sampleIndex%", s - (r - 1) + ".0"),
                            o += "\n"
                        }
                        return (i = i.replace("%blur%", o)).replace("%size%", t.toString())
                    }(o, e)
                      , u = function(t) {
                        for (var e, n = Is[t], r = n.length, i = Cs, o = "", s = 0; s < t; s++) {
                            var a = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%", s.toString());
                            e = s,
                            s >= r && (e = t - s - 1),
                            o += a = a.replace("%value%", n[e].toString()),
                            o += "\n"
                        }
                        return (i = i.replace("%blur%", o)).replace("%size%", t.toString())
                    }(o);
                    return (s = t.call(this, a, u) || this).horizontal = e,
                    s.resolution = i,
                    s._quality = 0,
                    s.quality = r,
                    s.blur = n,
                    s
                }
                return Os(e, t),
                e.prototype.apply = function(t, e, n, r) {
                    if (n ? this.horizontal ? this.uniforms.strength = 1 / n.width * (n.width / e.width) : this.uniforms.strength = 1 / n.height * (n.height / e.height) : this.horizontal ? this.uniforms.strength = 1 / t.renderer.width * (t.renderer.width / e.width) : this.uniforms.strength = 1 / t.renderer.height * (t.renderer.height / e.height),
                    this.uniforms.strength *= this.strength,
                    this.uniforms.strength /= this.passes,
                    1 === this.passes)
                        t.applyFilter(this, e, n, r);
                    else {
                        var i = t.getFilterTexture()
                          , o = t.renderer
                          , s = e
                          , a = i;
                        this.state.blend = !1,
                        t.applyFilter(this, s, a, C.CLEAR);
                        for (var u = 1; u < this.passes - 1; u++) {
                            t.bindAndClear(s, C.BLIT),
                            this.uniforms.uSampler = a;
                            var h = a;
                            a = s,
                            s = h,
                            o.shader.bind(this),
                            o.geometry.draw(5)
                        }
                        this.state.blend = !0,
                        t.applyFilter(this, a, n, r),
                        t.returnFilterTexture(i)
                    }
                }
                ,
                Object.defineProperty(e.prototype, "blur", {
                    get: function() {
                        return this.strength
                    },
                    set: function(t) {
                        this.padding = 1 + 2 * Math.abs(t),
                        this.strength = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "quality", {
                    get: function() {
                        return this._quality
                    },
                    set: function(t) {
                        this._quality = t,
                        this.passes = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e
            }(Vn)
              , Ms = (function(t) {
                function e(e, n, r, i) {
                    void 0 === e && (e = 8),
                    void 0 === n && (n = 4),
                    void 0 === r && (r = st.FILTER_RESOLUTION),
                    void 0 === i && (i = 5);
                    var o = t.call(this) || this;
                    return o.blurXFilter = new Ds(!0,e,n,r,i),
                    o.blurYFilter = new Ds(!1,e,n,r,i),
                    o.resolution = r,
                    o.quality = n,
                    o.blur = e,
                    o.repeatEdgePixels = !1,
                    o
                }
                Os(e, t),
                e.prototype.apply = function(t, e, n, r) {
                    var i = Math.abs(this.blurXFilter.strength)
                      , o = Math.abs(this.blurYFilter.strength);
                    if (i && o) {
                        var s = t.getFilterTexture();
                        this.blurXFilter.apply(t, e, s, C.CLEAR),
                        this.blurYFilter.apply(t, s, n, r),
                        t.returnFilterTexture(s)
                    } else
                        o ? this.blurYFilter.apply(t, e, n, r) : this.blurXFilter.apply(t, e, n, r)
                }
                ,
                e.prototype.updatePadding = function() {
                    this._repeatEdgePixels ? this.padding = 0 : this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
                }
                ,
                Object.defineProperty(e.prototype, "blur", {
                    get: function() {
                        return this.blurXFilter.blur
                    },
                    set: function(t) {
                        this.blurXFilter.blur = this.blurYFilter.blur = t,
                        this.updatePadding()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "quality", {
                    get: function() {
                        return this.blurXFilter.quality
                    },
                    set: function(t) {
                        this.blurXFilter.quality = this.blurYFilter.quality = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "blurX", {
                    get: function() {
                        return this.blurXFilter.blur
                    },
                    set: function(t) {
                        this.blurXFilter.blur = t,
                        this.updatePadding()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "blurY", {
                    get: function() {
                        return this.blurYFilter.blur
                    },
                    set: function(t) {
                        this.blurYFilter.blur = t,
                        this.updatePadding()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "blendMode", {
                    get: function() {
                        return this.blurYFilter.blendMode
                    },
                    set: function(t) {
                        this.blurYFilter.blendMode = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "repeatEdgePixels", {
                    get: function() {
                        return this._repeatEdgePixels
                    },
                    set: function(t) {
                        this._repeatEdgePixels = t,
                        this.updatePadding()
                    },
                    enumerable: !1,
                    configurable: !0
                })
            }(Vn),
            function(t, e) {
                return (Ms = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            }
            )
              , Ps = function(t) {
                function e() {
                    var e = this
                      , n = {
                        m: new Float32Array([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0]),
                        uAlpha: 1
                    };
                    return (e = t.call(this, Er, "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n", n) || this).alpha = 1,
                    e
                }
                return function(t, e) {
                    function n() {
                        this.constructor = t
                    }
                    Ms(t, e),
                    t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                    new n)
                }(e, t),
                e.prototype._loadMatrix = function(t, e) {
                    void 0 === e && (e = !1);
                    var n = t;
                    e && (this._multiply(n, this.uniforms.m, t),
                    n = this._colorMatrix(n)),
                    this.uniforms.m = n
                }
                ,
                e.prototype._multiply = function(t, e, n) {
                    return t[0] = e[0] * n[0] + e[1] * n[5] + e[2] * n[10] + e[3] * n[15],
                    t[1] = e[0] * n[1] + e[1] * n[6] + e[2] * n[11] + e[3] * n[16],
                    t[2] = e[0] * n[2] + e[1] * n[7] + e[2] * n[12] + e[3] * n[17],
                    t[3] = e[0] * n[3] + e[1] * n[8] + e[2] * n[13] + e[3] * n[18],
                    t[4] = e[0] * n[4] + e[1] * n[9] + e[2] * n[14] + e[3] * n[19] + e[4],
                    t[5] = e[5] * n[0] + e[6] * n[5] + e[7] * n[10] + e[8] * n[15],
                    t[6] = e[5] * n[1] + e[6] * n[6] + e[7] * n[11] + e[8] * n[16],
                    t[7] = e[5] * n[2] + e[6] * n[7] + e[7] * n[12] + e[8] * n[17],
                    t[8] = e[5] * n[3] + e[6] * n[8] + e[7] * n[13] + e[8] * n[18],
                    t[9] = e[5] * n[4] + e[6] * n[9] + e[7] * n[14] + e[8] * n[19] + e[9],
                    t[10] = e[10] * n[0] + e[11] * n[5] + e[12] * n[10] + e[13] * n[15],
                    t[11] = e[10] * n[1] + e[11] * n[6] + e[12] * n[11] + e[13] * n[16],
                    t[12] = e[10] * n[2] + e[11] * n[7] + e[12] * n[12] + e[13] * n[17],
                    t[13] = e[10] * n[3] + e[11] * n[8] + e[12] * n[13] + e[13] * n[18],
                    t[14] = e[10] * n[4] + e[11] * n[9] + e[12] * n[14] + e[13] * n[19] + e[14],
                    t[15] = e[15] * n[0] + e[16] * n[5] + e[17] * n[10] + e[18] * n[15],
                    t[16] = e[15] * n[1] + e[16] * n[6] + e[17] * n[11] + e[18] * n[16],
                    t[17] = e[15] * n[2] + e[16] * n[7] + e[17] * n[12] + e[18] * n[17],
                    t[18] = e[15] * n[3] + e[16] * n[8] + e[17] * n[13] + e[18] * n[18],
                    t[19] = e[15] * n[4] + e[16] * n[9] + e[17] * n[14] + e[18] * n[19] + e[19],
                    t
                }
                ,
                e.prototype._colorMatrix = function(t) {
                    var e = new Float32Array(t);
                    return e[4] /= 255,
                    e[9] /= 255,
                    e[14] /= 255,
                    e[19] /= 255,
                    e
                }
                ,
                e.prototype.brightness = function(t, e) {
                    var n = [t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(n, e)
                }
                ,
                e.prototype.tint = function(t, e) {
                    var n = [(t >> 16 & 255) / 255, 0, 0, 0, 0, 0, (t >> 8 & 255) / 255, 0, 0, 0, 0, 0, (255 & t) / 255, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(n, e)
                }
                ,
                e.prototype.greyscale = function(t, e) {
                    var n = [t, t, t, 0, 0, t, t, t, 0, 0, t, t, t, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(n, e)
                }
                ,
                e.prototype.blackAndWhite = function(t) {
                    this._loadMatrix([.3, .6, .1, 0, 0, .3, .6, .1, 0, 0, .3, .6, .1, 0, 0, 0, 0, 0, 1, 0], t)
                }
                ,
                e.prototype.hue = function(t, e) {
                    t = (t || 0) / 180 * Math.PI;
                    var n = Math.cos(t)
                      , r = Math.sin(t)
                      , i = 1 / 3
                      , o = (0,
                    Math.sqrt)(i)
                      , s = [n + (1 - n) * i, i * (1 - n) - o * r, i * (1 - n) + o * r, 0, 0, i * (1 - n) + o * r, n + i * (1 - n), i * (1 - n) - o * r, 0, 0, i * (1 - n) - o * r, i * (1 - n) + o * r, n + i * (1 - n), 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(s, e)
                }
                ,
                e.prototype.contrast = function(t, e) {
                    var n = (t || 0) + 1
                      , r = -.5 * (n - 1)
                      , i = [n, 0, 0, 0, r, 0, n, 0, 0, r, 0, 0, n, 0, r, 0, 0, 0, 1, 0];
                    this._loadMatrix(i, e)
                }
                ,
                e.prototype.saturate = function(t, e) {
                    void 0 === t && (t = 0);
                    var n = 2 * t / 3 + 1
                      , r = -.5 * (n - 1)
                      , i = [n, r, r, 0, 0, r, n, r, 0, 0, r, r, n, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(i, e)
                }
                ,
                e.prototype.desaturate = function() {
                    this.saturate(-1)
                }
                ,
                e.prototype.negative = function(t) {
                    this._loadMatrix([-1, 0, 0, 1, 0, 0, -1, 0, 1, 0, 0, 0, -1, 1, 0, 0, 0, 0, 1, 0], t)
                }
                ,
                e.prototype.sepia = function(t) {
                    this._loadMatrix([.393, .7689999, .18899999, 0, 0, .349, .6859999, .16799999, 0, 0, .272, .5339999, .13099999, 0, 0, 0, 0, 0, 1, 0], t)
                }
                ,
                e.prototype.technicolor = function(t) {
                    this._loadMatrix([1.9125277891456083, -.8545344976951645, -.09155508482755585, 0, 11.793603434377337, -.3087833385928097, 1.7658908555458428, -.10601743074722245, 0, -70.35205161461398, -.231103377548616, -.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0], t)
                }
                ,
                e.prototype.polaroid = function(t) {
                    this._loadMatrix([1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0], t)
                }
                ,
                e.prototype.toBGR = function(t) {
                    this._loadMatrix([0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0], t)
                }
                ,
                e.prototype.kodachrome = function(t) {
                    this._loadMatrix([1.1285582396593525, -.3967382283601348, -.03992559172921793, 0, 63.72958762196502, -.16404339962244616, 1.0835251566291304, -.05498805115633132, 0, 24.732407896706203, -.16786010706155763, -.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1, 0], t)
                }
                ,
                e.prototype.browni = function(t) {
                    this._loadMatrix([.5997023498159715, .34553243048391263, -.2708298674538042, 0, 47.43192855600873, -.037703249837783157, .8609577587992641, .15059552388459913, 0, -36.96841498319127, .24113635128153335, -.07441037908422492, .44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0], t)
                }
                ,
                e.prototype.vintage = function(t) {
                    this._loadMatrix([.6279345635605994, .3202183420819367, -.03965408211312453, 0, 9.651285835294123, .02578397704808868, .6441188644374771, .03259127616149294, 0, 7.462829176470591, .0466055556782719, -.0851232987247891, .5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0], t)
                }
                ,
                e.prototype.colorTone = function(t, e, n, r, i) {
                    var o = ((n = n || 16770432) >> 16 & 255) / 255
                      , s = (n >> 8 & 255) / 255
                      , a = (255 & n) / 255
                      , u = ((r = r || 3375104) >> 16 & 255) / 255
                      , h = (r >> 8 & 255) / 255
                      , l = (255 & r) / 255
                      , c = [.3, .59, .11, 0, 0, o, s, a, t = t || .2, 0, u, h, l, e = e || .15, 0, o - u, s - h, a - l, 0, 0];
                    this._loadMatrix(c, i)
                }
                ,
                e.prototype.night = function(t, e) {
                    var n = [-2 * (t = t || .1), -t, 0, 0, 0, -t, 0, t, 0, 0, 0, t, 2 * t, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(n, e)
                }
                ,
                e.prototype.predator = function(t, e) {
                    var n = [11.224130630493164 * t, -4.794486999511719 * t, -2.8746118545532227 * t, 0 * t, .40342438220977783 * t, -3.6330697536468506 * t, 9.193157196044922 * t, -2.951810836791992 * t, 0 * t, -1.316135048866272 * t, -3.2184197902679443 * t, -4.2375030517578125 * t, 7.476448059082031 * t, 0 * t, .8044459223747253 * t, 0, 0, 0, 1, 0];
                    this._loadMatrix(n, e)
                }
                ,
                e.prototype.lsd = function(t) {
                    this._loadMatrix([2, -.4, .5, 0, 0, -.5, 2, -.4, 0, 0, -.4, -.5, 3, 0, 0, 0, 0, 0, 1, 0], t)
                }
                ,
                e.prototype.reset = function() {
                    this._loadMatrix([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], !1)
                }
                ,
                Object.defineProperty(e.prototype, "matrix", {
                    get: function() {
                        return this.uniforms.m
                    },
                    set: function(t) {
                        this.uniforms.m = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "alpha", {
                    get: function() {
                        return this.uniforms.uAlpha
                    },
                    set: function(t) {
                        this.uniforms.uAlpha = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e
            }(Vn);
            Ps.prototype.grayscale = Ps.prototype.greyscale;
            var Ns = function(t, e) {
                return (Ns = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            !function(t) {
                function e(e, n) {
                    var r = this
                      , i = new qt;
                    return e.renderable = !1,
                    (r = t.call(this, "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n", "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n", {
                        mapSampler: e._texture,
                        filterMatrix: i,
                        scale: {
                            x: 1,
                            y: 1
                        },
                        rotation: new Float32Array([1, 0, 0, 1])
                    }) || this).maskSprite = e,
                    r.maskMatrix = i,
                    null == n && (n = 20),
                    r.scale = new Xt(n,n),
                    r
                }
                (function(t, e) {
                    function n() {
                        this.constructor = t
                    }
                    Ns(t, e),
                    t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                    new n)
                }
                )(e, t),
                e.prototype.apply = function(t, e, n, r) {
                    this.uniforms.filterMatrix = t.calculateSpriteMatrix(this.maskMatrix, this.maskSprite),
                    this.uniforms.scale.x = this.scale.x,
                    this.uniforms.scale.y = this.scale.y;
                    var i = this.maskSprite.worldTransform
                      , o = Math.sqrt(i.a * i.a + i.b * i.b)
                      , s = Math.sqrt(i.c * i.c + i.d * i.d);
                    0 !== o && 0 !== s && (this.uniforms.rotation[0] = i.a / o,
                    this.uniforms.rotation[1] = i.b / o,
                    this.uniforms.rotation[2] = i.c / s,
                    this.uniforms.rotation[3] = i.d / s),
                    t.applyFilter(this, e, n, r)
                }
                ,
                Object.defineProperty(e.prototype, "map", {
                    get: function() {
                        return this.uniforms.mapSampler
                    },
                    set: function(t) {
                        this.uniforms.mapSampler = t
                    },
                    enumerable: !1,
                    configurable: !0
                })
            }(Vn);
            var Bs, Ls = function(t, e) {
                return (Ls = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            (function(t, e) {
                function n() {
                    this.constructor = t
                }
                Ls(t, e),
                t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                new n)
            }
            )((function() {
                return Bs.call(this, "\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n", 'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n') || this
            }
            ), Bs = Vn);
            var Fs = function(t, e) {
                return (Fs = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            !function(t) {
                function e(e, n) {
                    void 0 === e && (e = .5),
                    void 0 === n && (n = Math.random());
                    var r = t.call(this, Er, "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n", {
                        uNoise: 0,
                        uSeed: 0
                    }) || this;
                    return r.noise = e,
                    r.seed = n,
                    r
                }
                (function(t, e) {
                    function n() {
                        this.constructor = t
                    }
                    Fs(t, e),
                    t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                    new n)
                }
                )(e, t),
                Object.defineProperty(e.prototype, "noise", {
                    get: function() {
                        return this.uniforms.uNoise
                    },
                    set: function(t) {
                        this.uniforms.uNoise = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "seed", {
                    get: function() {
                        return this.uniforms.uSeed
                    },
                    set: function(t) {
                        this.uniforms.uSeed = t
                    },
                    enumerable: !1,
                    configurable: !0
                })
            }(Vn);
            var Gs = new qt;
            ue.prototype._cacheAsBitmap = !1,
            ue.prototype._cacheData = null,
            ue.prototype._cacheAsBitmapResolution = null,
            ue.prototype._cacheAsBitmapMultisample = B.NONE;
            var ks = function() {
                this.textureCacheId = null,
                this.originalRender = null,
                this.originalRenderCanvas = null,
                this.originalCalculateBounds = null,
                this.originalGetLocalBounds = null,
                this.originalUpdateTransform = null,
                this.originalDestroy = null,
                this.originalMask = null,
                this.originalFilterArea = null,
                this.originalContainsPoint = null,
                this.sprite = null
            };
            Object.defineProperties(ue.prototype, {
                cacheAsBitmapResolution: {
                    get: function() {
                        return this._cacheAsBitmapResolution
                    },
                    set: function(t) {
                        t !== this._cacheAsBitmapResolution && (this._cacheAsBitmapResolution = t,
                        this.cacheAsBitmap && (this.cacheAsBitmap = !1,
                        this.cacheAsBitmap = !0))
                    }
                },
                cacheAsBitmapMultisample: {
                    get: function() {
                        return this._cacheAsBitmapMultisample
                    },
                    set: function(t) {
                        t !== this._cacheAsBitmapMultisample && (this._cacheAsBitmapMultisample = t,
                        this.cacheAsBitmap && (this.cacheAsBitmap = !1,
                        this.cacheAsBitmap = !0))
                    }
                },
                cacheAsBitmap: {
                    get: function() {
                        return this._cacheAsBitmap
                    },
                    set: function(t) {
                        var e;
                        this._cacheAsBitmap !== t && (this._cacheAsBitmap = t,
                        t ? (this._cacheData || (this._cacheData = new ks),
                        (e = this._cacheData).originalRender = this.render,
                        e.originalRenderCanvas = this.renderCanvas,
                        e.originalUpdateTransform = this.updateTransform,
                        e.originalCalculateBounds = this.calculateBounds,
                        e.originalGetLocalBounds = this.getLocalBounds,
                        e.originalDestroy = this.destroy,
                        e.originalContainsPoint = this.containsPoint,
                        e.originalMask = this._mask,
                        e.originalFilterArea = this.filterArea,
                        this.render = this._renderCached,
                        this.renderCanvas = this._renderCachedCanvas,
                        this.destroy = this._cacheAsBitmapDestroy) : ((e = this._cacheData).sprite && this._destroyCachedDisplayObject(),
                        this.render = e.originalRender,
                        this.renderCanvas = e.originalRenderCanvas,
                        this.calculateBounds = e.originalCalculateBounds,
                        this.getLocalBounds = e.originalGetLocalBounds,
                        this.destroy = e.originalDestroy,
                        this.updateTransform = e.originalUpdateTransform,
                        this.containsPoint = e.originalContainsPoint,
                        this._mask = e.originalMask,
                        this.filterArea = e.originalFilterArea))
                    }
                }
            }),
            ue.prototype._renderCached = function(t) {
                !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObject(t),
                this._cacheData.sprite.transform._worldID = this.transform._worldID,
                this._cacheData.sprite.worldAlpha = this.worldAlpha,
                this._cacheData.sprite._render(t))
            }
            ,
            ue.prototype._initCachedDisplayObject = function(t) {
                var e;
                if (!this._cacheData || !this._cacheData.sprite) {
                    var n = this.alpha;
                    this.alpha = 1,
                    t.batch.flush();
                    var r = this.getLocalBounds(null, !0).clone();
                    if (this.filters && this.filters.length) {
                        var i = this.filters[0].padding;
                        r.pad(i)
                    }
                    r.ceil(st.RESOLUTION);
                    var o = t.renderTexture.current
                      , s = t.renderTexture.sourceFrame.clone()
                      , a = t.renderTexture.destinationFrame.clone()
                      , u = t.projection.transform
                      , h = Ye.create({
                        width: r.width,
                        height: r.height,
                        resolution: this.cacheAsBitmapResolution || t.resolution,
                        multisample: null !== (e = this.cacheAsBitmapMultisample) && void 0 !== e ? e : t.multisample
                    })
                      , l = "cacheAsBitmap_" + Ot();
                    this._cacheData.textureCacheId = l,
                    Ie.addToCache(h.baseTexture, l),
                    Ve.addToCache(h, l);
                    var c = this.transform.localTransform.copyTo(Gs).invert().translate(-r.x, -r.y);
                    this.render = this._cacheData.originalRender,
                    t.render(this, {
                        renderTexture: h,
                        clear: !0,
                        transform: c,
                        skipUpdateTransform: !1
                    }),
                    t.framebuffer.blit(),
                    t.projection.transform = u,
                    t.renderTexture.bind(o, s, a),
                    this.render = this._renderCached,
                    this.updateTransform = this.displayObjectUpdateTransform,
                    this.calculateBounds = this._calculateCachedBounds,
                    this.getLocalBounds = this._getCachedLocalBounds,
                    this._mask = null,
                    this.filterArea = null,
                    this.alpha = n;
                    var d = new Ao(h);
                    d.transform.worldTransform = this.transform.worldTransform,
                    d.anchor.x = -r.x / r.width,
                    d.anchor.y = -r.y / r.height,
                    d.alpha = n,
                    d._bounds = this._bounds,
                    this._cacheData.sprite = d,
                    this.transform._parentID = -1,
                    this.parent ? this.updateTransform() : (this.enableTempParent(),
                    this.updateTransform(),
                    this.disableTempParent(null)),
                    this.containsPoint = d.containsPoint.bind(d)
                }
            }
            ,
            ue.prototype._renderCachedCanvas = function(t) {
                !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObjectCanvas(t),
                this._cacheData.sprite.worldAlpha = this.worldAlpha,
                this._cacheData.sprite._renderCanvas(t))
            }
            ,
            ue.prototype._initCachedDisplayObjectCanvas = function(t) {
                if (!this._cacheData || !this._cacheData.sprite) {
                    var e = this.getLocalBounds(null, !0)
                      , n = this.alpha;
                    this.alpha = 1;
                    var r = t.context
                      , i = t._projTransform;
                    e.ceil(st.RESOLUTION);
                    var o = Ye.create({
                        width: e.width,
                        height: e.height
                    })
                      , s = "cacheAsBitmap_" + Ot();
                    this._cacheData.textureCacheId = s,
                    Ie.addToCache(o.baseTexture, s),
                    Ve.addToCache(o, s);
                    var a = Gs;
                    this.transform.localTransform.copyTo(a),
                    a.invert(),
                    a.tx -= e.x,
                    a.ty -= e.y,
                    this.renderCanvas = this._cacheData.originalRenderCanvas,
                    t.render(this, {
                        renderTexture: o,
                        clear: !0,
                        transform: a,
                        skipUpdateTransform: !1
                    }),
                    t.context = r,
                    t._projTransform = i,
                    this.renderCanvas = this._renderCachedCanvas,
                    this.updateTransform = this.displayObjectUpdateTransform,
                    this.calculateBounds = this._calculateCachedBounds,
                    this.getLocalBounds = this._getCachedLocalBounds,
                    this._mask = null,
                    this.filterArea = null,
                    this.alpha = n;
                    var u = new Ao(o);
                    u.transform.worldTransform = this.transform.worldTransform,
                    u.anchor.x = -e.x / e.width,
                    u.anchor.y = -e.y / e.height,
                    u.alpha = n,
                    u._bounds = this._bounds,
                    this._cacheData.sprite = u,
                    this.transform._parentID = -1,
                    this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent,
                    this.updateTransform(),
                    this.parent = null),
                    this.containsPoint = u.containsPoint.bind(u)
                }
            }
            ,
            ue.prototype._calculateCachedBounds = function() {
                this._bounds.clear(),
                this._cacheData.sprite.transform._worldID = this.transform._worldID,
                this._cacheData.sprite._calculateBounds(),
                this._bounds.updateID = this._boundsID
            }
            ,
            ue.prototype._getCachedLocalBounds = function() {
                return this._cacheData.sprite.getLocalBounds(null)
            }
            ,
            ue.prototype._destroyCachedDisplayObject = function() {
                this._cacheData.sprite._texture.destroy(!0),
                this._cacheData.sprite = null,
                Ie.removeFromCache(this._cacheData.textureCacheId),
                Ve.removeFromCache(this._cacheData.textureCacheId),
                this._cacheData.textureCacheId = null
            }
            ,
            ue.prototype._cacheAsBitmapDestroy = function(t) {
                this.cacheAsBitmap = !1,
                this.destroy(t)
            }
            ,
            ue.prototype.name = null,
            ce.prototype.getChildByName = function(t, e) {
                for (var n = 0, r = this.children.length; n < r; n++)
                    if (this.children[n].name === t)
                        return this.children[n];
                if (e)
                    for (n = 0,
                    r = this.children.length; n < r; n++) {
                        var i = this.children[n];
                        if (i.getChildByName) {
                            var o = i.getChildByName(t, !0);
                            if (o)
                                return o
                        }
                    }
                return null
            }
            ,
            ue.prototype.getGlobalPosition = function(t, e) {
                return void 0 === t && (t = new Xt),
                void 0 === e && (e = !1),
                this.parent ? this.parent.toGlobal(this.position, t, e) : (t.x = this.position.x,
                t.y = this.position.y),
                t
            }
            ;
            var Us = function() {
                function t() {}
                return t.init = function(t) {
                    var e = this;
                    Object.defineProperty(this, "resizeTo", {
                        set: function(t) {
                            globalThis.removeEventListener("resize", this.queueResize),
                            this._resizeTo = t,
                            t && (globalThis.addEventListener("resize", this.queueResize),
                            this.resize())
                        },
                        get: function() {
                            return this._resizeTo
                        }
                    }),
                    this.queueResize = function() {
                        e._resizeTo && (e.cancelResize(),
                        e._resizeId = requestAnimationFrame((function() {
                            return e.resize()
                        }
                        )))
                    }
                    ,
                    this.cancelResize = function() {
                        e._resizeId && (cancelAnimationFrame(e._resizeId),
                        e._resizeId = null)
                    }
                    ,
                    this.resize = function() {
                        if (e._resizeTo) {
                            var t, n;
                            if (e.cancelResize(),
                            e._resizeTo === globalThis.window)
                                t = globalThis.innerWidth,
                                n = globalThis.innerHeight;
                            else {
                                var r = e._resizeTo;
                                t = r.clientWidth,
                                n = r.clientHeight
                            }
                            e.renderer.resize(t, n)
                        }
                    }
                    ,
                    this._resizeId = null,
                    this._resizeTo = null,
                    this.resizeTo = t.resizeTo || null
                }
                ,
                t.destroy = function() {
                    globalThis.removeEventListener("resize", this.queueResize),
                    this.cancelResize(),
                    this.cancelResize = null,
                    this.queueResize = null,
                    this.resizeTo = null,
                    this.resize = null
                }
                ,
                t.extension = de.Application,
                t
            }()
              , Xs = function() {
                function t(e) {
                    var n = this;
                    this.stage = new ce,
                    e = Object.assign({
                        forceCanvas: !1
                    }, e),
                    this.renderer = function(t) {
                        return Tr.create(t)
                    }(e),
                    t._plugins.forEach((function(t) {
                        t.init.call(n, e)
                    }
                    ))
                }
                return t.registerPlugin = function(t) {
                    Ct("6.5.0", "Application.registerPlugin() is deprecated, use extensions.add()"),
                    _e.add({
                        type: de.Application,
                        ref: t
                    })
                }
                ,
                t.prototype.render = function() {
                    this.renderer.render(this.stage)
                }
                ,
                Object.defineProperty(t.prototype, "view", {
                    get: function() {
                        return this.renderer.view
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "screen", {
                    get: function() {
                        return this.renderer.screen
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                t.prototype.destroy = function(e, n) {
                    var r = this
                      , i = t._plugins.slice(0);
                    i.reverse(),
                    i.forEach((function(t) {
                        t.destroy.call(r)
                    }
                    )),
                    this.stage.destroy(n),
                    this.stage = null,
                    this.renderer.destroy(e),
                    this.renderer = null
                }
                ,
                t._plugins = [],
                t
            }();
            _e.handleByList(de.Application, Xs._plugins),
            _e.add(Us);
            var Hs = function(t, e) {
                return (Hs = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            };
            function js(t, e) {
                function n() {
                    this.constructor = t
                }
                Hs(t, e),
                t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                new n)
            }
            var $s = function(t) {
                function e(e, n, r, i) {
                    void 0 === e && (e = 100),
                    void 0 === n && (n = 100),
                    void 0 === r && (r = 10),
                    void 0 === i && (i = 10);
                    var o = t.call(this) || this;
                    return o.segWidth = r,
                    o.segHeight = i,
                    o.width = e,
                    o.height = n,
                    o.build(),
                    o
                }
                return js(e, t),
                e.prototype.build = function() {
                    for (var t = this.segWidth * this.segHeight, e = [], n = [], r = [], i = this.segWidth - 1, o = this.segHeight - 1, s = this.width / i, a = this.height / o, u = 0; u < t; u++) {
                        var h = u % this.segWidth
                          , l = u / this.segWidth | 0;
                        e.push(h * s, l * a),
                        n.push(h / i, l / o)
                    }
                    var c = i * o;
                    for (u = 0; u < c; u++) {
                        var d = u % i
                          , p = u / i | 0
                          , f = p * this.segWidth + d
                          , m = p * this.segWidth + d + 1
                          , _ = (p + 1) * this.segWidth + d
                          , v = (p + 1) * this.segWidth + d + 1;
                        r.push(f, m, _, m, v, _)
                    }
                    this.buffers[0].data = new Float32Array(e),
                    this.buffers[1].data = new Float32Array(n),
                    this.indexBuffer.data = new Uint16Array(r),
                    this.buffers[0].update(),
                    this.buffers[1].update(),
                    this.indexBuffer.update()
                }
                ,
                e
            }(ls)
              , Ws = function(t) {
                function e(e, n, r) {
                    void 0 === e && (e = 200),
                    void 0 === r && (r = 0);
                    var i = t.call(this, new Float32Array(4 * n.length), new Float32Array(4 * n.length), new Uint16Array(6 * (n.length - 1))) || this;
                    return i.points = n,
                    i._width = e,
                    i.textureScale = r,
                    i.build(),
                    i
                }
                return js(e, t),
                Object.defineProperty(e.prototype, "width", {
                    get: function() {
                        return this._width
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.build = function() {
                    var t = this.points;
                    if (t) {
                        var e = this.getBuffer("aVertexPosition")
                          , n = this.getBuffer("aTextureCoord")
                          , r = this.getIndex();
                        if (!(t.length < 1)) {
                            e.data.length / 4 !== t.length && (e.data = new Float32Array(4 * t.length),
                            n.data = new Float32Array(4 * t.length),
                            r.data = new Uint16Array(6 * (t.length - 1)));
                            var i = n.data
                              , o = r.data;
                            i[0] = 0,
                            i[1] = 0,
                            i[2] = 0,
                            i[3] = 1;
                            for (var s = 0, a = t[0], u = this._width * this.textureScale, h = t.length, l = 0; l < h; l++) {
                                var c = 4 * l;
                                if (this.textureScale > 0) {
                                    var d = a.x - t[l].x
                                      , p = a.y - t[l].y
                                      , f = Math.sqrt(d * d + p * p);
                                    a = t[l],
                                    s += f / u
                                } else
                                    s = l / (h - 1);
                                i[c] = s,
                                i[c + 1] = 0,
                                i[c + 2] = s,
                                i[c + 3] = 1
                            }
                            var m = 0;
                            for (l = 0; l < h - 1; l++)
                                c = 2 * l,
                                o[m++] = c,
                                o[m++] = c + 1,
                                o[m++] = c + 2,
                                o[m++] = c + 2,
                                o[m++] = c + 1,
                                o[m++] = c + 3;
                            n.update(),
                            r.update(),
                            this.updateVertices()
                        }
                    }
                }
                ,
                e.prototype.updateVertices = function() {
                    var t = this.points;
                    if (!(t.length < 1)) {
                        for (var e, n = t[0], r = 0, i = 0, o = this.buffers[0].data, s = t.length, a = 0; a < s; a++) {
                            var u = t[a]
                              , h = 4 * a;
                            i = -((e = a < t.length - 1 ? t[a + 1] : u).x - n.x),
                            r = e.y - n.y;
                            var l = Math.sqrt(r * r + i * i)
                              , c = this.textureScale > 0 ? this.textureScale * this._width / 2 : this._width / 2;
                            r /= l,
                            i /= l,
                            r *= c,
                            i *= c,
                            o[h] = u.x + r,
                            o[h + 1] = u.y + i,
                            o[h + 2] = u.x - r,
                            o[h + 3] = u.y - i,
                            n = u
                        }
                        this.buffers[0].update()
                    }
                }
                ,
                e.prototype.update = function() {
                    this.textureScale > 0 ? this.build() : this.updateVertices()
                }
                ,
                e
            }(ls)
              , Vs = (function(t) {
                function e(e, n, r) {
                    void 0 === r && (r = 0);
                    var i = this
                      , o = new Ws(e.height,n,r)
                      , s = new hs(e);
                    return r > 0 && (e.baseTexture.wrapMode = R.REPEAT),
                    (i = t.call(this, o, s) || this).autoUpdate = !0,
                    i
                }
                js(e, t),
                e.prototype._render = function(e) {
                    var n = this.geometry;
                    (this.autoUpdate || n._width !== this.shader.texture.height) && (n._width = this.shader.texture.height,
                    n.update()),
                    t.prototype._render.call(this, e)
                }
            }(us),
            function(t) {
                function e(e, n, r) {
                    var i = this
                      , o = new $s(e.width,e.height,n,r)
                      , s = new hs(Ve.WHITE);
                    return (i = t.call(this, o, s) || this).texture = e,
                    i.autoResize = !0,
                    i
                }
                return js(e, t),
                e.prototype.textureUpdated = function() {
                    this._textureID = this.shader.texture._updateID;
                    var t = this.geometry
                      , e = this.shader.texture
                      , n = e.width
                      , r = e.height;
                    !this.autoResize || t.width === n && t.height === r || (t.width = this.shader.texture.width,
                    t.height = this.shader.texture.height,
                    t.build())
                }
                ,
                Object.defineProperty(e.prototype, "texture", {
                    get: function() {
                        return this.shader.texture
                    },
                    set: function(t) {
                        this.shader.texture !== t && (this.shader.texture = t,
                        this._textureID = -1,
                        t.baseTexture.valid ? this.textureUpdated() : t.once("update", this.textureUpdated, this))
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype._render = function(e) {
                    this._textureID !== this.shader.texture._updateID && this.textureUpdated(),
                    t.prototype._render.call(this, e)
                }
                ,
                e.prototype.destroy = function(e) {
                    this.shader.texture.off("update", this.textureUpdated, this),
                    t.prototype.destroy.call(this, e)
                }
                ,
                e
            }(us))
              , Ys = (function(t) {
                function e(e, n, r, i, o) {
                    void 0 === e && (e = Ve.EMPTY);
                    var s = this
                      , a = new ls(n,r,i);
                    a.getBuffer("aVertexPosition").static = !1;
                    var u = new hs(e);
                    return (s = t.call(this, a, u, null, o) || this).autoUpdate = !0,
                    s
                }
                js(e, t),
                Object.defineProperty(e.prototype, "vertices", {
                    get: function() {
                        return this.geometry.getBuffer("aVertexPosition").data
                    },
                    set: function(t) {
                        this.geometry.getBuffer("aVertexPosition").data = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype._render = function(e) {
                    this.autoUpdate && this.geometry.getBuffer("aVertexPosition").update(),
                    t.prototype._render.call(this, e)
                }
            }(us),
            function(t) {
                function e(e, n, r, i, o) {
                    void 0 === n && (n = 10),
                    void 0 === r && (r = 10),
                    void 0 === i && (i = 10),
                    void 0 === o && (o = 10);
                    var s = t.call(this, Ve.WHITE, 4, 4) || this;
                    return s._origWidth = e.orig.width,
                    s._origHeight = e.orig.height,
                    s._width = s._origWidth,
                    s._height = s._origHeight,
                    s._leftWidth = n,
                    s._rightWidth = i,
                    s._topHeight = r,
                    s._bottomHeight = o,
                    s.texture = e,
                    s
                }
                js(e, t),
                e.prototype.textureUpdated = function() {
                    this._textureID = this.shader.texture._updateID,
                    this._refresh()
                }
                ,
                Object.defineProperty(e.prototype, "vertices", {
                    get: function() {
                        return this.geometry.getBuffer("aVertexPosition").data
                    },
                    set: function(t) {
                        this.geometry.getBuffer("aVertexPosition").data = t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.updateHorizontalVertices = function() {
                    var t = this.vertices
                      , e = this._getMinScale();
                    t[9] = t[11] = t[13] = t[15] = this._topHeight * e,
                    t[17] = t[19] = t[21] = t[23] = this._height - this._bottomHeight * e,
                    t[25] = t[27] = t[29] = t[31] = this._height
                }
                ,
                e.prototype.updateVerticalVertices = function() {
                    var t = this.vertices
                      , e = this._getMinScale();
                    t[2] = t[10] = t[18] = t[26] = this._leftWidth * e,
                    t[4] = t[12] = t[20] = t[28] = this._width - this._rightWidth * e,
                    t[6] = t[14] = t[22] = t[30] = this._width
                }
                ,
                e.prototype._getMinScale = function() {
                    var t = this._leftWidth + this._rightWidth
                      , e = this._width > t ? 1 : this._width / t
                      , n = this._topHeight + this._bottomHeight
                      , r = this._height > n ? 1 : this._height / n;
                    return Math.min(e, r)
                }
                ,
                Object.defineProperty(e.prototype, "width", {
                    get: function() {
                        return this._width
                    },
                    set: function(t) {
                        this._width = t,
                        this._refresh()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "height", {
                    get: function() {
                        return this._height
                    },
                    set: function(t) {
                        this._height = t,
                        this._refresh()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "leftWidth", {
                    get: function() {
                        return this._leftWidth
                    },
                    set: function(t) {
                        this._leftWidth = t,
                        this._refresh()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "rightWidth", {
                    get: function() {
                        return this._rightWidth
                    },
                    set: function(t) {
                        this._rightWidth = t,
                        this._refresh()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "topHeight", {
                    get: function() {
                        return this._topHeight
                    },
                    set: function(t) {
                        this._topHeight = t,
                        this._refresh()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "bottomHeight", {
                    get: function() {
                        return this._bottomHeight
                    },
                    set: function(t) {
                        this._bottomHeight = t,
                        this._refresh()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype._refresh = function() {
                    var t = this.texture
                      , e = this.geometry.buffers[1].data;
                    this._origWidth = t.orig.width,
                    this._origHeight = t.orig.height;
                    var n = 1 / this._origWidth
                      , r = 1 / this._origHeight;
                    e[0] = e[8] = e[16] = e[24] = 0,
                    e[1] = e[3] = e[5] = e[7] = 0,
                    e[6] = e[14] = e[22] = e[30] = 1,
                    e[25] = e[27] = e[29] = e[31] = 1,
                    e[2] = e[10] = e[18] = e[26] = n * this._leftWidth,
                    e[4] = e[12] = e[20] = e[28] = 1 - n * this._rightWidth,
                    e[9] = e[11] = e[13] = e[15] = r * this._topHeight,
                    e[17] = e[19] = e[21] = e[23] = 1 - r * this._bottomHeight,
                    this.updateHorizontalVertices(),
                    this.updateVerticalVertices(),
                    this.geometry.buffers[0].update(),
                    this.geometry.buffers[1].update()
                }
            }(Vs),
            function(t, e) {
                return (Ys = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                }
                )(t, e)
            }
            );
            !function(t) {
                function e(e, n) {
                    void 0 === n && (n = !0);
                    var r = t.call(this, e[0]instanceof Ve ? e[0] : e[0].texture) || this;
                    return r._textures = null,
                    r._durations = null,
                    r._autoUpdate = n,
                    r._isConnectedToTicker = !1,
                    r.animationSpeed = 1,
                    r.loop = !0,
                    r.updateAnchor = !1,
                    r.onComplete = null,
                    r.onFrameChange = null,
                    r.onLoop = null,
                    r._currentTime = 0,
                    r._playing = !1,
                    r._previousFrame = null,
                    r.textures = e,
                    r
                }
                (function(t, e) {
                    function n() {
                        this.constructor = t
                    }
                    Ys(t, e),
                    t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
                    new n)
                }
                )(e, t),
                e.prototype.stop = function() {
                    this._playing && (this._playing = !1,
                    this._autoUpdate && this._isConnectedToTicker && (ye.shared.remove(this.update, this),
                    this._isConnectedToTicker = !1))
                }
                ,
                e.prototype.play = function() {
                    this._playing || (this._playing = !0,
                    this._autoUpdate && !this._isConnectedToTicker && (ye.shared.add(this.update, this, fe.HIGH),
                    this._isConnectedToTicker = !0))
                }
                ,
                e.prototype.gotoAndStop = function(t) {
                    this.stop();
                    var e = this.currentFrame;
                    this._currentTime = t,
                    e !== this.currentFrame && this.updateTexture()
                }
                ,
                e.prototype.gotoAndPlay = function(t) {
                    var e = this.currentFrame;
                    this._currentTime = t,
                    e !== this.currentFrame && this.updateTexture(),
                    this.play()
                }
                ,
                e.prototype.update = function(t) {
                    if (this._playing) {
                        var e = this.animationSpeed * t
                          , n = this.currentFrame;
                        if (null !== this._durations) {
                            var r = this._currentTime % 1 * this._durations[this.currentFrame];
                            for (r += e / 60 * 1e3; r < 0; )
                                this._currentTime--,
                                r += this._durations[this.currentFrame];
                            var i = Math.sign(this.animationSpeed * t);
                            for (this._currentTime = Math.floor(this._currentTime); r >= this._durations[this.currentFrame]; )
                                r -= this._durations[this.currentFrame] * i,
                                this._currentTime += i;
                            this._currentTime += r / this._durations[this.currentFrame]
                        } else
                            this._currentTime += e;
                        this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0),
                        this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1),
                        this.onComplete && this.onComplete()) : n !== this.currentFrame && (this.loop && this.onLoop && (this.animationSpeed > 0 && this.currentFrame < n || this.animationSpeed < 0 && this.currentFrame > n) && this.onLoop(),
                        this.updateTexture())
                    }
                }
                ,
                e.prototype.updateTexture = function() {
                    var t = this.currentFrame;
                    this._previousFrame !== t && (this._previousFrame = t,
                    this._texture = this._textures[t],
                    this._textureID = -1,
                    this._textureTrimmedID = -1,
                    this._cachedTint = 16777215,
                    this.uvs = this._texture._uvs.uvsFloat32,
                    this.updateAnchor && this._anchor.copyFrom(this._texture.defaultAnchor),
                    this.onFrameChange && this.onFrameChange(this.currentFrame))
                }
                ,
                e.prototype.destroy = function(e) {
                    this.stop(),
                    t.prototype.destroy.call(this, e),
                    this.onComplete = null,
                    this.onFrameChange = null,
                    this.onLoop = null
                }
                ,
                e.fromFrames = function(t) {
                    for (var n = [], r = 0; r < t.length; ++r)
                        n.push(Ve.from(t[r]));
                    return new e(n)
                }
                ,
                e.fromImages = function(t) {
                    for (var n = [], r = 0; r < t.length; ++r)
                        n.push(Ve.from(t[r]));
                    return new e(n)
                }
                ,
                Object.defineProperty(e.prototype, "totalFrames", {
                    get: function() {
                        return this._textures.length
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "textures", {
                    get: function() {
                        return this._textures
                    },
                    set: function(t) {
                        if (t[0]instanceof Ve)
                            this._textures = t,
                            this._durations = null;
                        else {
                            this._textures = [],
                            this._durations = [];
                            for (var e = 0; e < t.length; e++)
                                this._textures.push(t[e].texture),
                                this._durations.push(t[e].time)
                        }
                        this._previousFrame = null,
                        this.gotoAndStop(0),
                        this.updateTexture()
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "currentFrame", {
                    get: function() {
                        var t = Math.floor(this._currentTime) % this._textures.length;
                        return t < 0 && (t += this._textures.length),
                        t
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "playing", {
                    get: function() {
                        return this._playing
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "autoUpdate", {
                    get: function() {
                        return this._autoUpdate
                    },
                    set: function(t) {
                        t !== this._autoUpdate && (this._autoUpdate = t,
                        !this._autoUpdate && this._isConnectedToTicker ? (ye.shared.remove(this.update, this),
                        this._isConnectedToTicker = !1) : this._autoUpdate && !this._isConnectedToTicker && this._playing && (ye.shared.add(this.update, this),
                        this._isConnectedToTicker = !0))
                    },
                    enumerable: !1,
                    configurable: !0
                })
            }(Ao),
            _e.add(Gr, zr, Vr, $i, zo, Mr, ns, Ss, Ei, Fi, Gi, Ko, be, ci);
            class zs {
                constructor(t, e, n=1, r=!1, i=!1, o=!1) {
                    this.key = t,
                    this.sound = e,
                    this.volume = n,
                    this.loop = r,
                    this.exclude = i,
                    this.isBgSound = o,
                    this.playOnEnd = ""
                }
            }
            window.HowlerSoundManager = {
                sounds: {},
                muteSound: !0,
                gameName: null,
                isSoundControllerOpen: !1,
                canOpenSoundSettings: !1,
                isBgSoundPlaying: !1,
                isGameSoundsPlaying: !1,
                init(t, e, n=!1) {
                    this.gameName = e,
                    r.Howler.autoUnlock = !1,
                    r.Howler.mute(this.muteSound),
                    document.addEventListener("visibilitychange", (t=>{
                        "visible" === document.visibilityState ? r.Howler.mute(this.muteSound) : r.Howler.mute(!0)
                    }
                    )),
                    this.getSoundStateToLocalStorage(),
                    this.addListeners(),
                    this.initGlobalSoundEvents(),
                    this.addSounds(t)
                },
                addListeners() {
                    $(".volume").on("pointerdown", (()=>{
                        if (ot.any && this.canOpenSoundSettings)
                            return 1 == this.isSoundControllerOpen ? (this.isSoundControllerOpen = !1,
                            $("#game-audio-controllers").removeClass("open")) : (this.isSoundControllerOpen = !0,
                            $("#game-audio-controllers").addClass("open")),
                            this.checkSoundSwichButtonStates(),
                            this.muteBackgroundSound(),
                            void this.muteGameSoundsSound();
                        this.muteSound = !this.muteSound,
                        r.Howler.mute(this.muteSound),
                        this.updateVolumeIndicator(),
                        this.setSoundStateToLocalStorage(),
                        this.isBgSoundPlaying = this.isGameSoundsPlaying = !this.muteSound,
                        this.checkSoundSwichButtonStates(),
                        this.muteBackgroundSound(),
                        this.muteGameSoundsSound()
                    }
                    )),
                    ot.any || ($(".volume").on("mouseover", (()=>{
                        this.canOpenSoundSettings && (this.isSoundControllerOpen = !0,
                        $("#game-audio-controllers").addClass("open"))
                    }
                    )),
                    $("#game-audio-controllers").on("mouseleave", (t=>{
                        this.isSoundControllerOpen = !1,
                        $("#game-audio-controllers").removeClass("open")
                    }
                    ))),
                    $("#soundOn").on("click", (()=>{
                        this.muteSound = !1,
                        r.Howler.mute(this.muteSound),
                        this.isBgSoundPlaying || this.isGameSoundsPlaying || (this.isBgSoundPlaying = !0,
                        this.isGameSoundsPlaying = !0),
                        this.updateVolumeIndicator(),
                        this.setSoundStateToLocalStorage(),
                        this.play("make-bet"),
                        this.checkSoundSwichButtonStates(),
                        this.muteBackgroundSound(),
                        this.muteGameSoundsSound(),
                        $("#soundPopup").hide()
                    }
                    )),
                    $("#soundOff").on("click", (()=>{
                        this.muteSound = !0,
                        r.Howler.mute(this.muteSound),
                        this.isBgSoundPlaying = !1,
                        this.isGameSoundsPlaying = !1,
                        this.updateVolumeIndicator(),
                        this.setSoundStateToLocalStorage(),
                        this.checkSoundSwichButtonStates(),
                        $("#soundPopup").hide()
                    }
                    )),
                    $("#background-audio-controller").on("click", (()=>{
                        this.isBgSoundPlaying = !this.isBgSoundPlaying,
                        this.isBgSoundPlaying && (this.muteSound = !1,
                        r.Howler.mute(this.muteSound)),
                        this.updateVolumeIndicator(),
                        this.muteBackgroundSound(),
                        this.setSoundStateToLocalStorage(),
                        this.checkSoundSwichButtonStates()
                    }
                    )),
                    $("#game-audio-controller").on("click", (()=>{
                        this.isGameSoundsPlaying = !this.isGameSoundsPlaying,
                        this.isGameSoundsPlaying && (this.muteSound = !1,
                        r.Howler.mute(this.muteSound)),
                        this.updateVolumeIndicator(),
                        this.muteGameSoundsSound(),
                        this.setSoundStateToLocalStorage(),
                        this.checkSoundSwichButtonStates()
                    }
                    ))
                },
                initGlobalSoundEvents() {
                    $(".checkbox-wrapper label").on("click", (t=>{
                        this.play("autoplay")
                    }
                    )),
                    $(".bet-button").on("click", (()=>{
                        $(".bet-button").blur(),
                        this.play("make-bet")
                    }
                    )),
                    $(".cashout-button").on("click", (()=>{
                        this.play("money-pickup")
                    }
                    )),
                    $(".bet-fixed-amount-wrapper").on("click", (()=>{
                        this.play("button-click")
                    }
                    )),
                    $(".next-round-bet").on("click", (()=>{
                        this.play("make-bet")
                    }
                    )),
                    $(".cancel-next-round-bet").on("click", (()=>{
                        this.play("cancel-bet")
                    }
                    )),
                    $(".chat-header").on("click", (()=>{
                        this.play("button-click")
                    }
                    )),
                    $(".my-bets-header .tab").on("click", (()=>{
                        this.play("button-click")
                    }
                    )),
                    $(".wallet-wrapper").on("click", (()=>{
                        this.play("button-click")
                    }
                    ))
                },
                getSoundStateToLocalStorage() {
                    try {
                        const t = JSON.parse(localStorage.getItem(this.gameName + "-howler-sound-muted"));
                        this.isBgSoundPlaying = JSON.parse(localStorage.getItem(this.gameName + "-howler-background-sound-playing")),
                        this.isGameSoundsPlaying = JSON.parse(localStorage.getItem(this.gameName + "-howler-game-sounds-playing")),
                        null === t ? (this.muteSound = !0,
                        this.setSoundStateToLocalStorage()) : this.muteSound = t,
                        r.Howler.mute(this.muteSound),
                        this.updateVolumeIndicator()
                    } catch (t) {
                        this.muteSound = !0,
                        r.Howler.mute(this.muteSound)
                    } finally {
                        this.muteSound = !0,
                        r.Howler.mute(this.muteSound)
                    }
                    this.checkSoundSwichButtonStates(),
                    this.muteBackgroundSound(),
                    this.muteGameSoundsSound()
                },
                setSoundStateToLocalStorage() {
                    try {
                        localStorage.setItem(`${this.gameName}-howler-sound-muted`, this.muteSound),
                        localStorage.setItem(`${this.gameName}-howler-background-sound-playing`, this.isBgSoundPlaying),
                        localStorage.setItem(`${this.gameName}-howler-game-sounds-playing`, this.isGameSoundsPlaying)
                    } catch (t) {}
                },
                checkSoundSwichButtonStates() {
                    this.isBgSoundPlaying ? $("#background-audio-controller .switch-button").addClass("active") : $("#background-audio-controller .switch-button").removeClass("active"),
                    this.isGameSoundsPlaying ? $("#game-audio-controller .switch-button").addClass("active") : $("#game-audio-controller .switch-button").removeClass("active"),
                    this.isBgSoundPlaying || this.isGameSoundsPlaying || (this.muteSound = !0,
                    r.Howler.mute(this.muteSound),
                    this.updateVolumeIndicator())
                },
                addSounds(t) {
                    t && t.forEach((t=>{
                        this.sounds[t.key] = {
                            key: t.key,
                            sound: new r.Howl({
                                src: [t.sound + `?version=${UGG.BUILD_ID}`],
                                volume: t.volume,
                                loop: t.loop,
                                onend: ()=>{
                                    this.logSounds(t.key, "ended"),
                                    "" != t.playOnEnd && this.play(t.key, !1)
                                }
                            }),
                            volume: t.volume,
                            loop: t.loop,
                            exclude: t.exclude,
                            isBgSound: t.isBgSound
                        }
                    }
                    ))
                },
                replaceSound(t, e, n=1) {
                    const i = this.sounds[t];
                    i && (i.sound = new r.Howl({
                        src: e,
                        volume: n,
                        loop: i.loop
                    }))
                },
                muteBackgroundSound() {
                    for (const t in this.sounds)
                        this.sounds[t].isBgSound && this.sounds[t].sound.mute(!this.isBgSoundPlaying)
                },
                muteGameSoundsSound() {
                    for (const t in this.sounds)
                        this.sounds[t].isBgSound || this.sounds[t].sound.mute(!this.isGameSoundsPlaying)
                },
                play(t, e=!0) {
                    e && this.stopAll(),
                    this.sounds[t].sound.playing() ? (this.sounds[t].sound.seek(0),
                    this.logSounds(t, "play")) : (this.sounds[t].sound.play(),
                    this.logSounds(t, "play"))
                },
                stopAll() {
                    for (const t in this.sounds)
                        this.sounds[t].exclude || this.stop(t)
                },
                stop(t) {
                    const e = this.sounds[t].sound;
                    e && e.playing() && (e.pause(),
                    e.seek(0),
                    this.logSounds(t, "stop"))
                },
                updateVolumeIndicator() {
                    this.muteSound ? $(".volume").addClass("muted") : $(".volume").removeClass("muted")
                },
                activateSoundSettingsPopup(t=!1) {
                    this.canOpenSoundSettings = t
                },
                logSounds(t, e) {
                    if ("enabled" == UGG.queryString.logsounds) {
                        const n = $("#log")
                          , r = $(`<span class="${e}">sound: '${t}' action: ${e}</span>`);
                        n.prepend(r),
                        $("span:nth-child(200)", n).nextAll().remove()
                    }
                }
            }
        }
        ,
        719: ()=>{
            "use strict";
            window.TRANS = function() {
                const t = {};
                let e = {
                    Lang: null,
                    BrandName: null,
                    ProductName: "games",
                    GroupNames: ["common", "custom"],
                    StaticApiEndpoint: "https://oneadmin.upgaming.com/static/api/"
                };
                return {
                    init: ()=>{
                        e.Lang = UGG.lang(),
                        e.BrandName = UGG.companyName(),
                        e.GroupNames.push(UGG.gameName()),
                        e.GroupNames.forEach((n=>{
                            !function(n) {
                                const r = e.StaticApiEndpoint + `translations/get?GroupName=${n}&DefaultLangCode=EN` + `&LangCode=${e.Lang}` + `&ProductName=${e.ProductName}` + `&BrandName=${e.BrandName}`;
                                $.getJSON(r, (function(e) {
                                    var r, i;
                                    !e.error && e.data && (r = n,
                                    (i = e.data) && i.length > 0 && i.forEach((e=>{
                                        const n = `${r}__${e.key}`;
                                        t[n] = e.value,
                                        $(`[data-trans='${n}']`).each((function(t) {
                                            var n = $(this)
                                              , r = n.attr("data-trans-attr");
                                            r ? n.attr(r, e.value) : n.html(e.value)
                                        }
                                        ))
                                    }
                                    )))
                                }
                                )).fail((function() {
                                    console.log("error on load " + r)
                                }
                                ))
                            }(n)
                        }
                        ))
                    }
                    ,
                    byKey: (e,n)=>e in t ? t[e] : (console.warn(`key '${e}' not found in TRANS.byKey`),
                    n || e),
                    byGameKey: (e,n)=>(e = UGG.gameName() + "__" + e)in t ? t[e] : (console.warn(`key '${e}' not found in TRANS.byGameKey`),
                    n || e),
                    byAnyKey: (e,n)=>{
                        let r = UGG.gameName() + "__" + e;
                        return r in t ? t[r] : (r = "common__" + e,
                        r in t ? t[r] : (console.warn(`key '${r}' not found in TRANS.byAnyKey`),
                        n || e))
                    }
                }
            }(),
            TRANS
        }
        ,
        528: ()=>{
            "use strict";
            window.CANVAS_EMITTER = new class {
                constructor() {
                    this.RESOURCES_LOADED = "ResourcesLoaded",
                    this.RESOURCES = "Resources",
                    this.PLAY_SOUND = "PlaySound",
                    this.STEP_ACTION = "StepAction",
                    this.OPEN_ICE_BOX = "OpenIceBox",
                    this.SWITCH_TELEPORT_BOARD = "SwitchTeleportBoard",
                    this.MOBILE_SLIDER_STEP_CHANGE = "MobileSliderStepChange",
                    this.CARD_FLIPPED = "CardFlipped",
                    this.COLOR_CHANGED = "ColorChanged",
                    this.POSITION_CHANGED = "PositionChanged",
                    this.CHANCE_CHANGED = "ChanceChanged",
                    this.GET_STATE = "GetState",
                    this.CONTROLLER_CLICKED = "ControllerClicked",
                    this.LADDER_ANIMATION_COMPLETE = "LadderAnimationComplete",
                    this.ROULETTE_GOT_SETTINGS = "RouletteGotSettings",
                    this.ROULETTE_SWITCH_BOARD = "RouletteSwitchBoard",
                    this.ROULETTE_LEFT_BUTTON = "RouletteLeftButton",
                    this.ROULETTE_RIGHT_BUTTON = "RouletteRightButton",
                    this.ROULETTE_ACTIVE_CHIP = "RouletteActiveChip",
                    this.ROULETTE_WHEEL_ANIMATION = "RouletteWheelAnimation",
                    this.ROULETTE_WHEEL_ANIMATION_ENDED = "RouletteWheelAnimationEnded",
                    this.ROULETTE_PLACE_CLICK = "RouletteMainBoardClick",
                    this.ROULETTE_ADD_CHIPS_ON_PLACES = "AddChipsOnPlaces",
                    this.ROULETTE_HISTORY_UPDATE = "RoulettehistoryUpdate",
                    this.ROULETTE_ADD_BET_HISTORY = "RouletteAddBetHistory",
                    this.ROULETTE_BET_PERMISSION = "RouletteBetPermission",
                    this.ROULETTE_BET = "RouletteBet",
                    this.ROULETTE_BOARD_CHANGED = "RouletteBoardChanged",
                    this.ROULETTE_BOARD_HIGHLIGHT_FINISHED = "RouletteBoardHighlightFinished",
                    this.ROULETTE_PROGRESSBAR_END = "RouletteProgressbarEnd",
                    this.ROULETTE_HOT_AND_COLD_NUMBERS = "RouletteHotAndColdNumbers",
                    this.ROULETTE_END_ANIMATIONS = "RouletteEndAnimations",
                    this.ROULETTE_SPIN_MESSAGE = "RouletteSpinMessage",
                    this.ROULETTE_GOT_WINNING_AMOUNT = "RouletteGotWinningAmountMessage",
                    this.ARMADA_GAME_ENDED = "ArmadaGameEnded",
                    this.ARMADA_SCELETON_PLAYED = "ArmadaSceletonAnimationPlayed",
                    this.ARMADA_STEP_COMPLETED = "ArmadaStepCompleted",
                    this.GRAIN_ANIMATION_ENDED = "GrainAnimationEnded",
                    this.BLACKJACK_DEALER_DISTRIBUTION_COMPLETE = "BlackjackDistributionLoaded",
                    this.BLACKJACK_ANIMATION_END = "BlackjackAnimationEnd",
                    this.BLACKJACK_DISTRIBUTE_DEALER_CARDS = "BlackjackDistributeDealerCards",
                    this.BLACKJACK_VIRTUAL_ACTION_EVENT = "BlackjackVirtualActionAEvent",
                    this.BLACKJACK_VIRTUAL_CARDS_QUANTITY = "BlackjackVirtualCardsQuantity",
                    this.BLACKJACK_VIRTUAL_CARDS_SUM_UPDATE = "BlackjackVirtualCardsSumUpdate",
                    this.DOORS_TRY_TO_OPEN = "DoorsTryToOpenDoor",
                    this.DOORS_DOOR_OPENED = "DoorsDoorOpened",
                    this.DOORS_PASSED = "DoorsPassed",
                    this.DOORS_ANIMATION_ENDED = "DoorsAnimationEnded",
                    this.OMERTA_OPEN_ITEM = "OmertaOpenItem",
                    this.CHICKEN_OPEN_ITEM = "ChickenOpenItem",
                    this._events = {}
                }
                emit(t, e=null) {
                    this._events[t] || (this._events[t] = {
                        listeners: [],
                        data: null
                    }),
                    this._events[t].data = e,
                    this._events[t].listeners.forEach((t=>{
                        t(e)
                    }
                    ))
                }
                on(t, e) {
                    this._events[t] || (this._events[t] = {
                        listeners: [],
                        data: null
                    }),
                    this._events[t].listeners.push(e)
                }
                onWithData(t, e) {
                    this._events[t] || (this._events[t] = {
                        listeners: [],
                        data: null
                    }),
                    this._events[t].listeners.push(e),
                    e(this._events[t].data)
                }
                removeListener(t, e) {
                    if (!this._events[t])
                        throw new Error(`Can't remove a listener. Event "${t}" doesn't exits.`);
                    this._events[t].listeners = this._events[t].listeners.filter((t=>t !== e))
                }
                getLastData(t) {
                    return this._events[t] ? this._events[t].data : null
                }
            }
            ,
            window.RESOURCES = {
                loaded: null,
                getTexture: t=>RESOURCES.loaded[t].texture,
                getTextures: t=>Object.values(RESOURCES.loaded[t].textures),
                getTexturesObject: t=>RESOURCES.loaded[t].textures
            },
            window.UI = function() {
                CANVAS_EMITTER.on(CANVAS_EMITTER.RESOURCES_LOADED, (()=>{
                    UI.mainLoader(!0)
                }
                ));
                const t = $("main");
                let e, n = null, r = null, i = !1, o = null, s = $("#user-wallets"), a = $(".wallet-wrapper"), u = $("#wallet-freebet"), h = $("#current-bet-count"), l = [], c = 0, d = null;
                var p = null;
                let f = [];
                const m = new Date
                  , _ = {
                    SpecificCurrencyEnabledCompanies: ["31bets"],
                    EnabledCurrencies: ["EUR", "CAD", "BRL"],
                    CheckIfSkip: t=>{
                        try {
                            const e = UGG.getUser();
                            return !(_.SpecificCurrencyEnabledCompanies.indexOf(e.CompanyName.toLowerCase()) < 0) && _.EnabledCurrencies.indexOf(t.CurrencyCode) < 0 && t.CurrencyCode != UGG.getActiveWallet().CurrencyCode
                        } catch (t) {
                            return !1
                        }
                    }
                };
                function v(t) {
                    let e = `<tr class='bet-history-item' betguid="${t.GUID}">`;
                    switch (t.StartTime = DateHandler.GetDateStr(DateHandler.GetUserTime(t.StartTime), "HH:mm:ss"),
                    t.FinishTime = DateHandler.GetDateStr(DateHandler.GetUserTime(t.FinishTime), "HH:mm:ss"),
                    e += `<td>${t.StartTime}</td>`,
                    e += `<td class="amount">${t.BetAmount.toFixed(2)} <b>${t.CurrencyCode}</b></td>`,
                    e += `<td class="amount ${t.WinAmount > 0 ? "win" : ""}">${GetNumStr(t.WinAmount)} <b>${t.CurrencyCode}</b></td>`,
                    n) {
                    case "aero":
                    case "dino":
                        e += `<td>${g(t.CurrentStateJson, "ac") || "-"}</td>`,
                        e += `<td>${g(t.CurrentStateJson, "c") || "-"}</td>`;
                        const n = g(t.CurrentStateJson, "fn");
                        e += `<td>${n.length > 0 ? parseFloat(n).toFixed(2) : "-"}</td>`;
                        break;
                    case "blackjack":
                        let r = GetFloatString(t.WinAmount / t.BetAmount);
                        e += `<td>${r > 0 ? r : "-"}</td>`;
                        break;
                    case "teleport":
                        e += `<td>${g(t.CurrentStateJson, "RWC") || "-"}</td>`;
                        break;
                    case "chicken":
                    case "rabbit":
                    case "icefield":
                    case "popcorn":
                        e += `<td>${GetNumStr(g(t.CurrentStateJson, "tc"), 2) || "-"}</td>`;
                        break;
                    case "plinko":
                    case "ladder":
                        e += `<td>${g(t.CurrentStateJson, "W") || "-"}</td>`;
                        break;
                    case "limbo":
                        e += `<td>${g(t.CurrentStateJson, "tm") || "-"}</td>`,
                        e += `<td>${g(t.CurrentStateJson, "n") || "-"}</td>`;
                        break;
                    case "frog":
                        e += `<td>${g(t.CurrentStateJson, "wc") || "-"}</td>`,
                        e += `<td>${g(t.CurrentStateJson, "r", ["LOW", "MEDIUM", "HIGH"]) || "-"}</td>`;
                        break;
                    case "wheel":
                        e += `<td>${g(t.CurrentStateJson, "WC") || "-"}</td>`,
                        e += `<td>${g(t.CurrentStateJson, "R", ["LOW", "MEDIUM", "HIGH"]) || "-"}</td>`;
                        break;
                    case "keno40":
                        e += `<td>${g(t.CurrentStateJson, "rwc") || "-"}</td>`,
                        e += `<td>${g(t.CurrentStateJson, "r", ["CLASSIC", "LOW", "MEDIUM", "HIGH"]) || "-"}</td>`;
                        break;
                    case "hilo":
                        try {
                            const e = {
                                HIGH: 0,
                                LOW: 1,
                                SAME: 2,
                                HIGH_SAME: 3,
                                LOW_SAME: 4,
                                SKIP: 5,
                                CASHOUT: 6
                            }
                              , n = JSON.parse(t.CurrentStateJson).i;
                            let r = n.length - 1
                              , i = n.slice(0, r).map((function(t) {
                                switch (t.a) {
                                case e.HIGH:
                                    return t.cf.HIGH;
                                case e.HIGH_SAME:
                                    return t.cf.HIGH_SAME;
                                case e.SAME:
                                    return t.cf.SAME;
                                case e.LOW_SAME:
                                    return t.cf.LOW_SAME;
                                case e.LOW:
                                    return t.cf.LOW;
                                case e.SKIP:
                                    return t.cf.SKIP
                                }
                            }
                            )).reduce(((t,e)=>t * e), 1);
                            i = GetNumStr(i),
                            t.Coef = i,
                            t.Coef = null === t.Coef ? "" : t.Coef
                        } catch (e) {
                            t.Coef = ""
                        }
                        e += `<td>${t.Coef || "-"}</td>`;
                        break;
                    case "dice":
                        e += `<td>${GetNumStr(g(t.CurrentStateJson, "rwc")) || "-"}</td>`,
                        e += `<td>${g(t.CurrentStateJson, "wc") || "-"}</td>`,
                        e += `<td>${parseInt(g(t.CurrentStateJson, "rn")) || "-"}</td>`;
                        break;
                    case "roulette":
                        let i = GetFloatString(t.WinAmount / t.BetAmount);
                        e += `<td>${i > 0 ? i : "-"}</td>`
                    }
                    return e += `<tr class="bet-history-content" betguid="${t.GUID}">\n      <td colspan="10">\n        <div class="bet-history-view" betguid="${t.GUID}">\n        </div>\n      </td>\n    </tr>`,
                    e
                }
                function g(t, e, n=null) {
                    let r = "";
                    try {
                        r = JSON.parse(t)[e],
                        r = null == r ? "" : null == n ? r : n[r]
                    } catch (t) {
                        r = ""
                    }
                    return r
                }
                function y(t) {
                    let e = ""
                      , r = [{
                        trans_key: "common__start",
                        text: "Start"
                    }, {
                        trans_key: "common__bet",
                        text: "Bet"
                    }, {
                        trans_key: "common__win",
                        text: "Win"
                    }];
                    switch (n) {
                    case "aero":
                    case "dino":
                        r.push({
                            trans_key: "common__auto_cashout",
                            text: "Auto Cashout"
                        }, {
                            trans_key: "common__cashout",
                            text: "Cashout"
                        }, {
                            trans_key: "common__final_number",
                            text: "Final Number"
                        });
                        break;
                    case "blackjack":
                    case "roulette":
                    case "roulette_virtual":
                        r.push({
                            trans_key: "common__coef",
                            text: "Coef"
                        });
                        break;
                    case "chicken":
                    case "rabbit":
                    case "teleport":
                    case "icefield":
                    case "plinko":
                    case "popcorn":
                        r.push({
                            trans_key: "common__coef",
                            text: "Coef"
                        });
                        break;
                    case "limbo":
                        r.push({
                            trans_key: "common__multiplier",
                            text: "Multiplier"
                        }, {
                            trans_key: "common__number",
                            text: "Final Number"
                        });
                        break;
                    case "keno40":
                    case "wheel":
                    case "frog":
                        r.push({
                            trans_key: "common__coef",
                            text: "Coef"
                        }, {
                            trans_key: "common__risk",
                            text: "Risk"
                        });
                        break;
                    case "hilo":
                        r.push({
                            trans_key: "common__coef",
                            text: "Coef"
                        });
                        break;
                    case "dice":
                        r.push({
                            trans_key: "common__coef",
                            text: "Coef"
                        }, {
                            trans_key: "common__multiplier",
                            text: "Multiplier"
                        }, {
                            trans_key: "common__number",
                            text: "Final Number"
                        })
                    }
                    e += "<tr>";
                    for (let t = 0; t < r.length; t++)
                        e += `<th><span data-trans="${r[t].trans_key}">${r[t].text}</span></th>`;
                    return e += "</tr>",
                    e
                }
                function b(t) {
                    let e = "";
                    for (var n in t)
                        e += v(t[n]);
                    return e
                }
                function x(t) {
                    let e = ""
                      , n = ""
                      , r = t.WinAmount;
                    t.HiddenWinAmount && (r -= t.HiddenWinAmount),
                    r && (n = GetFloatString(r / t.BetAmount));
                    let i = r > t.BetAmount ? "win" : ""
                      , s = DateHandler.GetUserTime(t.BetTime);
                    return e += `\n                <div bid='${t.GUID}' bam='${t.BetAmount}' class='tb-row ${i}'>\n                    <div class="col-1" title="${DateHandler.GetDateStr(s, "HH:mm:ss")}">\n                      ${DateHandler.GetDateStr(s, "HH:mm:ss")}\n                    </div>\n                    <div class='col-2 num-td' title="${GetNumStr(t.BetAmount)}">\n                        <span>${GetNumStr(t.BetAmount)}</span>\n                    </div>\n                    <div class='col-3 num-td' title="${r ? n : "-"}">\n                        <span class='won-amount'>${r ? n : "-"}</span>       \n                    </div>\n                    <div class='col-4 num-td win-td ${i ? "won-bet" : ""}'  title="${r ? GetNumStr(r) : "-"}">\n                        <span class='won-amount'>${r ? GetNumStr(r) : "-"}</span>\n                    </div>\n                    <div style='col-5' title="${t.CurrencyCode}">\n                      <span class='currency'>&nbsp;${t.CurrencyCode}</span>\n                  </div>\n                </div>`,
                    DateHandler.GetDateStr(o, "yyyyMMdd") != DateHandler.GetDateStr(s, "yyyyMMdd") && (e += `<div class='tb-row'>${DateHandler.GetDateStr(o || s, "yyyy-MM-dd")}</div>`),
                    o = s,
                    e
                }
                function T(t, e=!1) {
                    let n = []
                      , r = ""
                      , i = UGG.getUser();
                    if (1 == e) {
                        let e = t.filter((t=>!1 === t.Finished));
                        e.sort(((t,e)=>t.BetAmount < e.BetAmount ? 1 : e.BetAmount < t.BetAmount ? -1 : 0));
                        let r = [];
                        for (let t = e.length - 1; t >= 0; t--)
                            e[t].UserGUID == i.GUID && (r.push(e.splice(t, 1)[0]),
                            console.log(e[t]));
                        let o = t.filter((t=>!0 === t.Finished));
                        o.sort(((t,e)=>t.WinAmount < e.WinAmount ? 1 : e.WinAmount < t.WinAmount ? -1 : 0));
                        let s = [];
                        for (let t = o.length - 1; t >= 0; t--)
                            o[t].UserGUID == i.GUID && s.push(o.splice(t, 1)[0]);
                        n = r.concat(e).concat(s).concat(o)
                    } else
                        n = t;
                    for (var o in n) {
                        let t = n[o];
                        var s = "";
                        t.WinAmount && (s = GetNumStr(t.WinAmount / t.BetAmount));
                        let e = t.WinAmount ? "win" : ""
                          , a = t.UserGUID == i.GUID ? "mybet" : ""
                          , u = a ? i.UserName : t.DisplayUserName;
                        _.CheckIfSkip(t) || (r += `\n                <div bid='${t.GUID}' bam='${t.BetAmount}' class='tb-row ${e} ${a}'>\n                    <div class="col-1" title="${u || "-"}">\n                      <span>${u || "-"}</span>\n                    </div>\n                    <div class='col-2 num-td' title="${GetNumStr(t.BetAmount)}">\n                        <span>${GetNumStr(t.BetAmount)}</span>\n                    </div>\n                    <div class='col-3 num-td' title="${t.WinAmount ? s : "-"}">\n                        ${t.WinAmount ? `<span class='coef'>${s}</span>` : "-"}\n                    </div>\n                    <div class='col-4 num-td win-td ${t.WinAmount ? "won-bet" : ""}' title="${t.WinAmount ? GetNumStr(t.WinAmount) : "-"}">\n                        ${t.WinAmount ? `<span class='won-amount'>${GetNumStr(t.WinAmount)}</span>` : "-"}\n                    </div>\n                    <div style='col-5' title="${t.CurrencyCode}">\n                        <span class='currency'>&nbsp;${t.CurrencyCode}</span>\n                    </div>\n                </div>\n            `)
                    }
                    return r
                }
                function E(t) {
                    h.html(t)
                }
                function A(t) {
                    let e = t.BonusGUID ? '<i class="bonus">Bonus</i>' : "";
                    t.FreeBet && (e += '<i class="freebet">Freebet</i>');
                    let n = t.Amount;
                    return t.HiddenAmount && (n -= t.HiddenAmount,
                    n = Math.max(n, 0)),
                    `<b>${t.CurrencyCode}</b> ${e} <span>${GetNumStr(n)}</span>`
                }
                function S(t) {
                    var e = UGG.getUser();
                    return t.UserGUID == e.GUID && (t.DisplayUserName = e.UserName),
                    `<li class='message-container'>\n            <span class='sender-name'>${t.DisplayUserName}: </span>\n            <span class='message'>${t.Message}</span>\n        </li>`
                }
                const w = t=>{
                    let n = 0;
                    $("#active-wallet").html(A(t)),
                    e && (n = e.filter((t=>t.FreeBet)).length),
                    e && n && !t.FreeBet ? u.find("i.freebet").html(n).end().show() : u.find("i.freebet").html(n).end().hide(),
                    $(`#user-wallets [data-uniqueid="${t.UniqueID}"]`).remove(),
                    t.FreeBet ? (console.log(t.FreeBet),
                    $(".bet-wrapper input").val(t.FreeBet.MinBetAmount),
                    k($(".bet-wrapper .input-amount"), t.FreeBet.MinBetAmount, t.FreeBet.MaxBetAmount),
                    t.FreeBet.MinBetAmount == t.FreeBet.MaxBetAmount && (R(!0),
                    $(".bet-wrapper").attr("freebet", !0))) : 1 == $(".bet-wrapper").attr("freebet") && ($(".bet-wrapper").removeAttr("freebet"),
                    R(!1)),
                    $(".bet-wrapper input").trigger("change"),
                    $("[dynamic-currency]").text(t.CurrencyCode)
                }
                  , R = t=>{
                    t ? ($(".bet-wrapper").addClass("disabled"),
                    $(".bet-wrapper input").attr("disabled", "disabled")) : ($(".bet-wrapper").removeClass("disabled"),
                    $(".bet-wrapper input").attr("disabled", "disabled"))
                }
                  , O = ()=>{
                    if (!l.length)
                        return;
                    const t = UGG.getUser()
                      , e = l[c];
                    e.Banner && $(".race-rating").css("background-image", "url(" + e.Banner.image + ")");
                    let n = new Date(e.EndTime);
                    null !== p && p.timer.stop(),
                    (p = Tick.count.down(n)).onupdate = t=>{
                        d.value = t
                    }
                    ;
                    let r = 0;
                    $(".race-rating table tbody").empty();
                    for (var i = 0; i < e.Items.length; i++) {
                        r++;
                        let n = e.Items[i];
                        n.UserGuid == t.GUID && (n.UserName = t.UserName),
                        $(".race-rating table tbody").append(`<tr>\n              <td>${r}.</td>\n              <td>${n.UserName || ""}</td>\n              <td>${n.Points || ""}</td>\n              <td>${n.RewardAmount} ${e.RewardCurrencyCode}</td>\n            </tr>`)
                    }
                    for (var o = r; o <= 10; o++)
                        $(".race-rating table tbody").append("<tr>\n              <td></td>\n              <td></td>\n              <td></td>\n              <td></td>\n            </tr>");
                    $(".race-rating table tbody").append(`<tr class="my-race" data-race-item-id="${e.RaceItemID}">\n          <td></td>\n          <td></td>\n          <td></td>\n          <td></td>\n        </tr>`),
                    $(".race-rating").css("display", "flex").removeClass("loading")
                }
                ;
                $("div#user-wallets").on("click", "li", (function() {
                    UGG.setActiveWalletAsync($(this).data("uniqueid"))
                }
                )),
                UGG.on("user.wallets", (function(t) {
                    console.log("user.wallets", t),
                    (t=>{
                        e = t;
                        let n = "<ul>";
                        t && t.length > 1 ? (e.forEach((t=>{
                            n += `<li data-UniqueID='${t.UniqueID}'>${A(t)}</li>`
                        }
                        )),
                        $(".wallet-wrapper").removeClass("single")) : $(".wallet-wrapper").addClass("single"),
                        n += "</ul>",
                        s.html(n)
                    }
                    )(t);
                    var n = UGG.getActiveWallet();
                    s.removeClass("active"),
                    w(n)
                }
                )),
                UGG.on("chat.message", (function(t) {
                    $(".chat-container").append(S(t)),
                    $(".chat-message-container").animate({
                        scrollTop: $(".chat-container")[0].scrollHeight
                    }, 500)
                }
                )),
                UGG.on("game.state.set", (function(e) {
                    console.log("game.state.set", e),
                    i || (i = !0,
                    e.LiveTableID ? (t.addClass("live-table"),
                    $(".my-bets>.my-bets-header>.current-bets").click()) : $(".my-bets>.my-bets-header>.my-bets").click());
                    var n = UGG.getBetLimits();
                    $(".bet-limit-min").html(n.MinBet.toFixed(2) + " " + `<b>${n.CurrencyCode}</b>`),
                    $(".bet-limit-max").html(n.MaxBet.toFixed(2) + " " + `<b>${n.CurrencyCode}</b>`),
                    $(".bet-limit-max-profit").html(n.MaxProfit.toFixed(2) + " " + `<b>${n.CurrencyCode}</b>`),
                    e.FreeBets && e.FreeBets.forEach((t=>{}
                    )),
                    setTimeout((()=>{
                        const t = $('.bet-wrapper input[type="number"]');
                        for (let e = 0; e < t.length; e++) {
                            const r = $(t[e]);
                            parseFloat(r.val()) < n.MinBet && (r.attr("value", n.MinBet.toFixed(2)),
                            r.val(n.MinBet).trigger("change")),
                            parseFloat(r.val()) > n.MaxBet && (r.attr("value", n.MaxBet.toFixed(2)),
                            r.val(n.MaxBet).trigger("change")),
                            k(r.closest(".input-amount"), n.MinBet, n.MaxBet)
                        }
                    }
                    ), 0)
                }
                )),
                UGG.on("game.races.set", (function(t) {
                    console.log("game.races.set", t),
                    l = t,
                    l.length > 1 ? $(".race-nav").show() : $(".race-nav").hide(),
                    $(".full-loader").remove(),
                    O()
                }
                )),
                UGG.on("game.racepoint.set", (function(t) {
                    console.log("game.racepoint.set", t);
                    let e = UGG.getUser();
                    for (let i = 0; i < t.length; i++) {
                        var n = $(`.my-race[data-race-item-id="${t[i].RaceItemID}"]`);
                        const o = l.find((e=>e.RaceItemID == t[i].RaceItemID));
                        if (o && o.Items.some((t=>t.UserGuid == e.GUID)))
                            n.fadeTo(0, 0);
                        else {
                            var r = n.fadeTo(0, 1).find("td");
                            $(r[0]).html(t[i].Place + "."),
                            $(r[1]).html(e.UserName),
                            $(r[2]).html(t[i].Points),
                            t[i].RewardAmount && $(r[3]).html(t[i].RewardAmount)
                        }
                    }
                }
                )),
                UGG.on("game.banner.set", (function(t) {
                    if (console.log("game.banner.set", t),
                    $(".full-loader").remove(),
                    $(".banners-wrapper").css("display", "flex").removeClass("loading"),
                    t && t.length)
                        try {
                            var e = {
                                class: "banner",
                                target: "_blank"
                            };
                            t[0].url && t[0].url.length > 0 && (e.href = t[0].url),
                            $("<a>", e).css("background-image", "url(" + t[0].image + ")").appendTo(".banners-wrapper")
                        } catch (t) {}
                }
                )),
                UGG.on("game.unavailable_by_country.set", (function(t) {
                    $("#popups").addClass("country-restricted"),
                    $("body").addClass("disable-actions")
                }
                ));
                const I = ()=>{
                    var t = $(".live-chat textarea[name=new-message]")
                      , e = t.val();
                    e && UGG.sendMessageAsync(e).then((()=>{
                        t.val("")
                    }
                    ))
                }
                ;
                function C() {
                    $("#popup-rules").find(".popup-body").end().fadeIn("fast");
                    const t = UGG.getBetLimits();
                    $("#rulesPopupCurrency").text(t.CurrencyCode),
                    $("#rulesPopupMinBet").text(t.MinBet.toFixed(2)),
                    $("#rulesPopupMaxBet").text(t.MaxBet.toFixed(2)),
                    $("#rulesPopupMaxProfit").text(t.MaxProfit.toFixed(2)),
                    "dino" !== n && "aero" !== n && $("#rulesRTP").text(`${TRANS.byAnyKey("rules_rtp")} ${100 * UGG.getGameState().RTP}%`)
                }
                $(".live-chat form").on("submit", (function(t) {
                    t.preventDefault(),
                    I()
                }
                )),
                $(".live-chat form textarea").on("keydown", (function(t) {
                    13 == t.keyCode && (t.preventDefault(),
                    I())
                }
                )),
                a.hover((()=>{
                    s.addClass("active")
                }
                ), (()=>{
                    s.removeClass("active")
                }
                )),
                u.on("click", (()=>{
                    s.toggleClass("active")
                }
                )),
                a.on("click", (()=>{
                    s.toggleClass("active")
                }
                )),
                $("#racing-btn").on("click", (()=>{
                    $("main").toggleClass("racing")
                }
                )),
                $("#race-close").on("click", (()=>{
                    $("main").removeClass("racing")
                }
                )),
                $(".racing-btn-rightbar").on("click", (()=>{
                    $("main").addClass("racing"),
                    $(".rightbar").addClass("hidden"),
                    $("main .right-section .section-body").removeClass("active")
                }
                )),
                $("#race-prev").on("click", (()=>{
                    var t = Math.max(c - 1, 0);
                    t != c && (c = t,
                    O())
                }
                )),
                $("#race-next").on("click", (()=>{
                    var t = Math.min(c + 1, l.length - 1);
                    t != c && (c = t,
                    O())
                }
                )),
                $(".popup-close").on("click", (function() {
                    $(this).closest(".popup-wrapper").hide()
                }
                )),
                $(".rules-show").on("click", C),
                $("#rules-wrapper").find(".link").on("click", C);
                var D = $("#popup-my-bets-history").find(".popup-body");
                $("#my-bets-history").on("click", (function() {
                    $(".rightbar").addClass("hidden");
                    var t = new Date;
                    t.setMonth(m.getMonth() - 3),
                    $(".bets-history-from").val(t.toISOString().substr(0, 10)),
                    $(".bets-history-to").val(m.toISOString().substr(0, 10)),
                    D.end().fadeIn("fast"),
                    D.find("tbody").empty(),
                    UGG.getUserBetHistory().then((t=>{
                        f = t;
                        var e = b(t);
                        D.find("tbody").html(e),
                        D.find("thead").html(y())
                    }
                    ))
                }
                )),
                $("#bet-history-filter").on("click", (function() {
                    D.find("tbody").empty();
                    var t = new Date($("#bet-history-to").val());
                    t.setTime(t.getTime() + 864e5),
                    t = t.toISOString().substr(0, 10),
                    UGG.getUserBetHistory({
                        FromDate: $("#bet-history-from").val(),
                        ToDate: t
                    }).then((t=>{
                        f = t;
                        var e = b(t);
                        D.find("tbody").html(e),
                        D.find("thead").html(y())
                    }
                    ))
                }
                ));
                const M = [];
                $("#popup-my-bets-history.popup-wrapper").on("click", (t=>{
                    const e = $($(t.target).closest(".bet-history-item"));
                    if (e.length) {
                        const t = e.attr("betguid")
                          , i = $(`.bet-history-content[betguid="${e.attr("betguid")}"]`)
                          , o = $(".bet-history-view", i);
                        if (i.hasClass("visible")) {
                            e.removeClass("visible"),
                            i.removeClass("visible"),
                            i.height(0);
                            for (let e = 0; e < M.length; e++)
                                M[e].guid == t && M.splice(e, 1).length && (o.html(""),
                                window.removeEventListener("resize", r))
                        } else if (o.length && window.drawBetHistoryView) {
                            e.addClass("visible"),
                            i.addClass("visible");
                            const s = f.filter((e=>e.GUID == t))[0];
                            M.push({
                                guid: t,
                                app: window.drawBetHistoryView(o[0], n, s)
                            }),
                            window.addEventListener("resize", r)
                        }
                        function r() {
                            const e = M.filter((e=>e.guid == t));
                            e.length && e[0].app && e[0].app.resize()
                        }
                    }
                }
                ));
                let P = $("<div>").attr({
                    id: "game-time"
                }).html("0").appendTo($("header .game-time-wrapper"));
                setInterval((function() {
                    if (window.location.href.indexOf("onyxion.games") < 0) {
                        let r = parseInt((new Date - m) / 1e3);
                        var t = (r % 60 / 100).toFixed(2).split(".")[1]
                          , e = (Math.floor(r % 3600 / 60) / 100).toFixed(2).split(".")[1]
                          , n = (Math.floor(r % 216e3 / 3600) / 100).toFixed(2).split(".")[1];
                        P.html(`${n}:${e}:${t}`)
                    } else {
                        const t = new Date;
                        P.html(`${("0" + t.getHours()).slice(-2)}:${("0" + t.getMinutes()).slice(-2)}:${("0" + t.getSeconds()).slice(-2)}`)
                    }
                }
                ), 1e3);
                var N = ""
                  , B = ""
                  , L = ""
                  , F = "";
                const G = ()=>{
                    N = "",
                    $("body").addClass("trans-ui"),
                    $("[data-trans]").on("click", (function() {
                        navigator.clipboard.writeText($(this).data("trans").split("__")[1]);
                        var t = $("<div>").attr({
                            class: "trans-wrapper"
                        }).on("click", (function() {}
                        ));
                        t.appendTo($("body")),
                        t.html($(this).data("trans") + "<br><br>" + TRANS.byKey($(this).data("trans")))
                    }
                    ))
                }
                ;
                function k(t, e=null, n=null) {
                    setTimeout((()=>{
                        const r = $("input", t)
                          , i = UGG.getBetLimits()
                          , o = null != e ? e : i.MinBet
                          , s = null != n ? n : i.MaxBet;
                        parseFloat(r.val()) <= o ? ($(".input-btn.minus", t).addClass("edge"),
                        $(".input-btn.plus", t).removeClass("edge")) : parseFloat(r.val()) >= s ? ($(".input-btn.minus", t).removeClass("edge"),
                        $(".input-btn.plus", t).addClass("edge")) : ($(".input-btn.minus", t).removeClass("edge"),
                        $(".input-btn.plus", t).removeClass("edge"))
                    }
                    ), 0)
                }
                function U() {
                    const t = HowlerSoundManager.sounds
                      , e = $($(".audio-controller-container")[0]);
                    if (e.hasClass("visible")) {
                        e.html("");
                        for (let n in t)
                            e.append(`\n          <div class="audio-item" data-key="${t[n].key}">\n            <div class="volume-input">\n              <span>\n                ♬ ${t[n].key}\n              </span>\n              <input type="number" data-key="${t[n].key}" value="${t[n].volume}"></input>\n              <span class="input-placeholder">volume [0-1]</span>\n            </div>\n            <input type="file" data-key="${t[n].key}" label></input>\n            <div class="update-audio-btn">update</div>\n          </div>\n        `)
                    }
                }
                $(document).on("keyup", (function(t) {
                    27 == t.which && $(".trans-wrapper").remove(),
                    t.shiftKey && (187 === t.which ? N += "+" : N = "",
                    189 === t.which ? B += "-" : B = "",
                    "+++" === N && G(),
                    "---" === B && ($("body").removeClass("trans-ui"),
                    $("[data-trans]").off("click")),
                    65 === t.which ? L += "a" : L = "",
                    81 === t.which ? F += "q" : F = "",
                    "aaa" === L && ($(".audio-controller-wrapper").show(),
                    U()),
                    "qqq" === F && $(".audio-controller-wrapper").hide())
                }
                ));
                let X = [];
                const H = $("#mobileInputWrapper")
                  , j = $("#mobileInputValue")
                  , W = $("#mobileInputValueSufix");
                function V(t, e, n=!1) {
                    if (!J() && !Z())
                        return;
                    if ($(t.target).hasClass("input-btn"))
                        return;
                    const r = $($("input", $(t.currentTarget))[0]);
                    "number" == $("input", $(t.currentTarget))[0].type && (H.addClass("visible"),
                    $(".input-area", H).removeClass("invalid"),
                    j.text(r.val()),
                    W.text(q(r.val())),
                    n ? ($("#mobileInputCurrency").show().text(UGG.getActiveWallet().CurrencyCode),
                    $(".fixed-amount-container", H).show()) : ($("#mobileInputCurrency").hide(),
                    $(".fixed-amount-container", H).hide()),
                    X = [{
                        inputRef: r,
                        isBetInput: n,
                        limits: e,
                        action: "",
                        amount: "",
                        currentAmount: r.val(),
                        lastValue: r.val()
                    }])
                }
                function Y() {
                    H.removeClass("visible")
                }
                function z(t, e) {
                    const n = parseFloat(t)
                      , r = $(".input-area", H);
                    if (n >= e.MinBet && n <= e.MaxBet) {
                        const e = t.split(".");
                        return e.length > 1 && e[1].length > 2 ? (r.addClass("invalid"),
                        !1) : (r.removeClass("invalid"),
                        !0)
                    }
                    return r.addClass("invalid"),
                    !1
                }
                function q(t) {
                    const e = t.split(".");
                    return 1 == e.length ? ".00" : e[1].padStart(2, "0").replace(e[1], "")
                }
                function K(t, e) {
                    let n = "";
                    if ("0" == e)
                        n += t;
                    else {
                        if ("." == t && e.indexOf(".") >= 0)
                            return e;
                        n = e + t
                    }
                    return n
                }
                function J() {
                    return /iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())
                }
                function Z() {
                    return /ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())
                }
                function Q() {
                    J() || Z() ? $('input[type="number"]').attr("readonly", "readonly") : $('input[type="number"]').removeAttr("readonly")
                }
                function tt(t, e) {
                    return t = Math.ceil(t),
                    e = Math.floor(e),
                    Math.floor(Math.random() * (e - t) + t)
                }
                return {
                    init: function(t, e) {
                        n = t,
                        r = e || n,
                        (()=>{
                            const t = $("header > .wrapper > .main-content");
                            let e = t.find("div#game-name");
                            e.length ? e.html(r) : e = $("<div>").attr({
                                id: "game-name"
                            }).html(r).prependTo(t)
                        }
                        )(),
                        (()=>{
                            const t = UGG.queryString;
                            if (!t || !t.exit_url && "show" != t.showbackbutton)
                                return;
                            const e = $("header > .wrapper > .main-content");
                            e.addClass("with-back-button"),
                            $("<div>").attr({
                                id: "backToHome",
                                class: "back-to-home"
                            }).prependTo(e).on("pointerdown", (()=>{
                                if (null != t.showbackbutton && "show" == t.showbackbutton)
                                    try {
                                        window.self !== window.top && window.parent.postMessage({
                                            event: "BackEventFromGame",
                                            game: n
                                        }, "*")
                                    } catch (t) {}
                                t.exit_url && (window.location.href = t.exit_url)
                            }
                            ))
                        }
                        )(),
                        (()=>{
                            const t = UGG.queryString;
                            t.enable_deposit && "true" == t.enable_deposit && ($("#makeDepositButton").show(),
                            t.deposit_url && "" != t.deposit_url ? $("#makeDepositButton a").attr("href", t.deposit_url) : $("#makeDepositButton").on("pointerdown", (()=>{
                                console.error("listen from iframe this postMessage: ", "{event: MakeDeposit, game: _gamename}", "end redirect me to correct deposit page");
                                try {
                                    window.self !== window.top && window.parent.postMessage({
                                        event: "MakeDeposit",
                                        game: n
                                    }, "*")
                                } catch (t) {}
                            }
                            )))
                        }
                        )(),
                        $("#popup-rules div[data-trans]").each(((t,e)=>{
                            0 != (e = $(e)).attr("data-trans").indexOf("common__") && e.attr("data-trans", `${n}__${e.attr("data-trans")}`)
                        }
                        )),
                        PG.InitDom(t),
                        function() {
                            $(".bet-wrapper .input-btn.minus").on("click", (function(t) {
                                const e = $(this).closest(".input-amount")
                                  , n = $("input[name=bet-amount]", e)
                                  , r = UGG.getBetLimits();
                                let i = parseFloat(n.val());
                                i && (i = i <= 1 ? Math.round(1e3 * (i - r.MinBet)) / 1e3 : Math.round(1e3 * (i - UGG.getStepAmount(i, !1))) / 1e3,
                                i < r.MinBet && (i = r.MinBet),
                                n.val(i).trigger("change"),
                                k(e))
                            }
                            )),
                            $(".bet-wrapper .input-btn.plus").on("click", (function(t) {
                                const e = $(this).closest(".input-amount")
                                  , n = $("input[name=bet-amount]", e)
                                  , r = UGG.getBetLimits();
                                let i = parseFloat(n.val());
                                i && (i = i < 1 ? Math.round(1e3 * (i + r.MinBet)) / 1e3 : Math.round(1e3 * (i + UGG.getStepAmount(i, !0))) / 1e3,
                                i > r.MaxBet && (i = r.MaxBet),
                                n.val(i).trigger("change"),
                                k(e))
                            }
                            )),
                            $(".bet-wrapper input[type='number']").on("focusout", (function() {
                                const t = $(this).val();
                                "" == t || parseFloat(t) < UGG.getBetLimits().MinBet ? $(this).val(UGG.getBetLimits().MinBet).trigger("change") : parseFloat(t) > UGG.getBetLimits().MaxBet && $(this).val(UGG.getBetLimits().MaxBet).trigger("change"),
                                k($(this).closest(".input-amount"))
                            }
                            )),
                            $("input").keypress((function(t) {
                                13 == t.which && ($(this).blur(),
                                k($(this).closest(".input-amount")))
                            }
                            )),
                            setTimeout((()=>{
                                Q()
                            }
                            ), 0),
                            $(window).on("resize", (t=>{
                                Q()
                            }
                            )),
                            $(".bet-wrapper .input-amount").on("click", (t=>{
                                V(t, UGG.getBetLimits(), !0)
                            }
                            )),
                            $(".background", H).on("click", (t=>{
                                Y()
                            }
                            )),
                            $("*[action]", H).on("click", (t=>{
                                !function(t) {
                                    const e = $(t.currentTarget)
                                      , n = X[0].limits;
                                    let r = j.text();
                                    switch (e.attr("action")) {
                                    case "f1":
                                        if ("f1" == X[X.length - 1].action)
                                            return;
                                        r = e.attr("amount");
                                        break;
                                    case "f2":
                                        if ("f2" == X[X.length - 1].action)
                                            return;
                                        r = e.attr("amount");
                                        break;
                                    case "f3":
                                        if ("f3" == X[X.length - 1].action)
                                            return;
                                        r = e.attr("amount");
                                        break;
                                    case "f4":
                                        if ("f4" == X[X.length - 1].action)
                                            return;
                                        r = Math.min(UGG.getActiveWallet().Amount, UGG.getBetLimits().MaxBet).toFixed(2);
                                        break;
                                    case "1":
                                    case "2":
                                    case "3":
                                    case "4":
                                    case "5":
                                    case "6":
                                    case "7":
                                    case "8":
                                    case "9":
                                    case "0":
                                        r = K(e.attr("action"), 1 == X.length || "f1" == X[X.length - 1].action || "f2" == X[X.length - 1].action || "f3" == X[X.length - 1].action || "f4" == X[X.length - 1].action ? "0" : r);
                                        break;
                                    case ".":
                                        if (r.indexOf(".") >= 0)
                                            return;
                                        r = K(e.attr("action"), 1 == X.length ? "0" : r);
                                        break;
                                    case "undo":
                                        if ("" == X[X.length - 1].action)
                                            return;
                                        return j.text(X[X.length - 1].lastValue),
                                        W.text(q(X[X.length - 1].lastValue)),
                                        X.splice(X.length - 1, 1),
                                        z(X[X.length - 1].lastValue, n),
                                        void console.log(X);
                                    case "reset":
                                        return j.text(X[0].lastValue),
                                        W.text(q(X[0].lastValue)),
                                        X.splice(1, X.length - 1),
                                        z(X[0].lastValue, n),
                                        void console.log(X);
                                    case "cancel":
                                        return void Y();
                                    case "done":
                                        if (!z(X[X.length - 1].currentAmount, n))
                                            return;
                                        Y(),
                                        X[0].inputRef.val(X[X.length - 1].currentAmount).trigger("change")
                                    }
                                    j.text(r),
                                    W.text(q(r)),
                                    X.push({
                                        action: e.attr("action"),
                                        amount: e.attr("amount"),
                                        currentAmount: r,
                                        lastValue: X[X.length - 1].currentAmount
                                    }),
                                    z(r, n)
                                }(t)
                            }
                            ));
                            const t = $($(".audio-controller-container")[0]);
                            $(".audio-controller-toggle-btn").on("click", (()=>{
                                t.toggleClass("visible"),
                                U()
                            }
                            )),
                            t.on("click", (function(t) {
                                if ($(t.target).hasClass("audio-item")) {
                                    const e = $(t.target).text();
                                    console.log(e)
                                }
                                if ($(t.target).hasClass("update-audio-btn")) {
                                    const e = $($(t.target).closest(".audio-item"))
                                      , n = e.attr("data-key")
                                      , r = $("input[type='file']", e)[0].files[0]
                                      , i = new FileReader;
                                    i.addEventListener("load", (()=>{
                                        const t = i.result;
                                        HowlerSoundManager.replaceSound(n, t, $("input[type='number']", e)[0].value)
                                    }
                                    )),
                                    i.readAsDataURL(r)
                                }
                            }
                            )),
                            $("body").on("dragover", (function(t) {
                                t.preventDefault(),
                                t.stopPropagation()
                            }
                            )),
                            $("body").on("dragenter", (function(t) {
                                t.preventDefault(),
                                t.stopPropagation()
                            }
                            )),
                            $("body").on("drop", (function(t) {
                                if (t.originalEvent.dataTransfer && t.originalEvent.dataTransfer.files.length) {
                                    t.preventDefault(),
                                    t.stopPropagation();
                                    const e = t.originalEvent.dataTransfer.files;
                                    for (let t = 0; t < e.length; t++)
                                        if (e[t].type.indexOf("audio") >= 0) {
                                            const n = e[t]
                                              , r = e[t].name.slice(0, e[t].name.length - 4)
                                              , i = new FileReader;
                                            i.addEventListener("load", (()=>{
                                                const t = i.result;
                                                HowlerSoundManager.replaceSound(r, t)
                                            }
                                            )),
                                            i.readAsDataURL(n)
                                        }
                                    U()
                                }
                            }
                            )),
                            $("#insufficientBalanceCloseBtn").on("click", (()=>{
                                UI.showInsufficientBalance(!1)
                            }
                            ))
                        }()
                    },
                    drawCurrentBets: function(t) {
                        t.length ? E(t.length) : E(""),
                        $(".current-bets-container .tb-body").html(T(t, !0))
                    },
                    drawMyBets: function(t) {
                        o = null,
                        $(".my-bets-container .tb-body").html(function(t) {
                            let e = "";
                            for (var n in t.reverse())
                                e = x(t[n]) + e;
                            return e
                        }(t))
                    },
                    drawMyNewBet: function(t) {
                        const e = x(t);
                        $(".my-bets-container .tb-body").prepend(e)
                    },
                    redrawMyBet: function(t) {
                        const e = x(t);
                        let n = $(`.my-bets-container div[bid="${t.GUID}"]`);
                        n && n.replaceWith(e)
                    },
                    drawHighrollerBets: function(t) {
                        $(".highroller-bets-container .tb-body").html(T(t))
                    },
                    drawChatHistory: t=>{
                        if (!t)
                            return null;
                        t.sort((function(t, e) {
                            return new Date(t.CreateTime) - new Date(e.CreateTime)
                        }
                        ));
                        var e = "";
                        t.forEach((t=>{
                            e += S(t)
                        }
                        )),
                        $(".chat-container").html(e),
                        $(".chat-message-container").animate({
                            scrollTop: $(".chat-container")[0].scrollHeight
                        }, 500)
                    }
                    ,
                    addHiddenAmount: t=>{
                        let e = UGG.getActiveWallet();
                        e.FreeBet || (e.HiddenAmount || (e.HiddenAmount = 0),
                        e.HiddenAmount += t,
                        "remove" == t && (e.HiddenAmount = 0),
                        window.parent.postMessage({
                            event_id: "update_balance",
                            data: {
                                amount: e.Amount,
                                visibleAmount: Math.max(e.Amount - e.HiddenAmount, 0),
                                hiddenamount: e.HiddenAmount,
                                currency: e.CurrencyCode
                            }
                        }, "*"),
                        w(e))
                    }
                    ,
                    lockWallets: ()=>{
                        a.addClass("lock")
                    }
                    ,
                    unlockWallets: ()=>{
                        a.removeClass("lock")
                    }
                    ,
                    currencySymbol: t=>{
                        switch (t) {
                        case "USD":
                            return "$";
                        case "EUR":
                            return "€";
                        case "GEL":
                            return "₾";
                        default:
                            return t
                        }
                    }
                    ,
                    handleRaceCountDownInit: t=>{
                        d = t;
                        var e = {
                            DAY_PLURAL: TRANS.byKey("common__ending_days", "DAYS"),
                            HOUR_PLURAL: TRANS.byKey("common__ending_hours", "HOURS"),
                            MINUTE_PLURAL: TRANS.byKey("common__ending_minutes", "MINUTES")
                        };
                        for (var n in e)
                            e.hasOwnProperty(n) && t.setConstant(n, e[n])
                    }
                    ,
                    drawError: (t,e)=>{
                        t && t.responseJSON && t.responseJSON.Error ? e ? console.error(e, t.responseJSON.Data) : console.error(t.responseJSON.Data) : e ? console.error(e, t) : console.error(t)
                    }
                    ,
                    showMobileInputView: V,
                    showInsufficientBalance: function(t) {
                        1 == t ? $("#insufficientBalanceWrapper").addClass("show") : $("#insufficientBalanceWrapper").removeClass("show")
                    },
                    getLocalStorageData: function(t, e) {
                        console.warn("getLocalStorageData: ", t);
                        try {
                            return window.localStorage ? window.localStorage.getItem(`${t}-${e}`) : null
                        } catch (t) {
                            return null
                        }
                    },
                    setLocalStorageData: function(t, e, n) {
                        console.warn("setLocalStorageData: ", t, e, n);
                        try {
                            window.localStorage && window.localStorage.setItem(`${t}-${e}`, n)
                        } catch (t) {
                            console.warn("local storage is not available!")
                        }
                    },
                    getRandomInt: tt,
                    getRandomIntsInRange: function(t, e, n) {
                        return Array.from({
                            length: n
                        }, (()=>Math.floor(Math.random() * (e - t + 1)) + t))
                    },
                    getRandomIntsUniqueInRange: function(t, e, n) {
                        n > e - t && (n = e - t);
                        const r = [];
                        for (; r.length < n; ) {
                            const n = tt(t, e);
                            -1 === r.indexOf(n) && r.push(n)
                        }
                        return r
                    },
                    isMobile: J,
                    addCustomTextMessage: function(t) {
                        !function() {
                            if (0 == $("#customMessageContainer").length) {
                                const t = $('<div id="customMessageContainer" class="custom-message-container"></div>');
                                $("body").append(t);
                                const e = $("\n      <style>\n        .custom-message-container {\n          position: fixed;\n          right: 0;\n          top: 0;\n          z-index: 99999999999999;\n          display: flex;\n          flex-direction: column;\n          font-size: 16px;\n          background-color: rgba(0, 0, 0, 0.8);\n          pointer-events: none;\n          opacity: 0.7;\n        }\n        .custom-message-container div {\n          color: #cccccc;\n          opacity: 0.8;\n          padding: 5px;\n        }\n        .custom-message-container div:first-child {\n          color: yellow;\n          opacity: 1;\n        }\n      </style>\n      ");
                                $("head").append(e)
                            }
                        }();
                        const e = $("#customMessageContainer");
                        e.prepend($(`<div>time: ${(new Date).toUTCString()}, message: ${t}</div>`)),
                        $("div", e).length > 15 && e.find("div:last").remove()
                    },
                    mainLoader: function(t) {
                        t ? $("#main-loader").fadeOut(200) : $("#main-loader").show()
                    }
                }
            }(),
            UI,
            "localhost" == window.location.hostname || window.location.hostname.indexOf("upgaming.dev") >= 0 || (console.log = ()=>{}
            ,
            console.warn = ()=>{}
            ,
            console.table = ()=>{}
            )
        }
    }
      , e = {};
    function n(r) {
        if (e[r])
            return e[r].exports;
        var i = e[r] = {
            id: r,
            loaded: !1,
            exports: {}
        };
        return t[r].call(i.exports, i, i.exports, n),
        i.loaded = !0,
        i.exports
    }
    n.n = t=>{
        var e = t && t.__esModule ? ()=>t.default : ()=>t;
        return n.d(e, {
            a: e
        }),
        e
    }
    ,
    n.d = (t,e)=>{
        for (var r in e)
            n.o(e, r) && !n.o(t, r) && Object.defineProperty(t, r, {
                enumerable: !0,
                get: e[r]
            })
    }
    ,
    n.g = function() {
        if ("object" == typeof globalThis)
            return globalThis;
        try {
            return this || new Function("return this")()
        } catch (t) {
            if ("object" == typeof window)
                return window
        }
    }(),
    n.o = (t,e)=>Object.prototype.hasOwnProperty.call(t, e),
    n.nmd = t=>(t.paths = [],
    t.children || (t.children = []),
    t),
    n(686),
    n(413),
    n(719),
    n(75),
    n(528),
    n(781),
    n(15)
}
)();
